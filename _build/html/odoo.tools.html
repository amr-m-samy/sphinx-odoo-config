<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>odoo.tools package &mdash; Amr  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=5929fcd5"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="odoo.tools.zeep package" href="odoo.tools.zeep.html" />
    <link rel="prev" title="odoo.tests package" href="odoo.tests.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Amr
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">odoo</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="odoo.html">odoo package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="odoo.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="odoo.addons.html">odoo.addons package</a></li>
<li class="toctree-l4"><a class="reference internal" href="odoo.cli.html">odoo.cli package</a></li>
<li class="toctree-l4"><a class="reference internal" href="odoo.conf.html">odoo.conf package</a></li>
<li class="toctree-l4"><a class="reference internal" href="odoo.modules.html">odoo.modules package</a></li>
<li class="toctree-l4"><a class="reference internal" href="odoo.osv.html">odoo.osv package</a></li>
<li class="toctree-l4"><a class="reference internal" href="odoo.service.html">odoo.service package</a></li>
<li class="toctree-l4"><a class="reference internal" href="odoo.tests.html">odoo.tests package</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">odoo.tools package</a></li>
<li class="toctree-l4"><a class="reference internal" href="odoo.upgrade.html">odoo.upgrade package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="odoo.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="odoo.html#module-odoo.api">odoo.api module</a></li>
<li class="toctree-l3"><a class="reference internal" href="odoo.html#module-odoo.exceptions">odoo.exceptions module</a></li>
<li class="toctree-l3"><a class="reference internal" href="odoo.html#module-odoo.fields">odoo.fields module</a></li>
<li class="toctree-l3"><a class="reference internal" href="odoo.html#module-odoo.http">odoo.http module</a></li>
<li class="toctree-l3"><a class="reference internal" href="odoo.html#module-odoo.loglevels">odoo.loglevels module</a></li>
<li class="toctree-l3"><a class="reference internal" href="odoo.html#module-odoo.models">odoo.models module</a></li>
<li class="toctree-l3"><a class="reference internal" href="odoo.html#module-odoo.netsvc">odoo.netsvc module</a></li>
<li class="toctree-l3"><a class="reference internal" href="odoo.html#module-odoo.release">odoo.release module</a></li>
<li class="toctree-l3"><a class="reference internal" href="odoo.html#module-odoo.sql_db">odoo.sql_db module</a></li>
<li class="toctree-l3"><a class="reference internal" href="odoo.html#module-odoo">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Amr</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">odoo</a></li>
          <li class="breadcrumb-item"><a href="odoo.html">odoo package</a></li>
      <li class="breadcrumb-item active">odoo.tools package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/odoo.tools.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="odoo-tools-package">
<h1>odoo.tools package<a class="headerlink" href="#odoo-tools-package" title="Link to this heading"></a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Link to this heading"></a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="odoo.tools.zeep.html">odoo.tools.zeep package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="odoo.tools.zeep.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="odoo.tools.zeep.wsdl.html">odoo.tools.zeep.wsdl package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="odoo.tools.zeep.wsdl.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="odoo.tools.zeep.wsdl.html#module-odoo.tools.zeep.wsdl.utils">odoo.tools.zeep.wsdl.utils module</a></li>
<li class="toctree-l4"><a class="reference internal" href="odoo.tools.zeep.wsdl.html#module-odoo.tools.zeep.wsdl">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="odoo.tools.zeep.wsse.html">odoo.tools.zeep.wsse package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="odoo.tools.zeep.wsse.html#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="odoo.tools.zeep.wsse.html#module-odoo.tools.zeep.wsse">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="odoo.tools.zeep.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="odoo.tools.zeep.html#module-odoo.tools.zeep.client">odoo.tools.zeep.client module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="odoo.tools.zeep.html#odoo.tools.zeep.client.Client"><code class="docutils literal notranslate"><span class="pre">Client</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="odoo.tools.zeep.html#odoo.tools.zeep.client.Client.bind"><code class="docutils literal notranslate"><span class="pre">Client.bind()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="odoo.tools.zeep.html#odoo.tools.zeep.client.Client.create_service"><code class="docutils literal notranslate"><span class="pre">Client.create_service()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="odoo.tools.zeep.html#odoo.tools.zeep.client.Client.get_type"><code class="docutils literal notranslate"><span class="pre">Client.get_type()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="odoo.tools.zeep.html#odoo.tools.zeep.client.Client.service"><code class="docutils literal notranslate"><span class="pre">Client.service</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="odoo.tools.zeep.html#odoo.tools.zeep.client.Client.type_factory"><code class="docutils literal notranslate"><span class="pre">Client.type_factory()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="odoo.tools.zeep.html#odoo.tools.zeep.client.ReadOnlyMethodNamespace"><code class="docutils literal notranslate"><span class="pre">ReadOnlyMethodNamespace</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="odoo.tools.zeep.html#odoo.tools.zeep.client.SerialProxy"><code class="docutils literal notranslate"><span class="pre">SerialProxy</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="odoo.tools.zeep.html#odoo.tools.zeep.client.SerialProxy.items"><code class="docutils literal notranslate"><span class="pre">SerialProxy.items()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="odoo.tools.zeep.html#odoo.tools.zeep.client.SerialProxy.keys"><code class="docutils literal notranslate"><span class="pre">SerialProxy.keys()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="odoo.tools.zeep.html#odoo.tools.zeep.client.SerialProxy.values"><code class="docutils literal notranslate"><span class="pre">SerialProxy.values()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="odoo.tools.zeep.html#module-odoo.tools.zeep.exceptions">odoo.tools.zeep.exceptions module</a></li>
<li class="toctree-l2"><a class="reference internal" href="odoo.tools.zeep.html#module-odoo.tools.zeep.helpers">odoo.tools.zeep.helpers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="odoo.tools.zeep.html#module-odoo.tools.zeep.ns">odoo.tools.zeep.ns module</a></li>
<li class="toctree-l2"><a class="reference internal" href="odoo.tools.zeep.html#module-odoo.tools.zeep.wsa">odoo.tools.zeep.wsa module</a></li>
<li class="toctree-l2"><a class="reference internal" href="odoo.tools.zeep.html#module-odoo.tools.zeep">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
</section>
<section id="module-odoo.tools.appdirs">
<span id="odoo-tools-appdirs-module"></span><h2>odoo.tools.appdirs module<a class="headerlink" href="#module-odoo.tools.appdirs" title="Link to this heading"></a></h2>
<p>Utilities for determining application-specific dirs.</p>
<p>See &lt;<a class="reference external" href="http://github.com/ActiveState/appdirs">http://github.com/ActiveState/appdirs</a>&gt; for details and usage.</p>
<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.appdirs.AppDirs">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.appdirs.</span></span><span class="sig-name descname"><span class="pre">AppDirs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">appname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">appauthor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roaming</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multipath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/appdirs.html#AppDirs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.appdirs.AppDirs" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Convenience wrapper for getting application dirs.</p>
<dl class="py property">
<dt class="sig sig-object py" id="odoo.tools.appdirs.AppDirs.site_config_dir">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">site_config_dir</span></span><a class="headerlink" href="#odoo.tools.appdirs.AppDirs.site_config_dir" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="odoo.tools.appdirs.AppDirs.site_data_dir">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">site_data_dir</span></span><a class="headerlink" href="#odoo.tools.appdirs.AppDirs.site_data_dir" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="odoo.tools.appdirs.AppDirs.user_cache_dir">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">user_cache_dir</span></span><a class="headerlink" href="#odoo.tools.appdirs.AppDirs.user_cache_dir" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="odoo.tools.appdirs.AppDirs.user_config_dir">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">user_config_dir</span></span><a class="headerlink" href="#odoo.tools.appdirs.AppDirs.user_config_dir" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="odoo.tools.appdirs.AppDirs.user_data_dir">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">user_data_dir</span></span><a class="headerlink" href="#odoo.tools.appdirs.AppDirs.user_data_dir" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="odoo.tools.appdirs.AppDirs.user_log_dir">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">user_log_dir</span></span><a class="headerlink" href="#odoo.tools.appdirs.AppDirs.user_log_dir" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.appdirs.site_config_dir">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.appdirs.</span></span><span class="sig-name descname"><span class="pre">site_config_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">appname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">appauthor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multipath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/appdirs.html#site_config_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.appdirs.site_config_dir" title="Link to this definition"></a></dt>
<dd><p>Return full path to the user-shared data dir for this application.</p>
<dl class="simple">
<dt>“appname” is the name of application.</dt><dd><p>If None, just the system directory is returned.</p>
</dd>
<dt>“appauthor” (only required and used on Windows) is the name of the</dt><dd><p>appauthor or distributing body for this application. Typically
it is the owning company name. This falls back to appname.</p>
</dd>
<dt>“version” is an optional version path element to append to the</dt><dd><p>path. You might want to use this if you want multiple versions
of your app to be able to run independently. If used, this
would typically be “&lt;major&gt;.&lt;minor&gt;”.
Only applied when appname is present.</p>
</dd>
<dt>“multipath” is an optional parameter only applicable to *nix</dt><dd><p>which indicates that the entire list of config dirs should be
returned. By default, the first item from <code class="docutils literal notranslate"><span class="pre">XDG_CONFIG_DIRS</span></code> is
returned, or <code class="samp docutils literal notranslate"><span class="pre">/etc/xdg/</span><em><span class="pre">AppName</span></em></code>, if <code class="docutils literal notranslate"><span class="pre">XDG_CONFIG_DIRS</span></code> is not set</p>
</dd>
</dl>
<p>Typical user data directories are:</p>
<dl class="simple">
<dt>Mac OS X</dt><dd><p>same as site_data_dir</p>
</dd>
<dt>Unix</dt><dd><p><code class="docutils literal notranslate"><span class="pre">/etc/xdg/&lt;AppName&gt;</span></code> or <code class="docutils literal notranslate"><span class="pre">$XDG_CONFIG_DIRS[i]/&lt;AppName&gt;</span></code> for each
value in <code class="docutils literal notranslate"><span class="pre">$XDG_CONFIG_DIRS</span></code></p>
</dd>
<dt>Win *</dt><dd><p>same as site_data_dir</p>
</dd>
<dt>Vista</dt><dd><p>Fail! “C:ProgramData” is a hidden <em>system</em> directory on Vista.</p>
</dd>
</dl>
<p>For Unix, this is using the <code class="docutils literal notranslate"><span class="pre">$XDG_CONFIG_DIRS[0]</span></code> default, if <code class="docutils literal notranslate"><span class="pre">multipath=False</span></code></p>
<p>WARNING: Do not use this on Windows. See the Vista-Fail note above for why.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.appdirs.site_data_dir">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.appdirs.</span></span><span class="sig-name descname"><span class="pre">site_data_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">appname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">appauthor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multipath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/appdirs.html#site_data_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.appdirs.site_data_dir" title="Link to this definition"></a></dt>
<dd><p>Return full path to the user-shared data dir for this application.</p>
<blockquote>
<div><dl class="simple">
<dt>“appname” is the name of application.</dt><dd><p>If None, just the system directory is returned.</p>
</dd>
<dt>“appauthor” (only required and used on Windows) is the name of the</dt><dd><p>appauthor or distributing body for this application. Typically
it is the owning company name. This falls back to appname.</p>
</dd>
<dt>“version” is an optional version path element to append to the</dt><dd><p>path. You might want to use this if you want multiple versions
of your app to be able to run independently. If used, this
would typically be “&lt;major&gt;.&lt;minor&gt;”.
Only applied when appname is present.</p>
</dd>
<dt>“multipath” is an optional parameter only applicable to *nix</dt><dd><p>which indicates that the entire list of data dirs should be
returned. By default, the first item from XDG_DATA_DIRS is
returned, or <code class="samp docutils literal notranslate"><span class="pre">/usr/local/share/</span><em><span class="pre">AppName</span></em></code>,
if <code class="docutils literal notranslate"><span class="pre">XDG_DATA_DIRS</span></code> is not set</p>
</dd>
</dl>
</div></blockquote>
<p>Typical user data directories are:</p>
<dl class="simple">
<dt>Mac OS X</dt><dd><p><code class="samp docutils literal notranslate"><span class="pre">/Library/Application</span> <span class="pre">Support/</span><em><span class="pre">AppName</span></em></code></p>
</dd>
<dt>Unix</dt><dd><p><code class="samp docutils literal notranslate"><span class="pre">/usr/local/share/</span><em><span class="pre">AppName</span></em></code> or <code class="samp docutils literal notranslate"><span class="pre">/usr/share/</span><em><span class="pre">AppName</span></em></code></p>
</dd>
<dt>Win XP</dt><dd><p><code class="samp docutils literal notranslate"><span class="pre">C:Documents</span> <span class="pre">and</span> <span class="pre">SettingsAll</span> <span class="pre">UsersApplication</span> <span class="pre">Data</span><em><span class="pre">AppAuthor</span></em><em><span class="pre">AppName</span></em></code></p>
</dd>
<dt>Vista</dt><dd><p>Fail! “C:ProgramData” is a hidden <em>system</em> directory on Vista.</p>
</dd>
<dt>Win 7</dt><dd><p><code class="samp docutils literal notranslate"><span class="pre">C:ProgramData</span><em><span class="pre">AppAuthor</span></em><em><span class="pre">AppName</span></em></code> (hidden, but writeable on Win 7)</p>
</dd>
</dl>
<p>For Unix, this is using the <code class="docutils literal notranslate"><span class="pre">$XDG_DATA_DIRS[0]</span></code> default.</p>
<p>WARNING: Do not use this on Windows. See the Vista-Fail note above for why.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.appdirs.user_cache_dir">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.appdirs.</span></span><span class="sig-name descname"><span class="pre">user_cache_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">appname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">appauthor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opinion</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/appdirs.html#user_cache_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.appdirs.user_cache_dir" title="Link to this definition"></a></dt>
<dd><p>Return full path to the user-specific cache dir for this application.</p>
<dl class="simple">
<dt>“appname” is the name of application.</dt><dd><p>If None, just the system directory is returned.</p>
</dd>
<dt>“appauthor” (only required and used on Windows) is the name of the</dt><dd><p>appauthor or distributing body for this application. Typically
it is the owning company name. This falls back to appname.</p>
</dd>
<dt>“version” is an optional version path element to append to the</dt><dd><p>path. You might want to use this if you want multiple versions
of your app to be able to run independently. If used, this
would typically be “&lt;major&gt;.&lt;minor&gt;”.
Only applied when appname is present.</p>
</dd>
<dt>“opinion” (boolean) can be False to disable the appending of</dt><dd><p>“Cache” to the base app data dir for Windows. See
discussion below.</p>
</dd>
</dl>
<p>Typical user cache directories are:</p>
<dl class="simple">
<dt>Mac OS X</dt><dd><p>~/Library/Caches/&lt;AppName&gt;</p>
</dd>
<dt>Unix</dt><dd><p>~/.cache/&lt;AppName&gt; (XDG default)</p>
</dd>
<dt>Win XP</dt><dd><p>C:Documents and Settings&lt;username&gt;Local SettingsApplication Data&lt;AppAuthor&gt;&lt;AppName&gt;Cache</p>
</dd>
<dt>Vista</dt><dd><p>C:Users&lt;username&gt;AppDataLocal&lt;AppAuthor&gt;&lt;AppName&gt;Cache</p>
</dd>
</dl>
<p>On Windows the only suggestion in the MSDN docs is that local settings go in
the <code class="docutils literal notranslate"><span class="pre">CSIDL_LOCAL_APPDATA</span></code> directory. This is identical to the non-roaming
app data dir (the default returned by <code class="docutils literal notranslate"><span class="pre">user_data_dir</span></code> above). Apps typically
put cache data somewhere <em>under</em> the given dir here. Some examples:</p>
<ul class="simple">
<li><p>…MozillaFirefoxProfiles&lt;ProfileName&gt;Cache</p></li>
<li><p>…AcmeSuperAppCache1.0</p></li>
</ul>
<p>OPINION: This function appends “Cache” to the <code class="docutils literal notranslate"><span class="pre">CSIDL_LOCAL_APPDATA</span></code> value.
This can be disabled with the <code class="docutils literal notranslate"><span class="pre">opinion=False</span></code> option.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.appdirs.user_config_dir">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.appdirs.</span></span><span class="sig-name descname"><span class="pre">user_config_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">appname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">appauthor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roaming</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/appdirs.html#user_config_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.appdirs.user_config_dir" title="Link to this definition"></a></dt>
<dd><p>Return full path to the user-specific config dir for this application.</p>
<dl class="simple">
<dt>“appname” is the name of application.</dt><dd><p>If None, just the system directory is returned.</p>
</dd>
<dt>“appauthor” (only required and used on Windows) is the name of the</dt><dd><p>appauthor or distributing body for this application. Typically
it is the owning company name. This falls back to appname.</p>
</dd>
<dt>“version” is an optional version path element to append to the</dt><dd><p>path. You might want to use this if you want multiple versions
of your app to be able to run independently. If used, this
would typically be “&lt;major&gt;.&lt;minor&gt;”.
Only applied when appname is present.</p>
</dd>
<dt>“roaming” (boolean, default False) can be set True to use the Windows</dt><dd><p>roaming appdata directory. That means that for users on a Windows
network setup for roaming profiles, this user data will be
sync’d on login. See <a class="reference external" href="http://technet.microsoft.com/en-us/library/cc766489(WS.10).aspx">managing roaming user data</a>
for a discussion of issues.</p>
</dd>
</dl>
<p>Typical user data directories are:</p>
<dl class="simple">
<dt>Mac OS X</dt><dd><p>same as user_data_dir</p>
</dd>
<dt>Unix</dt><dd><p><code class="samp docutils literal notranslate"><span class="pre">~/.config/</span><em><span class="pre">AppName</span></em></code> or in $XDG_CONFIG_HOME, if defined</p>
</dd>
<dt>Win *</dt><dd><p>same as user_data_dir</p>
</dd>
</dl>
<p>For Unix, we follow the XDG spec and support <code class="docutils literal notranslate"><span class="pre">$XDG_DATA_HOME</span></code>.
That means, by default <code class="samp docutils literal notranslate"><span class="pre">~/.local/share/</span><em><span class="pre">AppName</span></em></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.appdirs.user_data_dir">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.appdirs.</span></span><span class="sig-name descname"><span class="pre">user_data_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">appname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">appauthor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roaming</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/appdirs.html#user_data_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.appdirs.user_data_dir" title="Link to this definition"></a></dt>
<dd><p>Return full path to the user-specific data dir for this application.</p>
<blockquote>
<div><dl class="simple">
<dt>“appname” is the name of application.</dt><dd><p>If None, just the system directory is returned.</p>
</dd>
<dt>“appauthor” (only required and used on Windows) is the name of the</dt><dd><p>appauthor or distributing body for this application. Typically
it is the owning company name. This falls back to appname.</p>
</dd>
<dt>“version” is an optional version path element to append to the</dt><dd><p>path. You might want to use this if you want multiple versions
of your app to be able to run independently. If used, this
would typically be “&lt;major&gt;.&lt;minor&gt;”.
Only applied when appname is present.</p>
</dd>
<dt>“roaming” (boolean, default False) can be set True to use the Windows</dt><dd><p>roaming appdata directory. That means that for users on a Windows
network setup for roaming profiles, this user data will be
sync’d on login. See
&lt;<a class="reference external" href="http://technet.microsoft.com/en-us/library/cc766489(WS.10).aspx">http://technet.microsoft.com/en-us/library/cc766489(WS.10).aspx</a>&gt;
for a discussion of issues.</p>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt>Typical user data directories are:</dt><dd><p>Mac OS X:               ~/Library/Application Support/&lt;AppName&gt;
Unix:                   ~/.local/share/&lt;AppName&gt;    # or in $XDG_DATA_HOME, if defined
Win XP (not roaming):   C:Documents and Settings&lt;username&gt;Application Data&lt;AppAuthor&gt;&lt;AppName&gt;
Win XP (roaming):       C:Documents and Settings&lt;username&gt;Local SettingsApplication Data&lt;AppAuthor&gt;&lt;AppName&gt;
Win 7  (not roaming):   C:Users&lt;username&gt;AppDataLocal&lt;AppAuthor&gt;&lt;AppName&gt;
Win 7  (roaming):       C:Users&lt;username&gt;AppDataRoaming&lt;AppAuthor&gt;&lt;AppName&gt;</p>
</dd>
</dl>
<p>For Unix, we follow the XDG spec and support $XDG_DATA_HOME.
That means, by default “~/.local/share/&lt;AppName&gt;”.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.appdirs.user_log_dir">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.appdirs.</span></span><span class="sig-name descname"><span class="pre">user_log_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">appname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">appauthor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opinion</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/appdirs.html#user_log_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.appdirs.user_log_dir" title="Link to this definition"></a></dt>
<dd><p>Return full path to the user-specific log dir for this application.</p>
<blockquote>
<div><dl class="simple">
<dt>“appname” is the name of application.</dt><dd><p>If None, just the system directory is returned.</p>
</dd>
<dt>“appauthor” (only required and used on Windows) is the name of the</dt><dd><p>appauthor or distributing body for this application. Typically
it is the owning company name. This falls back to appname.</p>
</dd>
<dt>“version” is an optional version path element to append to the</dt><dd><p>path. You might want to use this if you want multiple versions
of your app to be able to run independently. If used, this
would typically be “&lt;major&gt;.&lt;minor&gt;”.
Only applied when appname is present.</p>
</dd>
<dt>“opinion” (boolean) can be False to disable the appending of</dt><dd><p>“Logs” to the base app data dir for Windows, and “log” to the
base cache dir for Unix. See discussion below.</p>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt>Typical user cache directories are:</dt><dd><p>Mac OS X:   ~/Library/Logs/&lt;AppName&gt;
Unix:       ~/.cache/&lt;AppName&gt;/log  # or under $XDG_CACHE_HOME if defined
Win XP:     C:Documents and Settings&lt;username&gt;Local SettingsApplication Data&lt;AppAuthor&gt;&lt;AppName&gt;Logs
Vista:      C:Users&lt;username&gt;AppDataLocal&lt;AppAuthor&gt;&lt;AppName&gt;Logs</p>
</dd>
</dl>
<p>On Windows the only suggestion in the MSDN docs is that local settings
go in the <cite>CSIDL_LOCAL_APPDATA</cite> directory. (Note: I’m interested in
examples of what some windows apps use for a logs dir.)</p>
<p>OPINION: This function appends “Logs” to the <cite>CSIDL_LOCAL_APPDATA</cite>
value for Windows and appends “log” to the user cache dir for Unix.
This can be disabled with the <cite>opinion=False</cite> option.</p>
</dd></dl>

</section>
<section id="module-odoo.tools.barcode">
<span id="odoo-tools-barcode-module"></span><h2>odoo.tools.barcode module<a class="headerlink" href="#module-odoo.tools.barcode" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.barcode.check_barcode_encoding">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.barcode.</span></span><span class="sig-name descname"><span class="pre">check_barcode_encoding</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">barcode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/barcode.html#check_barcode_encoding"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.barcode.check_barcode_encoding" title="Link to this definition"></a></dt>
<dd><p>Checks if the given barcode is correctly encoded.
:return: True if the barcode string is encoded with the provided encoding.
:rtype: bool</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.barcode.get_barcode_check_digit">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.barcode.</span></span><span class="sig-name descname"><span class="pre">get_barcode_check_digit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">numeric_barcode</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/barcode.html#get_barcode_check_digit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.barcode.get_barcode_check_digit" title="Link to this definition"></a></dt>
<dd><p>Computes and returns the barcode check digit. The used algorithm
follows the GTIN specifications and can be used by all compatible
barcode nomenclature, like as EAN-8, EAN-12 (UPC-A) or EAN-13.
<a class="reference external" href="https://www.gs1.org/sites/default/files/docs/barcodes/GS1_General_Specifications.pdf">https://www.gs1.org/sites/default/files/docs/barcodes/GS1_General_Specifications.pdf</a>
<a class="reference external" href="https://www.gs1.org/services/how-calculate-check-digit-manually">https://www.gs1.org/services/how-calculate-check-digit-manually</a>
:param numeric_barcode: the barcode to verify/recompute the check digit
:type numeric_barcode: str
:return: the number corresponding to the right check digit
:rtype: int</p>
</dd></dl>

</section>
<section id="module-odoo.tools.cache">
<span id="odoo-tools-cache-module"></span><h2>odoo.tools.cache module<a class="headerlink" href="#module-odoo.tools.cache" title="Link to this heading"></a></h2>
<dl class="py attribute">
<dt class="sig sig-object py" id="odoo.tools.cache.cache">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.cache.</span></span><span class="sig-name descname"><span class="pre">cache</span></span><a class="headerlink" href="#odoo.tools.cache.cache" title="Link to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#odoo.tools.cache.ormcache" title="odoo.tools.cache.ormcache"><code class="xref py py-class docutils literal notranslate"><span class="pre">ormcache</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.cache.get_cache_key_counter">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.cache.</span></span><span class="sig-name descname"><span class="pre">get_cache_key_counter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bound_method</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/cache.html#get_cache_key_counter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.cache.get_cache_key_counter" title="Link to this definition"></a></dt>
<dd><p>Return the cache, key and stat counter for the given call.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.cache.log_ormcache_stats">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.cache.</span></span><span class="sig-name descname"><span class="pre">log_ormcache_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/cache.html#log_ormcache_stats"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.cache.log_ormcache_stats" title="Link to this definition"></a></dt>
<dd><p>Log statistics of ormcache usage by database, model, and method.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.cache.ormcache">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.cache.</span></span><span class="sig-name descname"><span class="pre">ormcache</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/cache.html#ormcache"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.cache.ormcache" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>LRU cache decorator for model methods.
The parameters are strings that represent expressions referring to the
signature of the decorated method, and are used to compute a cache key:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@ormcache</span><span class="p">(</span><span class="s1">&#39;model_name&#39;</span><span class="p">,</span> <span class="s1">&#39;mode&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_compute_domain</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model_name</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;read&quot;</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>For the sake of backward compatibility, the decorator supports the named
parameter <cite>skiparg</cite>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@ormcache</span><span class="p">(</span><span class="n">skiparg</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_compute_domain</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model_name</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;read&quot;</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Methods implementing this decorator should never return a Recordset,
because the underlying cursor will eventually be closed and raise a
<cite>psycopg2.InterfaceError</cite>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.cache.ormcache.add_value">
<span class="sig-name descname"><span class="pre">add_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/cache.html#ormcache.add_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.cache.ormcache.add_value" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.cache.ormcache.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/cache.html#ormcache.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.cache.ormcache.clear" title="Link to this definition"></a></dt>
<dd><p>Clear the registry cache</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.cache.ormcache.determine_key">
<span class="sig-name descname"><span class="pre">determine_key</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/cache.html#ormcache.determine_key"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.cache.ormcache.determine_key" title="Link to this definition"></a></dt>
<dd><p>Determine the function that computes a cache key from arguments.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.cache.ormcache.lookup">
<span class="sig-name descname"><span class="pre">lookup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/cache.html#ormcache.lookup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.cache.ormcache.lookup" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.cache.ormcache.lru">
<span class="sig-name descname"><span class="pre">lru</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/cache.html#ormcache.lru"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.cache.ormcache.lru" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.cache.ormcache_context">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.cache.</span></span><span class="sig-name descname"><span class="pre">ormcache_context</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/cache.html#ormcache_context"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.cache.ormcache_context" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#odoo.tools.cache.ormcache" title="odoo.tools.cache.ormcache"><code class="xref py py-class docutils literal notranslate"><span class="pre">ormcache</span></code></a></p>
<p>This LRU cache decorator is a variant of <a class="reference internal" href="#odoo.tools.cache.ormcache" title="odoo.tools.cache.ormcache"><code class="xref py py-class docutils literal notranslate"><span class="pre">ormcache</span></code></a>, with an
extra parameter <code class="docutils literal notranslate"><span class="pre">keys</span></code> that defines a sequence of dictionary keys. Those
keys are looked up in the <code class="docutils literal notranslate"><span class="pre">context</span></code> parameter and combined to the cache
key made by <a class="reference internal" href="#odoo.tools.cache.ormcache" title="odoo.tools.cache.ormcache"><code class="xref py py-class docutils literal notranslate"><span class="pre">ormcache</span></code></a>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.cache.ormcache_context.determine_key">
<span class="sig-name descname"><span class="pre">determine_key</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/cache.html#ormcache_context.determine_key"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.cache.ormcache_context.determine_key" title="Link to this definition"></a></dt>
<dd><p>Determine the function that computes a cache key from arguments.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.cache.ormcache_counter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.cache.</span></span><span class="sig-name descname"><span class="pre">ormcache_counter</span></span><a class="reference internal" href="_modules/odoo/tools/cache.html#ormcache_counter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.cache.ormcache_counter" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Statistic counters for cache entries.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="odoo.tools.cache.ormcache_counter.err">
<span class="sig-name descname"><span class="pre">err</span></span><a class="headerlink" href="#odoo.tools.cache.ormcache_counter.err" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="odoo.tools.cache.ormcache_counter.hit">
<span class="sig-name descname"><span class="pre">hit</span></span><a class="headerlink" href="#odoo.tools.cache.ormcache_counter.hit" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="odoo.tools.cache.ormcache_counter.miss">
<span class="sig-name descname"><span class="pre">miss</span></span><a class="headerlink" href="#odoo.tools.cache.ormcache_counter.miss" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="odoo.tools.cache.ormcache_counter.ratio">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ratio</span></span><a class="headerlink" href="#odoo.tools.cache.ormcache_counter.ratio" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-odoo.tools.cloc">
<span id="odoo-tools-cloc-module"></span><h2>odoo.tools.cloc module<a class="headerlink" href="#module-odoo.tools.cloc" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.cloc.Cloc">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.cloc.</span></span><span class="sig-name descname"><span class="pre">Cloc</span></span><a class="reference internal" href="_modules/odoo/tools/cloc.html#Cloc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.cloc.Cloc" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.cloc.Cloc.book">
<span class="sig-name descname"><span class="pre">book</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">item</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/cloc.html#Cloc.book"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.cloc.Cloc.book" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.cloc.Cloc.count_customization">
<span class="sig-name descname"><span class="pre">count_customization</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/cloc.html#Cloc.count_customization"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.cloc.Cloc.count_customization" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.cloc.Cloc.count_database">
<span class="sig-name descname"><span class="pre">count_database</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">database</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/cloc.html#Cloc.count_database"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.cloc.Cloc.count_database" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.cloc.Cloc.count_env">
<span class="sig-name descname"><span class="pre">count_env</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/cloc.html#Cloc.count_env"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.cloc.Cloc.count_env" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.cloc.Cloc.count_modules">
<span class="sig-name descname"><span class="pre">count_modules</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/cloc.html#Cloc.count_modules"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.cloc.Cloc.count_modules" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.cloc.Cloc.count_path">
<span class="sig-name descname"><span class="pre">count_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/cloc.html#Cloc.count_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.cloc.Cloc.count_path" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.cloc.Cloc.parse">
<span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ext</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/cloc.html#Cloc.parse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.cloc.Cloc.parse" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.cloc.Cloc.parse_c_like">
<span class="sig-name descname"><span class="pre">parse_c_like</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regex</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/cloc.html#Cloc.parse_c_like"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.cloc.Cloc.parse_c_like" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.cloc.Cloc.parse_css">
<span class="sig-name descname"><span class="pre">parse_css</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/cloc.html#Cloc.parse_css"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.cloc.Cloc.parse_css" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.cloc.Cloc.parse_js">
<span class="sig-name descname"><span class="pre">parse_js</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/cloc.html#Cloc.parse_js"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.cloc.Cloc.parse_js" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.cloc.Cloc.parse_py">
<span class="sig-name descname"><span class="pre">parse_py</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/cloc.html#Cloc.parse_py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.cloc.Cloc.parse_py" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.cloc.Cloc.parse_scss">
<span class="sig-name descname"><span class="pre">parse_scss</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/cloc.html#Cloc.parse_scss"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.cloc.Cloc.parse_scss" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.cloc.Cloc.parse_xml">
<span class="sig-name descname"><span class="pre">parse_xml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/cloc.html#Cloc.parse_xml"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.cloc.Cloc.parse_xml" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.cloc.Cloc.report">
<span class="sig-name descname"><span class="pre">report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/cloc.html#Cloc.report"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.cloc.Cloc.report" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-odoo.tools.config">
<span id="odoo-tools-config-module"></span><h2>odoo.tools.config module<a class="headerlink" href="#module-odoo.tools.config" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.config.MyOption">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.config.</span></span><span class="sig-name descname"><span class="pre">MyOption</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">opts</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">attrs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/config.html#MyOption"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.config.MyOption" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Option</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>optparse Option with two additional attributes.</p>
<p>The list of command line options (getopt.Option) is used to create the
list of the configuration file options. When reading the file, and then
reading the command line arguments, we don’t want optparse.parse results
to override the configuration file values. But if we provide default
values to optparse, optparse will return them and we can’t know if they
were really provided by the user or not. A solution is to not use
optparse’s default attribute, but use a custom one (that will be copied
to create the default values of the configuration file).</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.config.configmanager">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.config.</span></span><span class="sig-name descname"><span class="pre">configmanager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/config.html#configmanager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.config.configmanager" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py property">
<dt class="sig sig-object py" id="odoo.tools.config.configmanager.addons_data_dir">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">addons_data_dir</span></span><a class="headerlink" href="#odoo.tools.config.configmanager.addons_data_dir" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.config.configmanager.filestore">
<span class="sig-name descname"><span class="pre">filestore</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dbname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/config.html#configmanager.filestore"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.config.configmanager.filestore" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.config.configmanager.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/config.html#configmanager.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.config.configmanager.get" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.config.configmanager.get_misc">
<span class="sig-name descname"><span class="pre">get_misc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sect</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/config.html#configmanager.get_misc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.config.configmanager.get_misc" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.config.configmanager.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/config.html#configmanager.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.config.configmanager.load" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.config.configmanager.parse_config">
<span class="sig-name descname"><span class="pre">parse_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/config.html#configmanager.parse_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.config.configmanager.parse_config" title="Link to this definition"></a></dt>
<dd><p>Parse the configuration file (if any) and the command-line
arguments.</p>
<p>This method initializes odoo.tools.config and openerp.conf (the
former should be removed in the future) with library-wide
configuration values.</p>
<p>This method must be called before proper usage of this library can be
made.</p>
<p>Typical usage of this method:</p>
<blockquote>
<div><p>odoo.tools.config.parse_config(sys.argv[1:])</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.config.configmanager.pop">
<span class="sig-name descname"><span class="pre">pop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/config.html#configmanager.pop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.config.configmanager.pop" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.config.configmanager.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/config.html#configmanager.save"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.config.configmanager.save" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="odoo.tools.config.configmanager.session_dir">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">session_dir</span></span><a class="headerlink" href="#odoo.tools.config.configmanager.session_dir" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.config.configmanager.set_admin_password">
<span class="sig-name descname"><span class="pre">set_admin_password</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_password</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/config.html#configmanager.set_admin_password"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.config.configmanager.set_admin_password" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.config.configmanager.verify_admin_password">
<span class="sig-name descname"><span class="pre">verify_admin_password</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">password</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/config.html#configmanager.verify_admin_password"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.config.configmanager.verify_admin_password" title="Link to this definition"></a></dt>
<dd><p>Verifies the super-admin password, possibly updating the stored hash if needed</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-odoo.tools.constants">
<span id="odoo-tools-constants-module"></span><h2>odoo.tools.constants module<a class="headerlink" href="#module-odoo.tools.constants" title="Link to this heading"></a></h2>
</section>
<section id="module-odoo.tools.convert">
<span id="odoo-tools-convert-module"></span><h2>odoo.tools.convert module<a class="headerlink" href="#module-odoo.tools.convert" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.convert.convert_csv_import">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.convert.</span></span><span class="sig-name descname"><span class="pre">convert_csv_import</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">csvcontent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idref</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'init'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noupdate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/convert.html#convert_csv_import"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.convert.convert_csv_import" title="Link to this definition"></a></dt>
<dd><p>Import csv file :
quote: ”
delimiter: ,
encoding: utf-8</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.convert.convert_file">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.convert.</span></span><span class="sig-name descname"><span class="pre">convert_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idref</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'update'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noupdate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kind</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pathname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/convert.html#convert_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.convert.convert_file" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.convert.convert_sql_import">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.convert.</span></span><span class="sig-name descname"><span class="pre">convert_sql_import</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fp</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/convert.html#convert_sql_import"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.convert.convert_sql_import" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.convert.convert_xml_import">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.convert.</span></span><span class="sig-name descname"><span class="pre">convert_xml_import</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmlfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idref</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'init'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noupdate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/convert.html#convert_xml_import"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.convert.convert_xml_import" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-odoo.tools.date_utils">
<span id="odoo-tools-date-utils-module"></span><h2>odoo.tools.date_utils module<a class="headerlink" href="#module-odoo.tools.date_utils" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.date_utils.add">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.date_utils.</span></span><span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/date_utils.html#add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.date_utils.add" title="Link to this definition"></a></dt>
<dd><p>Return the sum of <code class="docutils literal notranslate"><span class="pre">value</span></code> and a <code class="xref py py-class docutils literal notranslate"><span class="pre">relativedelta</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> – initial date or datetime.</p></li>
<li><p><strong>args</strong> – positional args to pass directly to <code class="xref py py-class docutils literal notranslate"><span class="pre">relativedelta</span></code>.</p></li>
<li><p><strong>kwargs</strong> – keyword args to pass directly to <code class="xref py py-class docutils literal notranslate"><span class="pre">relativedelta</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the resulting date/datetime.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.date_utils.date_range">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.date_utils.</span></span><span class="sig-name descname"><span class="pre">date_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">relativedelta(months=+1)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/date_utils.html#date_range"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.date_utils.date_range" title="Link to this definition"></a></dt>
<dd><p>Date range generator with a step interval.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (<em>date</em><em> | </em><em>datetime</em>) – beginning date of the range.</p></li>
<li><p><strong>end</strong> (<em>date</em><em> | </em><em>datetime</em>) – ending date of the range.</p></li>
<li><p><strong>step</strong> (<em>relativedelta</em>) – interval of the range.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a range of datetime from start to end.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Iterator[datetime]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.date_utils.date_type">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.date_utils.</span></span><span class="sig-name descname"><span class="pre">date_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/date_utils.html#date_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.date_utils.date_type" title="Link to this definition"></a></dt>
<dd><p>Return either the datetime.datetime class or datetime.date type whether <cite>value</cite> is a datetime or a date.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> – A datetime.datetime or datetime.date object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>datetime.datetime or datetime.date</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.date_utils.end_of">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.date_utils.</span></span><span class="sig-name descname"><span class="pre">end_of</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">granularity</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/date_utils.html#end_of"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.date_utils.end_of" title="Link to this definition"></a></dt>
<dd><p>Get end of a time period from a date or a datetime.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> – initial date or datetime.</p></li>
<li><p><strong>granularity</strong> – Type of period in string, can be year, quarter, month, week, day or hour.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A date/datetime object corresponding to the start of the specified period.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.date_utils.get_fiscal_year">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.date_utils.</span></span><span class="sig-name descname"><span class="pre">get_fiscal_year</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">31</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">12</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/date_utils.html#get_fiscal_year"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.date_utils.get_fiscal_year" title="Link to this definition"></a></dt>
<dd><p>Compute the fiscal year dates range on which the ‘date’ parameter belongs to.
A fiscal year is the period used by governments for accounting purposes and vary between countries.
By default, calling this method with only one parameter gives the calendar year because the ending date of the
fiscal year is set to the YYYY-12-31.
:param date:    A datetime.datetime or datetime.date object.
:param day:     The day of month the fiscal year ends.
:param month:   The month of year the fiscal year ends.
:return: A tuple (date_from, date_to) having the same object type as the ‘date’ parameter.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.date_utils.get_month">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.date_utils.</span></span><span class="sig-name descname"><span class="pre">get_month</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/date_utils.html#get_month"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.date_utils.get_month" title="Link to this definition"></a></dt>
<dd><p>Compute the month dates range on which the ‘date’ parameter belongs to.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>date</strong> – A datetime.datetime or datetime.date object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple (date_from, date_to) having the same object type as the ‘date’ parameter.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.date_utils.get_quarter">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.date_utils.</span></span><span class="sig-name descname"><span class="pre">get_quarter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/date_utils.html#get_quarter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.date_utils.get_quarter" title="Link to this definition"></a></dt>
<dd><p>Compute the quarter dates range on which the ‘date’ parameter belongs to.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>date</strong> – A datetime.datetime or datetime.date object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple (date_from, date_to) having the same object type as the ‘date’ parameter.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.date_utils.get_quarter_number">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.date_utils.</span></span><span class="sig-name descname"><span class="pre">get_quarter_number</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/date_utils.html#get_quarter_number"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.date_utils.get_quarter_number" title="Link to this definition"></a></dt>
<dd><p>Get the number of the quarter on which the ‘date’ parameter belongs to.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>date</strong> – A datetime.datetime or datetime.date object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A [1-4] integer.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.date_utils.get_timedelta">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.date_utils.</span></span><span class="sig-name descname"><span class="pre">get_timedelta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">qty</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">granularity</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/date_utils.html#get_timedelta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.date_utils.get_timedelta" title="Link to this definition"></a></dt>
<dd><p>Helper to get a <cite>relativedelta</cite> object for the given quantity and interval unit.
:param qty: the number of unit to apply on the timedelta to return
:param granularity: Type of period in string, can be year, quarter, month, week, day or hour.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.date_utils.json_default">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.date_utils.</span></span><span class="sig-name descname"><span class="pre">json_default</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/date_utils.html#json_default"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.date_utils.json_default" title="Link to this definition"></a></dt>
<dd><p>Properly serializes date and datetime objects.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.date_utils.start_of">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.date_utils.</span></span><span class="sig-name descname"><span class="pre">start_of</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">granularity</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/date_utils.html#start_of"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.date_utils.start_of" title="Link to this definition"></a></dt>
<dd><p>Get start of a time period from a date or a datetime.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> – initial date or datetime.</p></li>
<li><p><strong>granularity</strong> – type of period in string, can be year, quarter, month, week, day or hour.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a date/datetime object corresponding to the start of the specified period.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.date_utils.subtract">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.date_utils.</span></span><span class="sig-name descname"><span class="pre">subtract</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/date_utils.html#subtract"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.date_utils.subtract" title="Link to this definition"></a></dt>
<dd><p>Return the difference between <code class="docutils literal notranslate"><span class="pre">value</span></code> and a <code class="xref py py-class docutils literal notranslate"><span class="pre">relativedelta</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> – initial date or datetime.</p></li>
<li><p><strong>args</strong> – positional args to pass directly to <code class="xref py py-class docutils literal notranslate"><span class="pre">relativedelta</span></code>.</p></li>
<li><p><strong>kwargs</strong> – keyword args to pass directly to <code class="xref py py-class docutils literal notranslate"><span class="pre">relativedelta</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the resulting date/datetime.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-odoo.tools.float_utils">
<span id="odoo-tools-float-utils-module"></span><h2>odoo.tools.float_utils module<a class="headerlink" href="#module-odoo.tools.float_utils" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.float_utils.float_compare">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.float_utils.</span></span><span class="sig-name descname"><span class="pre">float_compare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision_digits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision_rounding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/float_utils.html#float_compare"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.float_utils.float_compare" title="Link to this definition"></a></dt>
<dd><p>Compare <code class="docutils literal notranslate"><span class="pre">value1</span></code> and <code class="docutils literal notranslate"><span class="pre">value2</span></code> after rounding them according to the
given precision. A value is considered lower/greater than another value
if their rounded value is different. This is not the same as having a
non-zero difference!
Precision must be given by <code class="docutils literal notranslate"><span class="pre">precision_digits</span></code> or <code class="docutils literal notranslate"><span class="pre">precision_rounding</span></code>,
not both!</p>
<p>Example: 1.432 and 1.431 are equal at 2 digits precision,
so this method would return 0
However 0.006 and 0.002 are considered different (this method returns 1)
because they respectively round to 0.01 and 0.0, even though
0.006-0.002 = 0.004 which would be considered zero at 2 digits precision.</p>
<p>Warning: <code class="docutils literal notranslate"><span class="pre">float_is_zero(value1-value2)</span></code> is not equivalent to 
<code class="docutils literal notranslate"><span class="pre">float_compare(value1,value2)</span> <span class="pre">==</span> <span class="pre">0</span></code>, as the former will round after
computing the difference, while the latter will round before, giving
different results for e.g. 0.006 and 0.002 at 2 digits precision.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>precision_digits</strong> (<em>int</em>) – number of fractional digits to round to.</p></li>
<li><p><strong>precision_rounding</strong> (<em>float</em>) – decimal number representing the minimum
non-zero value at the desired precision (for example, 0.01 for a 
2-digit precision).</p></li>
<li><p><strong>value1</strong> (<em>float</em>) – first value to compare</p></li>
<li><p><strong>value2</strong> (<em>float</em>) – second value to compare</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(resp.) -1, 0 or 1, if <code class="docutils literal notranslate"><span class="pre">value1</span></code> is (resp.) lower than,
equal to, or greater than <code class="docutils literal notranslate"><span class="pre">value2</span></code>, at the given precision.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.float_utils.float_is_zero">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.float_utils.</span></span><span class="sig-name descname"><span class="pre">float_is_zero</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision_digits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision_rounding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/float_utils.html#float_is_zero"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.float_utils.float_is_zero" title="Link to this definition"></a></dt>
<dd><p>Returns true if <code class="docutils literal notranslate"><span class="pre">value</span></code> is small enough to be treated as
zero at the given precision (smaller than the corresponding <em>epsilon</em>).
The precision (<code class="docutils literal notranslate"><span class="pre">10**-precision_digits</span></code> or <code class="docutils literal notranslate"><span class="pre">precision_rounding</span></code>)
is used as the zero <em>epsilon</em>: values less than that are considered
to be zero.
Precision must be given by <code class="docutils literal notranslate"><span class="pre">precision_digits</span></code> or <code class="docutils literal notranslate"><span class="pre">precision_rounding</span></code>,
not both!</p>
<p>Warning: <code class="docutils literal notranslate"><span class="pre">float_is_zero(value1-value2)</span></code> is not equivalent to
<code class="docutils literal notranslate"><span class="pre">float_compare(value1,value2)</span> <span class="pre">==</span> <span class="pre">0</span></code>, as the former will round after
computing the difference, while the latter will round before, giving
different results for e.g. 0.006 and 0.002 at 2 digits precision.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>precision_digits</strong> (<em>int</em>) – number of fractional digits to round to.</p></li>
<li><p><strong>precision_rounding</strong> (<em>float</em>) – decimal number representing the minimum
non-zero value at the desired precision (for example, 0.01 for a 
2-digit precision).</p></li>
<li><p><strong>value</strong> (<em>float</em>) – value to compare with the precision’s zero</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if <code class="docutils literal notranslate"><span class="pre">value</span></code> is considered zero</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.float_utils.float_repr">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.float_utils.</span></span><span class="sig-name descname"><span class="pre">float_repr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision_digits</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/float_utils.html#float_repr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.float_utils.float_repr" title="Link to this definition"></a></dt>
<dd><p>Returns a string representation of a float with the
given number of fractional digits. This should not be
used to perform a rounding operation (this is done via
<a class="reference internal" href="#odoo.tools.float_utils.float_round" title="odoo.tools.float_utils.float_round"><code class="xref py py-func docutils literal notranslate"><span class="pre">float_round()</span></code></a>), but only to produce a suitable
string representation for a float.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<em>float</em>)</p></li>
<li><p><strong>precision_digits</strong> (<em>int</em>) – number of fractional digits to include in the output</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.float_utils.float_round">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.float_utils.</span></span><span class="sig-name descname"><span class="pre">float_round</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision_digits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision_rounding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rounding_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'HALF-UP'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/float_utils.html#float_round"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.float_utils.float_round" title="Link to this definition"></a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">value</span></code> rounded to <code class="docutils literal notranslate"><span class="pre">precision_digits</span></code> decimal digits,
minimizing IEEE-754 floating point representation errors, and applying
the tie-breaking rule selected with <code class="docutils literal notranslate"><span class="pre">rounding_method</span></code>, by default
HALF-UP (away from zero).
Precision must be given by <code class="docutils literal notranslate"><span class="pre">precision_digits</span></code> or <code class="docutils literal notranslate"><span class="pre">precision_rounding</span></code>,
not both!</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<em>float</em>) – the value to round</p></li>
<li><p><strong>precision_digits</strong> (<em>int</em>) – number of fractional digits to round to.</p></li>
<li><p><strong>precision_rounding</strong> (<em>float</em>) – decimal number representing the minimum
non-zero value at the desired precision (for example, 0.01 for a 
2-digit precision).</p></li>
<li><p><strong>rounding_method</strong> – <p>the rounding method used:
- ‘HALF-UP’ will round to the closest number with ties going away from zero.
- ‘HALF-DOWN’ will round to the closest number with ties going towards zero.
- ‘HALF_EVEN’ will round to the closest number with ties going to the closest</p>
<blockquote>
<div><p>even number.</p>
</div></blockquote>
<ul>
<li><p>’UP’ will always round away from 0.</p></li>
<li><p>’DOWN’ will always round towards 0.</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>rounded float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.float_utils.float_split">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.float_utils.</span></span><span class="sig-name descname"><span class="pre">float_split</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision_digits</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/float_utils.html#float_split"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.float_utils.float_split" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>same as float_split_str() except that it returns the unitary and decimal</dt><dd><p>parts as integers instead of strings. In case <code class="docutils literal notranslate"><span class="pre">precision_digits</span></code> is zero,
0 is always returned as decimal part.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple(int, int)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.float_utils.float_split_str">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.float_utils.</span></span><span class="sig-name descname"><span class="pre">float_split_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision_digits</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/float_utils.html#float_split_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.float_utils.float_split_str" title="Link to this definition"></a></dt>
<dd><p>Splits the given float ‘value’ in its unitary and decimal parts,
returning each of them as a string, rounding the value using
the provided <code class="docutils literal notranslate"><span class="pre">precision_digits</span></code> argument.</p>
<p>The length of the string returned for decimal places will always
be equal to <code class="docutils literal notranslate"><span class="pre">precision_digits</span></code>, adding zeros at the end if needed.</p>
<p>In case <code class="docutils literal notranslate"><span class="pre">precision_digits</span></code> is zero, an empty string is returned for
the decimal places.</p>
<dl class="simple">
<dt>Examples:</dt><dd><p>1.432 with precision 2 =&gt; (‘1’, ‘43’)
1.49  with precision 1 =&gt; (‘1’, ‘5’)
1.1   with precision 3 =&gt; (‘1’, ‘100’)
1.12  with precision 0 =&gt; (‘1’, ‘’)</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<em>float</em>) – value to split.</p></li>
<li><p><strong>precision_digits</strong> (<em>int</em>) – number of fractional digits to round to.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>returns the tuple(&lt;unitary part&gt;, &lt;decimal part&gt;) of the given value</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple(str, str)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.float_utils.json_float_round">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.float_utils.</span></span><span class="sig-name descname"><span class="pre">json_float_round</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision_digits</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rounding_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'HALF-UP'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/float_utils.html#json_float_round"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.float_utils.json_float_round" title="Link to this definition"></a></dt>
<dd><p>Not suitable for float calculations! Similar to float_repr except that it
returns a float suitable for json dump</p>
<p>This may be necessary to produce “exact” representations of rounded float
values during serialization, such as what is done by <cite>json.dumps()</cite>.
Unfortunately <cite>json.dumps</cite> does not allow any form of custom float representation,
nor any custom types, everything is serialized from the basic JSON types.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>precision_digits</strong> (<em>int</em>) – number of fractional digits to round to.</p></li>
<li><p><strong>rounding_method</strong> – the rounding method used: ‘HALF-UP’, ‘UP’ or ‘DOWN’,
the first one rounding up to the closest number with the rule that
number&gt;=0.5 is rounded up to 1, the second always rounding up and the
latest one always rounding down.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a rounded float value that must not be used for calculations, but
is ready to be serialized in JSON with minimal chances of
representation errors.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.float_utils.round">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.float_utils.</span></span><span class="sig-name descname"><span class="pre">round</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/float_utils.html#round"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.float_utils.round" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-odoo.tools.func">
<span id="odoo-tools-func-module"></span><h2>odoo.tools.func module<a class="headerlink" href="#module-odoo.tools.func" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.func.classproperty">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.func.</span></span><span class="sig-name descname"><span class="pre">classproperty</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/func.html#classproperty"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.func.classproperty" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.func.conditional">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.func.</span></span><span class="sig-name descname"><span class="pre">conditional</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decorator</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/func.html#conditional"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.func.conditional" title="Link to this definition"></a></dt>
<dd><p>Decorator for a conditionally applied decorator.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@conditional</span><span class="p">(</span><span class="n">get_config</span><span class="p">(</span><span class="s1">&#39;use_cache&#39;</span><span class="p">),</span> <span class="n">ormcache</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">fn</span><span class="p">():</span>
    <span class="k">pass</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.func.lazy">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.func.</span></span><span class="sig-name descname"><span class="pre">lazy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/func.html#lazy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.func.lazy" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A proxy to the (memoized) result of a lazy evaluation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">foo</span> <span class="o">=</span> <span class="n">lazy</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">arg</span><span class="p">)</span>           <span class="c1"># func(arg) is not called yet</span>
<span class="n">bar</span> <span class="o">=</span> <span class="n">foo</span> <span class="o">+</span> <span class="mi">1</span>                   <span class="c1"># eval func(arg) and add 1</span>
<span class="n">baz</span> <span class="o">=</span> <span class="n">foo</span> <span class="o">+</span> <span class="mi">2</span>                   <span class="c1"># use result of func(arg) and add 2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.func.lazy_classproperty">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.func.</span></span><span class="sig-name descname"><span class="pre">lazy_classproperty</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fget</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/func.html#lazy_classproperty"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.func.lazy_classproperty" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#odoo.tools.func.lazy_property" title="odoo.tools.func.lazy_property"><code class="xref py py-class docutils literal notranslate"><span class="pre">lazy_property</span></code></a></p>
<p>Similar to <a class="reference internal" href="#odoo.tools.func.lazy_property" title="odoo.tools.func.lazy_property"><code class="xref py py-class docutils literal notranslate"><span class="pre">lazy_property</span></code></a>, but for classes.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.func.lazy_property">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.func.</span></span><span class="sig-name descname"><span class="pre">lazy_property</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fget</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/func.html#lazy_property"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.func.lazy_property" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.func.lazy_property.reset_all">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">reset_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/func.html#lazy_property.reset_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.func.lazy_property.reset_all" title="Link to this definition"></a></dt>
<dd><p>Reset all lazy properties on the instance <cite>obj</cite>.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.func.synchronized">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.func.</span></span><span class="sig-name descname"><span class="pre">synchronized</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lock_attr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'_lock'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/func.html#synchronized"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.func.synchronized" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-odoo.tools.image">
<span id="odoo-tools-image-module"></span><h2>odoo.tools.image module<a class="headerlink" href="#module-odoo.tools.image" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.image.ImageProcess">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.image.</span></span><span class="sig-name descname"><span class="pre">ImageProcess</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verify_resolution</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/image.html#ImageProcess"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.image.ImageProcess" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.image.ImageProcess.colorize">
<span class="sig-name descname"><span class="pre">colorize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/image.html#ImageProcess.colorize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.image.ImageProcess.colorize" title="Link to this definition"></a></dt>
<dd><p>Replace the transparent background by a random color.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>self to allow chaining</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#odoo.tools.image.ImageProcess" title="odoo.tools.image.ImageProcess">ImageProcess</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.image.ImageProcess.crop_resize">
<span class="sig-name descname"><span class="pre">crop_resize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_width</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_height</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/image.html#ImageProcess.crop_resize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.image.ImageProcess.crop_resize" title="Link to this definition"></a></dt>
<dd><p>Crop and resize the image.</p>
<p>The image is never resized above the current image size. This method is
only to create smaller versions of the image.</p>
<p>Instead of preserving the ratio of the original image like <cite>resize</cite>,
this method will force the output to take the ratio of the given
<cite>max_width</cite> and <cite>max_height</cite>, so both have to be defined.</p>
<p>The crop is done before the resize in order to preserve as much of the
original image as possible. The goal of this method is primarily to
resize to a given ratio, and it is not to crop unwanted parts of the
original image. If the latter is what you want to do, you should create
another method, or directly use the <cite>crop</cite> method from PIL.</p>
<p>It is currently not supported for GIF because we do not handle all the
frames properly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_width</strong> (<em>int</em>) – max width</p></li>
<li><p><strong>max_height</strong> (<em>int</em>) – max height</p></li>
<li><p><strong>center_x</strong> (<em>float</em>) – the center of the crop between 0 (left) and 1
(right). Defaults to 0.5 (center).</p></li>
<li><p><strong>center_y</strong> (<em>float</em>) – the center of the crop between 0 (top) and 1
(bottom). Defaults to 0.5 (center).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>self to allow chaining</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#odoo.tools.image.ImageProcess" title="odoo.tools.image.ImageProcess">ImageProcess</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.image.ImageProcess.image_quality">
<span class="sig-name descname"><span class="pre">image_quality</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">quality</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/image.html#ImageProcess.image_quality"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.image.ImageProcess.image_quality" title="Link to this definition"></a></dt>
<dd><p>Return the image resulting of all the image processing
operations that have been applied previously.</p>
<p>Return False if the initialized <cite>image</cite> was falsy, and return
the initialized <cite>image</cite> without change if it was SVG.</p>
<p>Also return the initialized <cite>image</cite> if no operations have been applied
and the <cite>output_format</cite> is the same as the original format and the
quality is not specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>quality</strong> (<em>int</em>) – <p>quality setting to apply. Default to 0.</p>
<ul>
<li><p>for JPEG: 1 is worse, 95 is best. Values above 95 should be
avoided. Falsy values will fallback to 95, but only if the image
was changed, otherwise the original image is returned.</p></li>
<li><p>for PNG: set falsy to prevent conversion to a WEB palette.</p></li>
<li><p>for other formats: no effect.</p></li>
</ul>
</p></li>
<li><p><strong>output_format</strong> (<em>str</em>) – the output format. Can be PNG, JPEG, GIF, or ICO.
Default to the format of the original image. BMP is converted to
PNG, other formats than those mentioned above are converted to JPEG.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>image</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bytes or False</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.image.ImageProcess.resize">
<span class="sig-name descname"><span class="pre">resize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_height</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/image.html#ImageProcess.resize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.image.ImageProcess.resize" title="Link to this definition"></a></dt>
<dd><p>Resize the image.</p>
<p>The image is never resized above the current image size. This method is
only to create a smaller version of the image.</p>
<p>The current ratio is preserved. To change the ratio, see <cite>crop_resize</cite>.</p>
<p>If <cite>max_width</cite> or <cite>max_height</cite> is falsy, it will be computed from the
other to keep the current ratio. If both are falsy, no resize is done.</p>
<p>It is currently not supported for GIF because we do not handle all the
frames properly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_width</strong> (<em>int</em>) – max width</p></li>
<li><p><strong>max_height</strong> (<em>int</em>) – max height</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>self to allow chaining</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#odoo.tools.image.ImageProcess" title="odoo.tools.image.ImageProcess">ImageProcess</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.image.average_dominant_color">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.image.</span></span><span class="sig-name descname"><span class="pre">average_dominant_color</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">colors</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mitigate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">175</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_margin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">140</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/image.html#average_dominant_color"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.image.average_dominant_color" title="Link to this definition"></a></dt>
<dd><p>This function is used to calculate the dominant colors when given a list of colors</p>
<p>There are 5 steps:</p>
<ol class="arabic simple">
<li><p>Select dominant colors (highest count), isolate its values and remove
it from the current color set.</p></li>
<li><p>Set margins according to the prevalence of the dominant color.</p></li>
<li><p>Evaluate the colors. Similar colors are grouped in the dominant set
while others are put in the “remaining” list.</p></li>
<li><p>Calculate the average color for the dominant set. This is done by
averaging each band and joining them into a tuple.</p></li>
<li><p>Mitigate final average and convert it to hex</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>colors</strong> – <p>list of tuples having:</p>
<ol class="arabic simple" start="0">
<li><p>color count in the image</p></li>
<li><p>actual color: tuple(R, G, B, A)</p></li>
</ol>
<p>-&gt; these can be extracted from a PIL image using
<code class="xref py py-meth docutils literal notranslate"><span class="pre">getcolors()</span></code></p>
</p></li>
<li><p><strong>mitigate</strong> – maximum value a band can reach</p></li>
<li><p><strong>max_margin</strong> – maximum difference from one of the dominant values</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>a tuple with two items:</p>
<ol class="arabic simple" start="0">
<li><p>the average color of the dominant set as: tuple(R, G, B)</p></li>
<li><p>list of remaining colors, used to evaluate subsequent dominant colors</p></li>
</ol>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.image.base64_to_image">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.image.</span></span><span class="sig-name descname"><span class="pre">base64_to_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base64_source</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/image.html#base64_to_image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.image.base64_to_image" title="Link to this definition"></a></dt>
<dd><p>Return a PIL image from the given <cite>base64_source</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>base64_source</strong> (<em>string</em><em> or </em><em>bytes</em>) – the image base64 encoded</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><em>Image</em></p>
</dd>
<dt class="field-odd">Raise<span class="colon">:</span></dt>
<dd class="field-odd"><p>UserError if the base64 is incorrect or the image can’t be identified by PIL</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.image.binary_to_image">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.image.</span></span><span class="sig-name descname"><span class="pre">binary_to_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/image.html#binary_to_image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.image.binary_to_image" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.image.get_lightness">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.image.</span></span><span class="sig-name descname"><span class="pre">get_lightness</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rgb</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/image.html#get_lightness"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.image.get_lightness" title="Link to this definition"></a></dt>
<dd><p>Returns the lightness (hsl format) of a given rgb color</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rgb</strong> – rgb tuple or list</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>lightness</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.image.get_saturation">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.image.</span></span><span class="sig-name descname"><span class="pre">get_saturation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rgb</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/image.html#get_saturation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.image.get_saturation" title="Link to this definition"></a></dt>
<dd><p>Returns the saturation (hsl format) of a given rgb color</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rgb</strong> – rgb tuple or list</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>saturation</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.image.get_webp_size">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.image.</span></span><span class="sig-name descname"><span class="pre">get_webp_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/image.html#get_webp_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.image.get_webp_size" title="Link to this definition"></a></dt>
<dd><p>Returns the size of the provided webp binary source for VP8, VP8X and
VP8L, otherwise returns None.
See <a class="reference external" href="https://developers.google.com/speed/webp/docs/riff_container">https://developers.google.com/speed/webp/docs/riff_container</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>source</strong> – binary source</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(width, height) tuple, or None if not supported</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.image.hex_to_rgb">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.image.</span></span><span class="sig-name descname"><span class="pre">hex_to_rgb</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/image.html#hex_to_rgb"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.image.hex_to_rgb" title="Link to this definition"></a></dt>
<dd><p>Converts an hexadecimal string (starting with ‘#’) to a RGB tuple</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.image.image_apply_opt">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.image.</span></span><span class="sig-name descname"><span class="pre">image_apply_opt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_format</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/image.html#image_apply_opt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.image.image_apply_opt" title="Link to this definition"></a></dt>
<dd><p>Return the given PIL <cite>image</cite> using <cite>params</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output_format</strong> (<em>str</em>) – <code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code>’s <code class="docutils literal notranslate"><span class="pre">format</span></code> parameter</p></li>
<li><p><strong>params</strong> (<em>dict</em>) – params to expand when calling <code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the image formatted</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bytes</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.image.image_data_uri">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.image.</span></span><span class="sig-name descname"><span class="pre">image_data_uri</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base64_source</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/image.html#image_data_uri"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.image.image_data_uri" title="Link to this definition"></a></dt>
<dd><p>This returns data URL scheme according RFC 2397
(<a class="reference external" href="https://tools.ietf.org/html/rfc2397">https://tools.ietf.org/html/rfc2397</a>) for all kind of supported images
(PNG, GIF, JPG and SVG), defaulting on PNG type if not mimetype detected.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.image.image_fix_orientation">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.image.</span></span><span class="sig-name descname"><span class="pre">image_fix_orientation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/image.html#image_fix_orientation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.image.image_fix_orientation" title="Link to this definition"></a></dt>
<dd><p>Fix the orientation of the image if it has an EXIF orientation tag.</p>
<p>This typically happens for images taken from a non-standard orientation
by some phones or other devices that are able to report orientation.</p>
<p>The specified transposition is applied to the image before all other
operations, because all of them expect the image to be in its final
orientation, which is the case only when the first row of pixels is the top
of the image and the first column of pixels is the left of the image.</p>
<p>Moreover the EXIF tags will not be kept when the image is later saved, so
the transposition has to be done to ensure the final image is correctly
orientated.</p>
<p>Note: to be completely correct, the resulting image should have its exif
orientation tag removed, since the transpositions have been applied.
However since this tag is not used in the code, it is acceptable to
save the complexity of removing it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>image</strong> (<em>Image</em>) – the source image</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the resulting image, copy of the source, with orientation fixed
or the source image if no operation was applied</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Image</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.image.image_guess_size_from_field_name">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.image.</span></span><span class="sig-name descname"><span class="pre">image_guess_size_from_field_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/image.html#image_guess_size_from_field_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.image.image_guess_size_from_field_name" title="Link to this definition"></a></dt>
<dd><p>Attempt to guess the image size based on <cite>field_name</cite>.</p>
<p>If it can’t be guessed or if it is a custom field: return (0, 0) instead.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>field_name</strong> (<em>str</em>) – the name of a field</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the guessed size</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple (width, height)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.image.image_process">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.image.</span></span><span class="sig-name descname"><span class="pre">image_process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verify_resolution</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quality</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colorize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/image.html#image_process"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.image.image_process" title="Link to this definition"></a></dt>
<dd><p>Process the <cite>source</cite> image by executing the given operations and
return the result image.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.image.image_to_base64">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.image.</span></span><span class="sig-name descname"><span class="pre">image_to_base64</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_format</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/image.html#image_to_base64"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.image.image_to_base64" title="Link to this definition"></a></dt>
<dd><p>Return a base64_image from the given PIL <cite>image</cite> using <cite>params</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output_format</strong> (<em>str</em>)</p></li>
<li><p><strong>params</strong> (<em>dict</em>) – params to expand when calling <code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the image base64 encoded</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bytes</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.image.is_image_size_above">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.image.</span></span><span class="sig-name descname"><span class="pre">is_image_size_above</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base64_source_1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base64_source_2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/image.html#is_image_size_above"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.image.is_image_size_above" title="Link to this definition"></a></dt>
<dd><p>Return whether or not the size of the given image <cite>base64_source_1</cite> is
above the size of the given image <cite>base64_source_2</cite>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.image.rgb_to_hex">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.image.</span></span><span class="sig-name descname"><span class="pre">rgb_to_hex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rgb</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/image.html#rgb_to_hex"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.image.rgb_to_hex" title="Link to this definition"></a></dt>
<dd><p>Converts a RGB tuple or list to an hexadecimal string</p>
</dd></dl>

</section>
<section id="module-odoo.tools.js_transpiler">
<span id="odoo-tools-js-transpiler-module"></span><h2>odoo.tools.js_transpiler module<a class="headerlink" href="#module-odoo.tools.js_transpiler" title="Link to this heading"></a></h2>
<p>This code is what let us use ES6-style modules in odoo.
Classic Odoo modules are composed of a top-level <code class="samp docutils literal notranslate"><span class="pre">odoo.define(</span><em><span class="pre">name</span></em><span class="pre">,</span><em><span class="pre">dependencies</span></em><span class="pre">,</span><em><span class="pre">body_function</span></em><span class="pre">)</span></code> call.
This processor will take files starting with an <cite>&#64;odoo-module</cite> annotation (in a comment) and convert them to classic modules.
If any file has the <code class="docutils literal notranslate"><span class="pre">/**</span> <span class="pre">odoo-module</span> <span class="pre">*/</span></code> on top of it, it will get processed by this class.
It performs several operations to get from ES6 syntax to the usual odoo one with minimal changes.
This is done on the fly, this not a pre-processing tool.</p>
<p>Caveat: This is done without a full parser, only using regex. One can only expect to cover as much edge cases
as possible with reasonable limitations. Also, this only changes imports and exports, so all JS features used in
the original source need to be supported by the browsers.</p>
<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.js_transpiler.convert_as">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.js_transpiler.</span></span><span class="sig-name descname"><span class="pre">convert_as</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/js_transpiler.html#convert_as"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.js_transpiler.convert_as" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.js_transpiler.convert_basic_import">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.js_transpiler.</span></span><span class="sig-name descname"><span class="pre">convert_basic_import</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/js_transpiler.html#convert_basic_import"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.js_transpiler.convert_basic_import" title="Link to this definition"></a></dt>
<dd><p>Transpile the simpler import call.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// before</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">a</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">,</span><span class="w"> </span><span class="nx">c</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">x</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;some/path&quot;</span>
<span class="c1">// after</span>
<span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="nx">a</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">,</span><span class="w"> </span><span class="nx">c</span><span class="o">:</span><span class="w"> </span><span class="nx">x</span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s2">&quot;some/path&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.js_transpiler.convert_default_and_named_import">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.js_transpiler.</span></span><span class="sig-name descname"><span class="pre">convert_default_and_named_import</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/js_transpiler.html#convert_default_and_named_import"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.js_transpiler.convert_default_and_named_import" title="Link to this definition"></a></dt>
<dd><p>Transpile default and named import on one line.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// before</span>
<span class="k">import</span><span class="w"> </span><span class="nx">something</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;some/path&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">somethingElse</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">b</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;legacy.module&quot;</span><span class="p">;</span>
<span class="c1">// after</span>
<span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">[</span><span class="nb">Symbol</span><span class="p">.</span><span class="k">for</span><span class="p">(</span><span class="s2">&quot;default&quot;</span><span class="p">)]</span><span class="o">:</span><span class="w"> </span><span class="nx">something</span><span class="p">,</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s2">&quot;some/path&quot;</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">somethingElse</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s2">&quot;legacy.module&quot;</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">b</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">somethingElse</span><span class="p">;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.js_transpiler.convert_default_and_star_import">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.js_transpiler.</span></span><span class="sig-name descname"><span class="pre">convert_default_and_star_import</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/js_transpiler.html#convert_default_and_star_import"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.js_transpiler.convert_default_and_star_import" title="Link to this definition"></a></dt>
<dd><p>Transpile import star.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// before</span>
<span class="k">import</span><span class="w"> </span><span class="nx">something</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">name</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;some/path&quot;</span><span class="p">;</span>
<span class="c1">// after</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s2">&quot;some/path&quot;</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">something</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">name</span><span class="p">[</span><span class="nb">Symbol</span><span class="p">.</span><span class="k">for</span><span class="p">(</span><span class="s2">&quot;default&quot;</span><span class="p">)];</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.js_transpiler.convert_default_export">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.js_transpiler.</span></span><span class="sig-name descname"><span class="pre">convert_default_export</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/js_transpiler.html#convert_default_export"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.js_transpiler.convert_default_export" title="Link to this definition"></a></dt>
<dd><p>This function handles the default exports.
Either by calling another operation with a TRUE flag, and if any default is left, doing a simple replacement.</p>
<p>(see convert_export_function_or_class_default and convert_variable_export_default).
+
.. code-block:: javascript</p>
<blockquote>
<div><p>// before
export default
// after
__exports[Symbol.for(“default”)] =</p>
</div></blockquote>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// before</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">something</span><span class="w"> </span><span class="o">=</span>
<span class="c1">// after</span>
<span class="nx">__exports</span><span class="p">[</span><span class="nb">Symbol</span><span class="p">.</span><span class="k">for</span><span class="p">(</span><span class="s2">&quot;default&quot;</span><span class="p">)]</span><span class="w"> </span><span class="o">=</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.js_transpiler.convert_default_import">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.js_transpiler.</span></span><span class="sig-name descname"><span class="pre">convert_default_import</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/js_transpiler.html#convert_default_import"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.js_transpiler.convert_default_import" title="Link to this definition"></a></dt>
<dd><p>Transpile the default import call.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// before</span>
<span class="k">import</span><span class="w"> </span><span class="nx">something</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;some/path&quot;</span>
<span class="c1">// after</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">something</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s2">&quot;some/path&quot;</span><span class="p">)[</span><span class="nb">Symbol</span><span class="p">.</span><span class="k">for</span><span class="p">(</span><span class="s2">&quot;default&quot;</span><span class="p">)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.js_transpiler.convert_export_class">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.js_transpiler.</span></span><span class="sig-name descname"><span class="pre">convert_export_class</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/js_transpiler.html#convert_export_class"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.js_transpiler.convert_export_class" title="Link to this definition"></a></dt>
<dd><p>Transpile classes that are being exported.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// before</span>
<span class="k">export</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nx">name</span>
<span class="c1">// after</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">__exports</span><span class="p">.</span><span class="nx">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nx">name</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.js_transpiler.convert_export_class_default">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.js_transpiler.</span></span><span class="sig-name descname"><span class="pre">convert_export_class_default</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/js_transpiler.html#convert_export_class_default"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.js_transpiler.convert_export_class_default" title="Link to this definition"></a></dt>
<dd><p>Transpile classes that are being exported as default value.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// before</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nx">name</span>
<span class="c1">// after</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">__exports</span><span class="p">[</span><span class="nb">Symbol</span><span class="p">.</span><span class="k">for</span><span class="p">(</span><span class="s2">&quot;default&quot;</span><span class="p">)]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nx">name</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.js_transpiler.convert_export_function">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.js_transpiler.</span></span><span class="sig-name descname"><span class="pre">convert_export_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/js_transpiler.html#convert_export_function"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.js_transpiler.convert_export_function" title="Link to this definition"></a></dt>
<dd><p>Transpile functions that are being exported.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="c1">// before</span>
<span class="w"> </span><span class="k">export</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">name</span>
<span class="w"> </span><span class="c1">// after</span>
<span class="nx">__exports</span><span class="p">.</span><span class="nx">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">name</span><span class="p">;</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">name</span>

<span class="w"> </span><span class="c1">// before</span>
<span class="w"> </span><span class="k">export</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">name</span>
<span class="w"> </span><span class="c1">// after</span>
<span class="w"> </span><span class="nx">__exports</span><span class="p">.</span><span class="nx">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">name</span><span class="p">;</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">name</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.js_transpiler.convert_export_function_default">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.js_transpiler.</span></span><span class="sig-name descname"><span class="pre">convert_export_function_default</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/js_transpiler.html#convert_export_function_default"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.js_transpiler.convert_export_function_default" title="Link to this definition"></a></dt>
<dd><p>Transpile functions that are being exported as default value.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// before</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">name</span>
<span class="c1">// after</span>
<span class="nx">__exports</span><span class="p">[</span><span class="nb">Symbol</span><span class="p">.</span><span class="k">for</span><span class="p">(</span><span class="s2">&quot;default&quot;</span><span class="p">)]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">name</span><span class="p">;</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">name</span>

<span class="c1">// before</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">name</span>
<span class="c1">// after</span>
<span class="nx">__exports</span><span class="p">[</span><span class="nb">Symbol</span><span class="p">.</span><span class="k">for</span><span class="p">(</span><span class="s2">&quot;default&quot;</span><span class="p">)]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">name</span><span class="p">;</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">name</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.js_transpiler.convert_from_export">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.js_transpiler.</span></span><span class="sig-name descname"><span class="pre">convert_from_export</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/js_transpiler.html#convert_from_export"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.js_transpiler.convert_from_export" title="Link to this definition"></a></dt>
<dd><p>Transpile exports coming from another source</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// before</span>
<span class="k">export</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">a</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">,</span><span class="w"> </span><span class="nx">c</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">x</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;some/path.js&quot;</span>
<span class="c1">// after</span>
<span class="p">{</span><span class="w"> </span><span class="nx">a</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">,</span><span class="w"> </span><span class="nx">c</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nx">require</span><span class="p">(</span><span class="s2">&quot;some/path.js&quot;</span><span class="p">);</span><span class="w"> </span><span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="nx">__exports</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">a</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">,</span><span class="w"> </span><span class="nx">x</span><span class="o">:</span><span class="w"> </span><span class="nx">c</span><span class="w"> </span><span class="p">});}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.js_transpiler.convert_legacy_default_import">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.js_transpiler.</span></span><span class="sig-name descname"><span class="pre">convert_legacy_default_import</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/js_transpiler.html#convert_legacy_default_import"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.js_transpiler.convert_legacy_default_import" title="Link to this definition"></a></dt>
<dd><p>Transpile legacy imports (that were used as they were default import).
Legacy imports means that their name is not a path but a &lt;addon_name&gt;.&lt;module_name&gt;.
It requires slightly different processing.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// before</span>
<span class="k">import</span><span class="w"> </span><span class="nx">module_name</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;addon.module_name&quot;</span>
<span class="c1">// after</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">module_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s2">&quot;addon.module_name&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.js_transpiler.convert_object_export">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.js_transpiler.</span></span><span class="sig-name descname"><span class="pre">convert_object_export</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/js_transpiler.html#convert_object_export"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.js_transpiler.convert_object_export" title="Link to this definition"></a></dt>
<dd><p>Transpile exports of multiple elements</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// before</span>
<span class="k">export</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">a</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">,</span><span class="w"> </span><span class="nx">c</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">x</span><span class="w"> </span><span class="p">}</span>
<span class="c1">// after</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="nx">__exports</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">a</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">,</span><span class="w"> </span><span class="nx">x</span><span class="o">:</span><span class="w"> </span><span class="nx">c</span><span class="w"> </span><span class="p">})</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.js_transpiler.convert_relative_require">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.js_transpiler.</span></span><span class="sig-name descname"><span class="pre">convert_relative_require</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dependencies</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/js_transpiler.html#convert_relative_require"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.js_transpiler.convert_relative_require" title="Link to this definition"></a></dt>
<dd><p>Convert the relative path contained in a ‘require()’
to the new path system (&#64;module/path).
Adds all modules path to dependencies.
.. code-block:: javascript</p>
<blockquote>
<div><p>// Relative path:
// before
require(“./path”)
// after
require(“&#64;module/path”)</p>
<p>// Not a relative path:
// before
require(“other_alias”)
// after
require(“other_alias”)</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.js_transpiler.convert_star_from_export">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.js_transpiler.</span></span><span class="sig-name descname"><span class="pre">convert_star_from_export</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/js_transpiler.html#convert_star_from_export"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.js_transpiler.convert_star_from_export" title="Link to this definition"></a></dt>
<dd><p>Transpile exports star coming from another source</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// before</span>
<span class="k">export</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;some/path.js&quot;</span>
<span class="c1">// after</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="nx">__exports</span><span class="p">,</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s2">&quot;some/path.js&quot;</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.js_transpiler.convert_star_import">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.js_transpiler.</span></span><span class="sig-name descname"><span class="pre">convert_star_import</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/js_transpiler.html#convert_star_import"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.js_transpiler.convert_star_import" title="Link to this definition"></a></dt>
<dd><p>Transpile import star.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// before</span>
<span class="k">import</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">name</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;some/path&quot;</span>
<span class="c1">// after</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s2">&quot;some/path&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.js_transpiler.convert_unnamed_relative_import">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.js_transpiler.</span></span><span class="sig-name descname"><span class="pre">convert_unnamed_relative_import</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/js_transpiler.html#convert_unnamed_relative_import"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.js_transpiler.convert_unnamed_relative_import" title="Link to this definition"></a></dt>
<dd><p>Transpile relative “direct” imports. Direct meaning they are not store in a variable.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// before</span>
<span class="k">import</span><span class="w"> </span><span class="s2">&quot;some/path&quot;</span>
<span class="c1">// after</span>
<span class="nx">require</span><span class="p">(</span><span class="s2">&quot;some/path&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.js_transpiler.convert_variable_export">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.js_transpiler.</span></span><span class="sig-name descname"><span class="pre">convert_variable_export</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/js_transpiler.html#convert_variable_export"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.js_transpiler.convert_variable_export" title="Link to this definition"></a></dt>
<dd><p>Transpile variables that are being exported.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// before</span>
<span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">name</span>
<span class="c1">// after</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">__exports</span><span class="p">.</span><span class="nx">name</span>
<span class="c1">// (same with var and const)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.js_transpiler.convert_variable_export_default">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.js_transpiler.</span></span><span class="sig-name descname"><span class="pre">convert_variable_export_default</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/js_transpiler.html#convert_variable_export_default"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.js_transpiler.convert_variable_export_default" title="Link to this definition"></a></dt>
<dd><p>Transpile the variables that are exported as default values.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// before</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">name</span>
<span class="c1">// after</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">__exports</span><span class="p">[</span><span class="nb">Symbol</span><span class="p">.</span><span class="k">for</span><span class="p">(</span><span class="s2">&quot;default&quot;</span><span class="p">)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.js_transpiler.get_aliased_odoo_define_content">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.js_transpiler.</span></span><span class="sig-name descname"><span class="pre">get_aliased_odoo_define_content</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/js_transpiler.html#get_aliased_odoo_define_content"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.js_transpiler.get_aliased_odoo_define_content" title="Link to this definition"></a></dt>
<dd><p>To allow smooth transition between the new system and the legacy one, we have the possibility to
defined an alternative module name (an alias) that will act as proxy between legacy require calls and
new modules.</p>
<p>Example:
If we have a require call somewhere in the odoo source base being:
&gt; vat AbstractAction require(“web.AbstractAction”)
we have a problem when we will have converted to module to ES6: its new name will be more like
“web/chrome/abstract_action”. So the require would fail !
So we add a second small modules, an alias, as such:
&gt; odoo.define(“web/chrome/abstract_action”, [‘web.AbstractAction’], function (require) {
&gt;  return require(‘web.AbstractAction’)[Symbol.for(“default”)];
&gt; });</p>
<p>To generate this, change your comment on the top of the file.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// before</span>
<span class="cm">/** @odoo-module */</span>
<span class="c1">// after</span>
<span class="cm">/** @odoo-module alias=web.AbstractAction */</span>
</pre></div>
</div>
<p>Notice that often, the legacy system acted like they it did defaukt imports. That’s why we have the
“[Symbol.for(“default”)];” bit. If your use case does not need this default import, just do:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// before</span>
<span class="cm">/** @odoo-module */</span>
<span class="c1">// after</span>
<span class="cm">/** @odoo-module alias=web.AbstractAction default=false */</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the alias content to append to the source code.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.js_transpiler.is_odoo_module">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.js_transpiler.</span></span><span class="sig-name descname"><span class="pre">is_odoo_module</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/js_transpiler.html#is_odoo_module"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.js_transpiler.is_odoo_module" title="Link to this definition"></a></dt>
<dd><p>Detect if the file is a native odoo module.
We look for a comment containing &#64;odoo-module.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>content</strong> – source code</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>is this a odoo module that need transpilation ?</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.js_transpiler.relative_path_to_module_path">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.js_transpiler.</span></span><span class="sig-name descname"><span class="pre">relative_path_to_module_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_rel</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/js_transpiler.html#relative_path_to_module_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.js_transpiler.relative_path_to_module_path" title="Link to this definition"></a></dt>
<dd><p>Convert the relative path into a module path, which is more generic and
fancy.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<em>str</em>)</p></li>
<li><p><strong>path_rel</strong> – a relative path to the current url.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>module path (&#64;module/…)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.js_transpiler.remove_as">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.js_transpiler.</span></span><span class="sig-name descname"><span class="pre">remove_as</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/js_transpiler.html#remove_as"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.js_transpiler.remove_as" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.js_transpiler.remove_index">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.js_transpiler.</span></span><span class="sig-name descname"><span class="pre">remove_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/js_transpiler.html#remove_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.js_transpiler.remove_index" title="Link to this definition"></a></dt>
<dd><p>Remove in the paths the /index.js.
We want to be able to import a module just trough its directory name if it contains an index.js.
So we no longer need to specify the index.js in the paths.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.js_transpiler.transpile_javascript">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.js_transpiler.</span></span><span class="sig-name descname"><span class="pre">transpile_javascript</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/js_transpiler.html#transpile_javascript"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.js_transpiler.transpile_javascript" title="Link to this definition"></a></dt>
<dd><p>Transpile the code from native JS modules to custom odoo modules.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>content</strong> – The original source code</p></li>
<li><p><strong>url</strong> – The url of the file in the project</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The transpiled source code</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.js_transpiler.url_to_module_path">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.js_transpiler.</span></span><span class="sig-name descname"><span class="pre">url_to_module_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/js_transpiler.html#url_to_module_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.js_transpiler.url_to_module_path" title="Link to this definition"></a></dt>
<dd><p>Odoo modules each have a name. (odoo.define(“&lt;the name&gt;”, [&lt;dependencies&gt;], function (require) {…});
It is used in to be required later. (const { something } = require(“&lt;the name&gt;”).
The transpiler transforms the url of the file in the project to this name.
It takes the module name and add a &#64; on the start of it, and map it to be the source of the static/src (or
static/tests, or static/lib) folder in that module.</p>
<p>in: web/static/src/one/two/three.js
out: &#64;web/one/two/three.js
The module would therefore be defined and required by this path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>url</strong> – an url in the project</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a special path starting with &#64;&lt;module-name&gt;.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.js_transpiler.wrap_with_odoo_define">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.js_transpiler.</span></span><span class="sig-name descname"><span class="pre">wrap_with_odoo_define</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dependencies</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/js_transpiler.html#wrap_with_odoo_define"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.js_transpiler.wrap_with_odoo_define" title="Link to this definition"></a></dt>
<dd><p>Wraps the current content (source code) with the odoo.define call.
It adds as a second argument the list of dependencies.
Should logically be called once all other operations have been performed.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.js_transpiler.wrap_with_qunit_module">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.js_transpiler.</span></span><span class="sig-name descname"><span class="pre">wrap_with_qunit_module</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/js_transpiler.html#wrap_with_qunit_module"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.js_transpiler.wrap_with_qunit_module" title="Link to this definition"></a></dt>
<dd><p>Wraps the test file content (source code) with the QUnit.module(‘module_name’, function() {…}).</p>
</dd></dl>

</section>
<section id="module-odoo.tools.json">
<span id="odoo-tools-json-module"></span><h2>odoo.tools.json module<a class="headerlink" href="#module-odoo.tools.json" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.json.JSON">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.json.</span></span><span class="sig-name descname"><span class="pre">JSON</span></span><a class="reference internal" href="_modules/odoo/tools/json.html#JSON"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.json.JSON" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.json.JSON.dumps">
<span class="sig-name descname"><span class="pre">dumps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/json.html#JSON.dumps"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.json.JSON.dumps" title="Link to this definition"></a></dt>
<dd><p>JSON used as JS in HTML (script tags) is problematic: &lt;script&gt;
tags are a special context which only waits for &lt;/script&gt; but doesn’t
interpret anything else, this means standard htmlescaping does not
work (it breaks double quotes, and e.g. <cite>&lt;</cite> will become <cite>&amp;lt;</cite> <em>in
the resulting JSON/JS</em> not just inside the page).</p>
<p>However, failing to escape embedded json means the json strings could
contains <cite>&lt;/script&gt;</cite> and thus become XSS vector.</p>
<p>The solution turns out to be very simple: use JSON-level unicode
escapes for HTML-unsafe characters (e.g. “&lt;” -&gt; “&lt;”. This removes
the XSS issue without breaking the json, and there is no difference to
the end result once it’s been parsed back from JSON. So it will work
properly even for HTML attributes or raw text.</p>
<p>Also handle U+2028 and U+2029 the same way just in case as these are
interpreted as newlines in javascript but not in JSON, which could
lead to oddities and issues.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>except inside &lt;script&gt; elements, this should be escaped following
the normal rules of the containing format</p>
</div>
<p>Cf <a class="reference external" href="https://code.djangoproject.com/ticket/17419#comment:27">https://code.djangoproject.com/ticket/17419#comment:27</a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.json.JSON.loads">
<span class="sig-name descname"><span class="pre">loads</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/json.html#JSON.loads"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.json.JSON.loads" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-odoo.tools.lru">
<span id="odoo-tools-lru-module"></span><h2>odoo.tools.lru module<a class="headerlink" href="#module-odoo.tools.lru" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.lru.LRU">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.lru.</span></span><span class="sig-name descname"><span class="pre">LRU</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pairs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/lru.html#LRU"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.lru.LRU" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Implementation of a length-limited O(1) LRU map.</p>
<p>Original Copyright 2003 Josiah Carlson, later rebuilt on OrderedDict.</p>
<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.lru.LRU.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/lru.html#LRU.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.lru.LRU.clear" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.lru.LRU.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/lru.html#LRU.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.lru.LRU.get" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.lru.LRU.pop">
<span class="sig-name descname"><span class="pre">pop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/lru.html#LRU.pop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.lru.LRU.pop" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-odoo.tools.mail">
<span id="odoo-tools-mail-module"></span><h2>odoo.tools.mail module<a class="headerlink" href="#module-odoo.tools.mail" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.mail.append_content_to_html">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.mail.</span></span><span class="sig-name descname"><span class="pre">append_content_to_html</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">html</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plaintext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preserve</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">container_tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/mail.html#append_content_to_html"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.mail.append_content_to_html" title="Link to this definition"></a></dt>
<dd><p>Append extra content at the end of an HTML snippet, trying
to locate the end of the HTML document (&lt;/body&gt;, &lt;/html&gt;, or
EOF), and converting the provided content in html unless <code class="docutils literal notranslate"><span class="pre">plaintext</span></code>
is False.</p>
<p>Content conversion can be done in two ways:</p>
<ul class="simple">
<li><p>wrapping it into a pre (<code class="docutils literal notranslate"><span class="pre">preserve=True</span></code>)</p></li>
<li><p>use plaintext2html (<code class="docutils literal notranslate"><span class="pre">preserve=False</span></code>, using <code class="docutils literal notranslate"><span class="pre">container_tag</span></code> to
wrap the whole content)</p></li>
</ul>
<p>A side-effect of this method is to coerce all HTML tags to
lowercase in <code class="docutils literal notranslate"><span class="pre">html</span></code>, and strip enclosing &lt;html&gt; or &lt;body&gt; tags in
content if <code class="docutils literal notranslate"><span class="pre">plaintext</span></code> is False.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>html</strong> (<em>str</em>) – html tagsoup (doesn’t have to be XHTML)</p></li>
<li><p><strong>content</strong> (<em>str</em>) – extra content to append</p></li>
<li><p><strong>plaintext</strong> (<em>bool</em>) – whether content is plaintext and should
be wrapped in a &lt;pre/&gt; tag.</p></li>
<li><p><strong>preserve</strong> (<em>bool</em>) – if content is plaintext, wrap it into a &lt;pre&gt;
instead of converting it into html</p></li>
<li><p><strong>container_tag</strong> (<em>str</em>) – tag to wrap the content into, defaults to <cite>div</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>markupsafe.Markup</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.mail.decode_message_header">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.mail.</span></span><span class="sig-name descname"><span class="pre">decode_message_header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">separator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'</span> <span class="pre">'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/mail.html#decode_message_header"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.mail.decode_message_header" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.mail.email_domain_extract">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.mail.</span></span><span class="sig-name descname"><span class="pre">email_domain_extract</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">email</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/mail.html#email_domain_extract"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.mail.email_domain_extract" title="Link to this definition"></a></dt>
<dd><p>Extract the company domain to be used by IAP services notably. Domain
is extracted from email information e.g:</p>
<ul class="simple">
<li><p><a class="reference external" href="mailto:info&#37;&#52;&#48;proximus&#46;be">info<span>&#64;</span>proximus<span>&#46;</span>be</a> -&gt; proximus.be</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.mail.email_domain_normalize">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.mail.</span></span><span class="sig-name descname"><span class="pre">email_domain_normalize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/mail.html#email_domain_normalize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.mail.email_domain_normalize" title="Link to this definition"></a></dt>
<dd><p>Return the domain normalized or False if the domain is invalid.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.mail.email_escape_char">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.mail.</span></span><span class="sig-name descname"><span class="pre">email_escape_char</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">email_address</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/mail.html#email_escape_char"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.mail.email_escape_char" title="Link to this definition"></a></dt>
<dd><p>Escape problematic characters in the given email address string</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.mail.email_normalize">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.mail.</span></span><span class="sig-name descname"><span class="pre">email_normalize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/mail.html#email_normalize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.mail.email_normalize" title="Link to this definition"></a></dt>
<dd><p>Sanitize and standardize email address entries. As of rfc5322 section
3.4.1 local-part is case-sensitive. However most main providers do consider
the local-part as case insensitive. With the introduction of smtp-utf8
within odoo, this assumption is certain to fall short for international
emails. We now consider that</p>
<blockquote>
<div><ul class="simple">
<li><p>if local part is ascii: normalize still ‘lower’ ;</p></li>
<li><p>else: use as it, SMTP-UF8 is made for non-ascii local parts;</p></li>
</ul>
</div></blockquote>
<p>Concerning domain part of the address, as of v14 international domain (IDNA)
are handled fine. The domain is always lowercase, lowering it is fine as it
is probably an error. With the introduction of IDNA, there is an encoding
that allow non-ascii characters to be encoded to ascii ones, using ‘idna.encode’.</p>
<p>A normalized email is considered as :
- having a left part + &#64; + a right part (the domain can be without ‘.something’)
- having no name before the address. Typically, having no ‘Name &lt;&gt;’
Ex:
- Possible Input Email : ‘Name &lt;<a class="reference external" href="mailto:NaMe&#37;&#52;&#48;DoMaIn&#46;CoM">NaMe<span>&#64;</span>DoMaIn<span>&#46;</span>CoM</a>&gt;’
- Normalized Output Email : <a class="reference external" href="mailto:'name&#37;&#52;&#48;domain&#46;com">‘name<span>&#64;</span>domain<span>&#46;</span>com</a>’</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>strict</strong> (<em>boolean</em>) – if True, text should contain a single email
(default behavior in stable 14+). If more than one email is found no
normalized email is returned. If False the first found candidate is used
e.g. if email is <a class="reference external" href="mailto:'tony&#37;&#52;&#48;e&#46;com">‘tony<span>&#64;</span>e<span>&#46;</span>com</a>, “Tony2” &lt;<a class="reference external" href="mailto:tony2&#37;&#52;&#48;e&#46;com">tony2<span>&#64;</span>e<span>&#46;</span>com</a>&gt;’, result is either
False (strict=True), either <a class="reference external" href="mailto:'tony&#37;&#52;&#48;e&#46;com">‘tony<span>&#64;</span>e<span>&#46;</span>com</a>’ (strict=False).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>False if no email found (or if more than 1 email found when being
in strict mode); normalized email otherwise;</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.mail.email_normalize_all">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.mail.</span></span><span class="sig-name descname"><span class="pre">email_normalize_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/mail.html#email_normalize_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.mail.email_normalize_all" title="Link to this definition"></a></dt>
<dd><p>Tool method allowing to extract email addresses from a text input and returning
normalized version of all found emails. If no email is found, a void list
is returned.</p>
<p>e.g. if email is <a class="reference external" href="mailto:'tony&#37;&#52;&#48;e&#46;com">‘tony<span>&#64;</span>e<span>&#46;</span>com</a>, “Tony2” &lt;<a class="reference external" href="mailto:tony2&#37;&#52;&#48;e&#46;com">tony2<span>&#64;</span>e<span>&#46;</span>com</a>’ returned result is [<a class="reference external" href="mailto:'tony&#37;&#52;&#48;e&#46;com">‘tony<span>&#64;</span>e<span>&#46;</span>com</a>, <a class="reference external" href="mailto:tony2&#37;&#52;&#48;e&#46;com">tony2<span>&#64;</span>e<span>&#46;</span>com</a>’]</p>
<dl class="field-list simple">
<dt class="field-odd">Return list<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of normalized emails found in text</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.mail.email_split">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.mail.</span></span><span class="sig-name descname"><span class="pre">email_split</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/mail.html#email_split"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.mail.email_split" title="Link to this definition"></a></dt>
<dd><p>Return a list of the email addresses found in <code class="docutils literal notranslate"><span class="pre">text</span></code></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.mail.email_split_and_format">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.mail.</span></span><span class="sig-name descname"><span class="pre">email_split_and_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/mail.html#email_split_and_format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.mail.email_split_and_format" title="Link to this definition"></a></dt>
<dd><p>Return a list of email addresses found in <code class="docutils literal notranslate"><span class="pre">text</span></code>, formatted using
formataddr.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.mail.email_split_tuples">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.mail.</span></span><span class="sig-name descname"><span class="pre">email_split_tuples</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/mail.html#email_split_tuples"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.mail.email_split_tuples" title="Link to this definition"></a></dt>
<dd><p>Return a list of (name, email) address tuples found in <code class="docutils literal notranslate"><span class="pre">text</span></code> . Note
that text should be an email header or a stringified email list as it may
give broader results than expected on actual text.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.mail.encapsulate_email">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.mail.</span></span><span class="sig-name descname"><span class="pre">encapsulate_email</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">old_email</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_email</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/mail.html#encapsulate_email"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.mail.encapsulate_email" title="Link to this definition"></a></dt>
<dd><p>Change the FROM of the message and use the old one as name.</p>
<p>e.g.
* Old From: “Admin” &lt;<a class="reference external" href="mailto:admin&#37;&#52;&#48;gmail&#46;com">admin<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt;
* New From: <a class="reference external" href="mailto:notifications&#37;&#52;&#48;odoo&#46;com">notifications<span>&#64;</span>odoo<span>&#46;</span>com</a>
* Output: “Admin” &lt;<a class="reference external" href="mailto:notifications&#37;&#52;&#48;odoo&#46;com">notifications<span>&#64;</span>odoo<span>&#46;</span>com</a>&gt;</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.mail.formataddr">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.mail.</span></span><span class="sig-name descname"><span class="pre">formataddr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pair</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'utf-8'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/mail.html#formataddr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.mail.formataddr" title="Link to this definition"></a></dt>
<dd><p>Pretty format a 2-tuple of the form (realname, email_address).</p>
<p>If the first element of pair is falsy then only the email address
is returned.</p>
<p>Set the charset to ascii to get a RFC-2822 compliant email. The
realname will be base64 encoded (if necessary) and the domain part
of the email will be punycode encoded (if necessary). The local part
is left unchanged thus require the SMTPUTF8 extension when there are
non-ascii characters.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">formataddr</span><span class="p">((</span><span class="s1">&#39;John Doe&#39;</span><span class="p">,</span> <span class="s1">&#39;johndoe@example.com&#39;</span><span class="p">))</span>
<span class="go">&#39;&quot;John Doe&quot; &lt;johndoe@example.com&gt;&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">formataddr</span><span class="p">((</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;johndoe@example.com&#39;</span><span class="p">))</span>
<span class="go">&#39;johndoe@example.com&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.mail.generate_tracking_message_id">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.mail.</span></span><span class="sig-name descname"><span class="pre">generate_tracking_message_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">res_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/mail.html#generate_tracking_message_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.mail.generate_tracking_message_id" title="Link to this definition"></a></dt>
<dd><p>Returns a string that can be used in the Message-ID RFC822 header field</p>
<p>Used to track the replies related to a given object thanks to the “In-Reply-To”
or “References” fields that Mail User Agents will set.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.mail.html2plaintext">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.mail.</span></span><span class="sig-name descname"><span class="pre">html2plaintext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">html</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'utf-8'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/mail.html#html2plaintext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.mail.html2plaintext" title="Link to this definition"></a></dt>
<dd><p>From an HTML text, convert the HTML to plain text.
If &#64;param body_id is provided then this is the tag where the
body (not necessarily &lt;body&gt;) starts.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.mail.html_keep_url">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.mail.</span></span><span class="sig-name descname"><span class="pre">html_keep_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/mail.html#html_keep_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.mail.html_keep_url" title="Link to this definition"></a></dt>
<dd><p>Transform the url into clickable link with &lt;a/&gt; tag</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.mail.html_normalize">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.mail.</span></span><span class="sig-name descname"><span class="pre">html_normalize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_callback</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/mail.html#html_normalize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.mail.html_normalize" title="Link to this definition"></a></dt>
<dd><p>Normalize <cite>src</cite> for storage as an html field value.</p>
<p>The string is parsed as an html tag soup, made valid, then decorated for
“email quote” detection, and prepared for an optional filtering.
The filtering step (e.g. sanitization) should be performed by the
<cite>filter_callback</cite> function (to avoid multiple parsing operations, and
normalize the result).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src</strong> – the html string to normalize</p></li>
<li><p><strong>filter_callback</strong> – optional callable taking a single <cite>etree._Element</cite>
document parameter, to be called during normalization in order to
filter the output document</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.mail.html_sanitize">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.mail.</span></span><span class="sig-name descname"><span class="pre">html_sanitize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">silent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sanitize_tags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sanitize_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sanitize_style</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sanitize_form</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strip_style</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strip_classes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/mail.html#html_sanitize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.mail.html_sanitize" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.mail.html_to_inner_content">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.mail.</span></span><span class="sig-name descname"><span class="pre">html_to_inner_content</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">html</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/mail.html#html_to_inner_content"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.mail.html_to_inner_content" title="Link to this definition"></a></dt>
<dd><p>Returns unformatted text after removing html tags and excessive whitespace from a
string/Markup. Passed strings will first be sanitized.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.mail.is_html_empty">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.mail.</span></span><span class="sig-name descname"><span class="pre">is_html_empty</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">html_content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/mail.html#is_html_empty"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.mail.is_html_empty" title="Link to this definition"></a></dt>
<dd><p>Check if a html content is empty. If there are only formatting tags with style
attributes or a void content  return True. Famous use case if a
‘&lt;p style=”…”&gt;&lt;br&gt;&lt;/p&gt;’ added by some web editor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>html_content</strong> (<em>str</em>) – html content, coming from example from an HTML field</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>bool, True if no content found or if containing only void formatting tags</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.mail.parse_contact_from_email">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.mail.</span></span><span class="sig-name descname"><span class="pre">parse_contact_from_email</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/mail.html#parse_contact_from_email"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.mail.parse_contact_from_email" title="Link to this definition"></a></dt>
<dd><p>Parse contact name and email (given by text) in order to find contact
information, able to populate records like partners, leads, …
Supported syntax:</p>
<blockquote>
<div><ul class="simple">
<li><p>Raoul &lt;<a class="reference external" href="mailto:raoul&#37;&#52;&#48;grosbedon&#46;fr">raoul<span>&#64;</span>grosbedon<span>&#46;</span>fr</a>&gt;</p></li>
<li><p>“Raoul le Grand” &lt;<a class="reference external" href="mailto:raoul&#37;&#52;&#48;grosbedon&#46;fr">raoul<span>&#64;</span>grosbedon<span>&#46;</span>fr</a>&gt;</p></li>
<li><p>Raoul <a class="reference external" href="mailto:raoul&#37;&#52;&#48;grosbedon&#46;fr">raoul<span>&#64;</span>grosbedon<span>&#46;</span>fr</a> (strange fault tolerant support from
df40926d2a57c101a3e2d221ecfd08fbb4fea30e now supported directly
in ‘email_split_tuples’;</p></li>
</ul>
</div></blockquote>
<p>Otherwise: default, text is set as name.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>name, email (normalized if possible)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.mail.plaintext2html">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.mail.</span></span><span class="sig-name descname"><span class="pre">plaintext2html</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">container_tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/mail.html#plaintext2html"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.mail.plaintext2html" title="Link to this definition"></a></dt>
<dd><p>Convert plaintext into html. Content of the text is escaped to manage
html entities, using <code class="xref py py-func docutils literal notranslate"><span class="pre">html_escape()</span></code>.</p>
<ul class="simple">
<li><p>all <code class="docutils literal notranslate"><span class="pre">\n</span></code>, <code class="docutils literal notranslate"><span class="pre">\r</span></code> are replaced by <code class="docutils literal notranslate"><span class="pre">&lt;br/&gt;</span></code></p></li>
<li><p>enclose content into <code class="docutils literal notranslate"><span class="pre">&lt;p&gt;</span></code></p></li>
<li><p>convert url into clickable link</p></li>
<li><p>2 or more consecutive <code class="docutils literal notranslate"><span class="pre">&lt;br/&gt;</span></code> are considered as paragraph breaks</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<em>str</em>) – plaintext to convert</p></li>
<li><p><strong>container_tag</strong> (<em>str</em>) – container of the html; by default the content is
embedded into a <code class="docutils literal notranslate"><span class="pre">&lt;div&gt;</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>markupsafe.Markup</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.mail.prepend_html_content">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.mail.</span></span><span class="sig-name descname"><span class="pre">prepend_html_content</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">html_body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">html_content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/mail.html#prepend_html_content"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.mail.prepend_html_content" title="Link to this definition"></a></dt>
<dd><p>Prepend some HTML content at the beginning of an other HTML content.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.mail.tag_quote">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.mail.</span></span><span class="sig-name descname"><span class="pre">tag_quote</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">el</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/mail.html#tag_quote"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.mail.tag_quote" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.mail.url_domain_extract">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.mail.</span></span><span class="sig-name descname"><span class="pre">url_domain_extract</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/mail.html#url_domain_extract"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.mail.url_domain_extract" title="Link to this definition"></a></dt>
<dd><p>Extract the company domain to be used by IAP services notably. Domain
is extracted from an URL e.g:</p>
<ul class="simple">
<li><p>www.info.proximus.be -&gt; proximus.be</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.mail.validate_url">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.mail.</span></span><span class="sig-name descname"><span class="pre">validate_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/mail.html#validate_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.mail.validate_url" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-odoo.tools.mimetypes">
<span id="odoo-tools-mimetypes-module"></span><h2>odoo.tools.mimetypes module<a class="headerlink" href="#module-odoo.tools.mimetypes" title="Link to this heading"></a></h2>
<p>Mimetypes-related utilities</p>
<p># TODO: reexport stdlib mimetypes?</p>
<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.mimetypes.guess_mimetype">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.mimetypes.</span></span><span class="sig-name descname"><span class="pre">guess_mimetype</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bin_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'application/octet-stream'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/mimetypes.html#guess_mimetype"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.mimetypes.guess_mimetype" title="Link to this definition"></a></dt>
<dd><p>Attempts to guess the mime type of the provided binary data, similar
to but significantly more limited than libmagic</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>bin_data</strong> (<em>str</em>) – binary data to try and guess a mime type for</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>matched mimetype or <code class="docutils literal notranslate"><span class="pre">application/octet-stream</span></code> if none matched</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-odoo.tools.misc">
<span id="odoo-tools-misc-module"></span><h2>odoo.tools.misc module<a class="headerlink" href="#module-odoo.tools.misc" title="Link to this heading"></a></h2>
<p>Miscellaneous tools used by OpenERP.</p>
<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.misc.Callbacks">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">Callbacks</span></span><a class="reference internal" href="_modules/odoo/tools/misc.html#Callbacks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.Callbacks" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A simple queue of callback functions.  Upon run, every function is
called (in addition order), and the queue is emptied.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">callbacks</span> <span class="o">=</span> <span class="n">Callbacks</span><span class="p">()</span>

<span class="c1"># add foo</span>
<span class="k">def</span> <span class="nf">foo</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">)</span>

<span class="n">callbacks</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">foo</span><span class="p">)</span>

<span class="c1"># add bar</span>
<span class="n">callbacks</span><span class="o">.</span><span class="n">add</span>
<span class="k">def</span> <span class="nf">bar</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;bar&quot;</span><span class="p">)</span>

<span class="c1"># add foo again</span>
<span class="n">callbacks</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">foo</span><span class="p">)</span>

<span class="c1"># call foo(), bar(), foo(), then clear the callback queue</span>
<span class="n">callbacks</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>The queue also provides a <code class="docutils literal notranslate"><span class="pre">data</span></code> dictionary, that may be freely used to
store anything, but is mostly aimed at aggregating data for callbacks.  The
dictionary is automatically cleared by <code class="docutils literal notranslate"><span class="pre">run()</span></code> once all callback functions
have been called.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># register foo to process aggregated data</span>
<span class="nd">@callbacks</span><span class="o">.</span><span class="n">add</span>
<span class="k">def</span> <span class="nf">foo</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">callbacks</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;foo&#39;</span><span class="p">]))</span>

<span class="n">callbacks</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="p">[])</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="o">...</span>
<span class="n">callbacks</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="p">[])</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="o">...</span>
<span class="n">callbacks</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="p">[])</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

<span class="c1"># call foo(), which prints 6</span>
<span class="n">callbacks</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>Given the global nature of <code class="docutils literal notranslate"><span class="pre">data</span></code>, the keys should identify in a unique
way the data being stored.  It is recommended to use strings with a
structure like <code class="docutils literal notranslate"><span class="pre">&quot;{module}.{feature}&quot;</span></code>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.misc.Callbacks.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#Callbacks.add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.Callbacks.add" title="Link to this definition"></a></dt>
<dd><p>Add the given function.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.misc.Callbacks.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#Callbacks.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.Callbacks.clear" title="Link to this definition"></a></dt>
<dd><p>Remove all callbacks and data from self.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="odoo.tools.misc.Callbacks.data">
<span class="sig-name descname"><span class="pre">data</span></span><a class="headerlink" href="#odoo.tools.misc.Callbacks.data" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.misc.Callbacks.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#Callbacks.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.Callbacks.run" title="Link to this definition"></a></dt>
<dd><p>Call all the functions (in addition order), then clear associated data.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.misc.Collector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">Collector</span></span><a class="reference internal" href="_modules/odoo/tools/misc.html#Collector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.Collector" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>A mapping from keys to tuples.  This implements a relation, and can be
seen as a space optimization for <code class="docutils literal notranslate"><span class="pre">defaultdict(tuple)</span></code>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.misc.Collector.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#Collector.add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.Collector.add" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.misc.Collector.discard_keys_and_values">
<span class="sig-name descname"><span class="pre">discard_keys_and_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">excludes</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#Collector.discard_keys_and_values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.Collector.discard_keys_and_values" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.misc.ConstantMapping">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">ConstantMapping</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#ConstantMapping"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.ConstantMapping" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Mapping</span></code></p>
<p>An immutable mapping returning the provided value for every single key.</p>
<p>Useful for default value to methods</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.misc.CountingStream">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">CountingStream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#CountingStream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.CountingStream" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Stream wrapper counting the number of element it has yielded. Similar
role to <code class="docutils literal notranslate"><span class="pre">enumerate</span></code>, but for use when the iteration process of the stream
isn’t fully under caller control (the stream can be iterated from multiple
points including within a library)</p>
<p><code class="docutils literal notranslate"><span class="pre">start</span></code> allows overriding the starting index (the index before the first
item is returned).</p>
<p>On each iteration (call to <a class="reference internal" href="#odoo.tools.misc.CountingStream.next" title="odoo.tools.misc.CountingStream.next"><code class="xref py py-meth docutils literal notranslate"><span class="pre">next()</span></code></a>), increases its <a class="reference internal" href="#odoo.tools.misc.CountingStream.index" title="odoo.tools.misc.CountingStream.index"><code class="xref py py-attr docutils literal notranslate"><span class="pre">index</span></code></a>
by one.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="odoo.tools.misc.CountingStream.index">
<span class="sig-name descname"><span class="pre">index</span></span><a class="headerlink" href="#odoo.tools.misc.CountingStream.index" title="Link to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">int</span></code>, index of the last yielded element in the stream. If the stream
has ended, will give an index 1-past the stream</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.misc.CountingStream.next">
<span class="sig-name descname"><span class="pre">next</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#CountingStream.next"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.CountingStream.next" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.misc.DotDict">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">DotDict</span></span><a class="reference internal" href="_modules/odoo/tools/misc.html#DotDict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.DotDict" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>Helper for dot.notation access to dictionary attributes</p>
<dl class="simple">
<dt>E.g.</dt><dd><p>foo = DotDict({‘bar’: False})
return foo.bar</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.misc.LastOrderedSet">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">LastOrderedSet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elems</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#LastOrderedSet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.LastOrderedSet" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#odoo.tools.misc.OrderedSet" title="odoo.tools.misc.OrderedSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedSet</span></code></a></p>
<p>A set collection that remembers the elements last insertion order.</p>
<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.misc.LastOrderedSet.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elem</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#LastOrderedSet.add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.LastOrderedSet.add" title="Link to this definition"></a></dt>
<dd><p>Add an element.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.misc.OrderedSet">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">OrderedSet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elems</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#OrderedSet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.OrderedSet" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">MutableSet</span></code></p>
<p>A set collection that remembers the elements first insertion order.</p>
<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.misc.OrderedSet.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elem</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#OrderedSet.add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.OrderedSet.add" title="Link to this definition"></a></dt>
<dd><p>Add an element.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.misc.OrderedSet.difference_update">
<span class="sig-name descname"><span class="pre">difference_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elems</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#OrderedSet.difference_update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.OrderedSet.difference_update" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.misc.OrderedSet.discard">
<span class="sig-name descname"><span class="pre">discard</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elem</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#OrderedSet.discard"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.OrderedSet.discard" title="Link to this definition"></a></dt>
<dd><p>Remove an element.  Do not raise an exception if absent.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.misc.OrderedSet.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elems</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#OrderedSet.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.OrderedSet.update" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.misc.PatchedWorkbook">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">PatchedWorkbook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ascii'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">style_compression</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#PatchedWorkbook"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.PatchedWorkbook" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Workbook</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.misc.PatchedWorkbook.add_sheet">
<span class="sig-name descname"><span class="pre">add_sheet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cell_overwrite_ok</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#PatchedWorkbook.add_sheet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.PatchedWorkbook.add_sheet" title="Link to this definition"></a></dt>
<dd><p>This method is used to create Worksheets in a Workbook.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sheetname</strong> – The name to use for this sheet, as it will appear in the
tabs at the bottom of the Excel application.</p></li>
<li><p><strong>cell_overwrite_ok</strong> – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, cells in the added worksheet will not raise an
exception if written to more than once.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">Worksheet</span></code> that was added.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.misc.PatchedXlsxWorkbook">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">PatchedXlsxWorkbook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#PatchedXlsxWorkbook"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.PatchedXlsxWorkbook" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Workbook</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.misc.PatchedXlsxWorkbook.add_worksheet">
<span class="sig-name descname"><span class="pre">add_worksheet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#PatchedXlsxWorkbook.add_worksheet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.PatchedXlsxWorkbook.add_worksheet" title="Link to this definition"></a></dt>
<dd><p>Add a new worksheet to the Excel workbook.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>name: The worksheet name. Defaults to ‘Sheet1’, etc.</p>
</dd>
<dt>Returns:</dt><dd><p>Reference to a worksheet object.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.misc.ReadonlyDict">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">ReadonlyDict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#ReadonlyDict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.ReadonlyDict" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Mapping</span></code></p>
<p>Helper for an unmodifiable dictionary, not even updatable using <cite>dict.update</cite>.</p>
<p>This is similar to a <cite>frozendict</cite>, with one drawback and one advantage:</p>
<ul class="simple">
<li><p><cite>dict.update</cite> works for a <cite>frozendict</cite> but not for a <cite>ReadonlyDict</cite>.</p></li>
<li><p><cite>json.dumps</cite> works for a <cite>frozendict</cite> by default but not for a <cite>ReadonlyDict</cite>.</p></li>
</ul>
<p>This comes from the fact <cite>frozendict</cite> inherits from <cite>dict</cite>
while <cite>ReadonlyDict</cite> inherits from <cite>collections.abc.Mapping</cite>.</p>
<p>So, depending on your needs,
whether you absolutely must prevent the dictionary from being updated (e.g., for security reasons)
or you require it to be supported by <cite>json.dumps</cite>, you can choose either option.</p>
<blockquote>
<div><dl class="simple">
<dt>E.g.</dt><dd><p>data = ReadonlyDict({‘foo’: ‘bar’})
data[‘baz’] = ‘xyz’ # raises exception
data.update({‘baz’, ‘xyz’}) # raises exception
dict.update(data, {‘baz’: ‘xyz’}) # raises exception</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.misc.Reverse">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">Reverse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#Reverse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.Reverse" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Wraps a value and reverses its ordering, useful in key functions when
mixing ascending and descending sort on non-numeric data as the
<code class="docutils literal notranslate"><span class="pre">reverse</span></code> parameter can not do piecemeal reordering.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="odoo.tools.misc.Reverse.val">
<span class="sig-name descname"><span class="pre">val</span></span><a class="headerlink" href="#odoo.tools.misc.Reverse.val" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.misc.ReversedIterable">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">ReversedIterable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterable</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#ReversedIterable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.ReversedIterable" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>An iterable implementing the reversal of another iterable.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="odoo.tools.misc.ReversedIterable.iterable">
<span class="sig-name descname"><span class="pre">iterable</span></span><a class="headerlink" href="#odoo.tools.misc.ReversedIterable.iterable" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.misc.StackMap">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">StackMap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#StackMap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.StackMap" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">MutableMapping</span></code></p>
<p>A stack of mappings behaving as a single mapping, and used to implement
nested scopes. The lookups search the stack from top to bottom, and
returns the first value found. Mutable operations modify the topmost
mapping only.</p>
<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.misc.StackMap.popmap">
<span class="sig-name descname"><span class="pre">popmap</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#StackMap.popmap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.StackMap.popmap" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.misc.StackMap.pushmap">
<span class="sig-name descname"><span class="pre">pushmap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#StackMap.pushmap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.StackMap.pushmap" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.misc.Unpickler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">Unpickler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fix_imports</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ASCII'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'strict'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buffers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#Unpickler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.Unpickler" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Unpickler</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.misc.Unpickler.find_class">
<span class="sig-name descname"><span class="pre">find_class</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#Unpickler.find_class"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.Unpickler.find_class" title="Link to this definition"></a></dt>
<dd><p>Return an object from a specified module.</p>
<p>If necessary, the module will be imported. Subclasses may override
this method (e.g. to restrict unpickling of arbitrary classes and
functions).</p>
<p>This method is called whenever a class or a function object is
needed.  Both arguments passed are str objects.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.attrgetter">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">attrgetter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">items</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#attrgetter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.attrgetter" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.babel_locale_parse">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">babel_locale_parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lang_code</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#babel_locale_parse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.babel_locale_parse" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.clean_context">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">clean_context</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#clean_context"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.clean_context" title="Link to this definition"></a></dt>
<dd><p>This function take a dictionary and remove each entry with its key
starting with <code class="docutils literal notranslate"><span class="pre">default_</span></code></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.detect_ip_addr">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">detect_ip_addr</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#detect_ip_addr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.detect_ip_addr" title="Link to this definition"></a></dt>
<dd><p>Try a very crude method to figure out a valid external
IP or hostname for the current machine. Don’t rely on this
for binding to an interface, but it could be used as basis
for constructing a remote URL to the server.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.discardattr">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">discardattr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#discardattr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.discardattr" title="Link to this definition"></a></dt>
<dd><p>Perform a <code class="docutils literal notranslate"><span class="pre">delattr(obj,</span> <span class="pre">key)</span></code> but without crashing if <code class="docutils literal notranslate"><span class="pre">key</span></code> is not present.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.dumpstacks">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">dumpstacks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thread_idents</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#dumpstacks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.dumpstacks" title="Link to this definition"></a></dt>
<dd><p>Signal handler: dump a stack trace for each existing thread or given
thread(s) specified through the <code class="docutils literal notranslate"><span class="pre">thread_idents</span></code> sequence.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.exec_command_pipe">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">exec_command_pipe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#exec_command_pipe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.exec_command_pipe" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.exec_pg_command">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">exec_pg_command</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#exec_pg_command"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.exec_pg_command" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.exec_pg_command_pipe">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">exec_pg_command_pipe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#exec_pg_command_pipe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.exec_pg_command_pipe" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.exec_pg_environ">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">exec_pg_environ</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#exec_pg_environ"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.exec_pg_environ" title="Link to this definition"></a></dt>
<dd><p>Force the database PostgreSQL environment variables to the database
configuration of Odoo.</p>
<p>Note: On systems where pg_restore/pg_dump require an explicit password
(i.e.  on Windows where TCP sockets are used), it is necessary to pass the
postgres user password in the PGPASSWORD environment variable or in a
special .pgpass file.</p>
<p>See also <a class="reference external" href="http://www.postgresql.org/docs/8.4/static/libpq-envars.html">http://www.postgresql.org/docs/8.4/static/libpq-envars.html</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.file_open">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">file_open</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'r'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#file_open"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.file_open" title="Link to this definition"></a></dt>
<dd><p>Open a file from within the addons_path directories, as an absolute or relative path.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">file_open</span><span class="p">(</span><span class="s1">&#39;hr/static/description/icon.png&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">file_open</span><span class="p">(</span><span class="s1">&#39;hr/static/description/icon.png&#39;</span><span class="p">,</span> <span class="n">filter_ext</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;.png&#39;</span><span class="p">,</span> <span class="s1">&#39;.jpg&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">file_open</span><span class="p">(</span><span class="s1">&#39;/opt/odoo/addons/hr/static/description/icon.png&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">contents</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – absolute or relative path to a file located inside an addon</p></li>
<li><p><strong>mode</strong> – file open mode, as for <cite>open()</cite></p></li>
<li><p><strong>filter_ext</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – optional list of supported extensions (lowercase, with leading dot)</p></li>
<li><p><strong>env</strong> – optional environment, required to open a file within a temporary directory
created using <cite>file_open_temporary_directory()</cite></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>file object, as returned by <cite>open()</cite></p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>FileNotFoundError</strong> – if the file is not found under the known <cite>addons_path</cite> directories</p></li>
<li><p><strong>ValueError</strong> – if the file doesn’t have one of the supported extensions (<cite>filter_ext</cite>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.file_open_temporary_directory">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">file_open_temporary_directory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#file_open_temporary_directory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.file_open_temporary_directory" title="Link to this definition"></a></dt>
<dd><p>Create and return a temporary directory added to the directories <cite>file_open</cite> is allowed to read from.</p>
<p><cite>file_open</cite> will be allowed to open files within the temporary directory
only for environments of the same transaction than <cite>env</cite>.
Meaning, other transactions/requests from other users or even other databases
won’t be allowed to open files from this directory.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">odoo</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">file_open_temporary_directory</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="p">)</span> <span class="k">as</span> <span class="n">module_dir</span><span class="p">:</span>
<span class="gp">... </span>   <span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="s1">&#39;foo.zip&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">z</span><span class="p">:</span>
<span class="gp">... </span>       <span class="n">z</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="s1">&#39;foo/__manifest__.py&#39;</span><span class="p">,</span> <span class="n">module_dir</span><span class="p">)</span>
<span class="gp">... </span>   <span class="k">with</span> <span class="n">odoo</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">file_open</span><span class="p">(</span><span class="s1">&#39;foo/__manifest__.py&#39;</span><span class="p">,</span> <span class="n">env</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">... </span>       <span class="n">manifest</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>env</strong> – environment for which the temporary directory is created.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the absolute path to the created temporary directory</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.file_path">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">file_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('',)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#file_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.file_path" title="Link to this definition"></a></dt>
<dd><p>Verify that a file exists under a known <cite>addons_path</cite> directory and return its full path.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">file_path</span><span class="p">(</span><span class="s1">&#39;hr&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">file_path</span><span class="p">(</span><span class="s1">&#39;hr/static/description/icon.png&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">file_path</span><span class="p">(</span><span class="s1">&#39;hr/static/description/icon.png&#39;</span><span class="p">,</span> <span class="n">filter_ext</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;.png&#39;</span><span class="p">,</span> <span class="s1">&#39;.jpg&#39;</span><span class="p">))</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<em>str</em>) – absolute file path, or relative path within any <cite>addons_path</cite> directory</p></li>
<li><p><strong>filter_ext</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – optional list of supported extensions (lowercase, with leading dot)</p></li>
<li><p><strong>env</strong> – optional environment, required for a file path within a temporary directory
created using <cite>file_open_temporary_directory()</cite></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the absolute path to the file</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>FileNotFoundError</strong> – if the file is not found under the known <cite>addons_path</cite> directories</p></li>
<li><p><strong>ValueError</strong> – if the file doesn’t have one of the supported extensions (<cite>filter_ext</cite>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.find_in_path">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">find_in_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#find_in_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.find_in_path" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.find_pg_tool">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">find_pg_tool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#find_pg_tool"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.find_pg_tool" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.flatten">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">flatten</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#flatten"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.flatten" title="Link to this definition"></a></dt>
<dd><p>Flatten a list of elements into a unique list
Author: Christophe Simonis (<a class="reference external" href="mailto:christophe&#37;&#52;&#48;tinyerp&#46;com">christophe<span>&#64;</span>tinyerp<span>&#46;</span>com</a>)</p>
<p>Examples::
&gt;&gt;&gt; flatten([‘a’])
[‘a’]
&gt;&gt;&gt; flatten(‘b’)
[‘b’]
&gt;&gt;&gt; flatten( [] )
[]
&gt;&gt;&gt; flatten( [[], [[]]] )
[]
&gt;&gt;&gt; flatten( [[[‘a’,’b’], ‘c’], ‘d’, [‘e’, [], ‘f’]] )
[‘a’, ‘b’, ‘c’, ‘d’, ‘e’, ‘f’]
&gt;&gt;&gt; t = (1,2,(3,), [4, 5, [6, [7], (8, 9), ([10, 11, (12, 13)]), [14, [], (15,)], []]])
&gt;&gt;&gt; flatten(t)
[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.formatLang">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">formatLang</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">digits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grouping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">monetary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">currency_obj</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rounding_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'HALF-EVEN'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rounding_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'decimals'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#formatLang"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.formatLang" title="Link to this definition"></a></dt>
<dd><p>This function will format a number <cite>value</cite> to the appropriate format of the language used.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>env</strong> (<em>Object</em>) – The environment.</p></li>
<li><p><strong>value</strong> (<em>float</em>) – The value to be formatted.</p></li>
<li><p><strong>digits</strong> (<em>int</em>) – The number of decimals digits.</p></li>
<li><p><strong>grouping</strong> (<em>bool</em>) – Usage of language grouping or not.</p></li>
<li><p><strong>monetary</strong> (<em>bool</em>) – Usage of thousands separator or not.
.. deprecated:: 13.0</p></li>
<li><p><strong>dp</strong> (<em>str</em>) – Name of the decimals precision to be used. This will override <code class="docutils literal notranslate"><span class="pre">digits</span></code>
and <code class="docutils literal notranslate"><span class="pre">currency_obj</span></code> precision.</p></li>
<li><p><strong>currency_obj</strong> (<em>Object</em>) – Currency to be used. This will override <code class="docutils literal notranslate"><span class="pre">digits</span></code> precision.</p></li>
<li><p><strong>rounding_method</strong> (<em>str</em>) – The rounding method to be used:
<strong>‘HALF-UP’</strong> will round to the closest number with ties going away from zero,
<strong>‘HALF-DOWN’</strong> will round to the closest number with ties going towards zero,
<strong>‘HALF_EVEN’</strong> will round to the closest number with ties going to the closest
even number,
<strong>‘UP’</strong> will always round away from 0,
<strong>‘DOWN’</strong> will always round towards 0.</p></li>
<li><p><strong>rounding_unit</strong> (<em>str</em>) – The rounding unit to be used:
<strong>decimals</strong> will round to decimals with <code class="docutils literal notranslate"><span class="pre">digits</span></code> or <code class="docutils literal notranslate"><span class="pre">dp</span></code> precision,
<strong>units</strong> will round to units without any decimals,
<strong>thousands</strong> will round to thousands without any decimals,
<strong>lakhs</strong> will round to lakhs without any decimals,
<strong>millions</strong> will round to millions without any decimals.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The value formatted.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.format_amount">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">format_amount</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">currency</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lang_code</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#format_amount"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.format_amount" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.format_date">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">format_date</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lang_code</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#format_date"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.format_date" title="Link to this definition"></a></dt>
<dd><p>Formats the date in a given format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>env</strong> – an environment.</p></li>
<li><p><strong>value</strong> (<em>date</em><em>, </em><em>datetime</em><em> or </em><em>string</em>) – the date to format.</p></li>
<li><p><strong>lang_code</strong> (<em>string</em>) – the lang code, if not specified it is extracted from the
environment context.</p></li>
<li><p><strong>date_format</strong> (<em>string</em>) – the format or the date (LDML format), if not specified the
default format of the lang.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>date formatted in the specified format.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.format_datetime">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">format_datetime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'medium'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lang_code</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#format_datetime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.format_datetime" title="Link to this definition"></a></dt>
<dd><p>Formats the datetime in a given format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>env</strong></p></li>
<li><p><strong>value</strong> (<em>str</em><em>|</em><em>datetime</em>) – naive datetime to format either in string or in datetime</p></li>
<li><p><strong>tz</strong> (<em>str</em>) – name of the timezone  in which the given datetime should be localized</p></li>
<li><p><strong>dt_format</strong> (<em>str</em>) – one of “full”, “long”, “medium”, or “short”, or a custom date/time pattern compatible with <cite>babel</cite> lib</p></li>
<li><p><strong>lang_code</strong> (<em>str</em>) – ISO code of the language to use to render the given datetime</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.format_decimalized_amount">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">format_decimalized_amount</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">amount</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">currency</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#format_decimalized_amount"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.format_decimalized_amount" title="Link to this definition"></a></dt>
<dd><p>Format a amount to display the currency and also display the metric unit of the amount.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_decimalized_amount</span><span class="p">(</span><span class="mf">123_456.789</span><span class="p">,</span> <span class="n">res</span><span class="o">.</span><span class="n">currency</span><span class="p">(</span><span class="s2">&quot;$&quot;</span><span class="p">))</span>
<span class="go">$123.5k</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.format_decimalized_number">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">format_decimalized_number</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#format_decimalized_number"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.format_decimalized_number" title="Link to this definition"></a></dt>
<dd><p>Format a number to display to nearest metrics unit next to it.</p>
<p>Do not display digits if all visible digits are null.
Do not display units higher then “Tera” because most of people don’t know what
a “Yotta” is.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_decimalized_number</span><span class="p">(</span><span class="mf">123_456.789</span><span class="p">)</span>
<span class="go">123.5k</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_decimalized_number</span><span class="p">(</span><span class="mf">123_000.789</span><span class="p">)</span>
<span class="go">123k</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_decimalized_number</span><span class="p">(</span><span class="o">-</span><span class="mf">123_456.789</span><span class="p">)</span>
<span class="go">-123.5k</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_decimalized_number</span><span class="p">(</span><span class="mf">0.789</span><span class="p">)</span>
<span class="go">0.8</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.format_duration">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">format_duration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#format_duration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.format_duration" title="Link to this definition"></a></dt>
<dd><p>Format a float: used to display integral or fractional values as
human-readable time spans (e.g. 1.5 as “01:30”).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.format_frame">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">format_frame</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#format_frame"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.format_frame" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.format_time">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">format_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'medium'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lang_code</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#format_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.format_time" title="Link to this definition"></a></dt>
<dd><p>Format the given time (hour, minute and second) with the current user preference (language, format, …)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>env</strong></p></li>
<li><p><strong>value</strong> (<cite>datetime.time</cite> instance. Could be timezoned to display tzinfo according to format (e.i.: ‘full’ format)) – the time to format</p></li>
<li><p><strong>tz</strong> – name of the timezone  in which the given datetime should be localized</p></li>
<li><p><strong>time_format</strong> – one of “full”, “long”, “medium”, or “short”, or a custom time pattern</p></li>
<li><p><strong>lang_code</strong> – ISO</p></li>
</ul>
</dd>
</dl>
<p>:rtype str</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.freehash">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">freehash</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#freehash"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.freehash" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.misc.frozendict">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">frozendict</span></span><a class="reference internal" href="_modules/odoo/tools/misc.html#frozendict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.frozendict" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>An implementation of an immutable dictionary.</p>
<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.misc.frozendict.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None.</span>&#160; <span class="pre">Remove</span> <span class="pre">all</span> <span class="pre">items</span> <span class="pre">from</span> <span class="pre">D.</span></span></span><a class="reference internal" href="_modules/odoo/tools/misc.html#frozendict.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.frozendict.clear" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.misc.frozendict.pop">
<span class="sig-name descname"><span class="pre">pop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">k</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="optional">]</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">v,</span> <span class="pre">remove</span> <span class="pre">specified</span> <span class="pre">key</span> <span class="pre">and</span> <span class="pre">return</span> <span class="pre">the</span> <span class="pre">corresponding</span> <span class="pre">value.</span></span></span><a class="reference internal" href="_modules/odoo/tools/misc.html#frozendict.pop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.frozendict.pop" title="Link to this definition"></a></dt>
<dd><p>If the key is not found, return the default if given; otherwise,
raise a KeyError.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.misc.frozendict.popitem">
<span class="sig-name descname"><span class="pre">popitem</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#frozendict.popitem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.frozendict.popitem" title="Link to this definition"></a></dt>
<dd><p>Remove and return a (key, value) pair as a 2-tuple.</p>
<p>Pairs are returned in LIFO (last-in, first-out) order.
Raises KeyError if the dict is empty.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.misc.frozendict.setdefault">
<span class="sig-name descname"><span class="pre">setdefault</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#frozendict.setdefault"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.frozendict.setdefault" title="Link to this definition"></a></dt>
<dd><p>Insert key with a value of default if key is not in the dictionary.</p>
<p>Return the value for key if key is in the dictionary, else default.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.misc.frozendict.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">E</span></span></em>, <span class="optional">]</span><em class="sig-param"><span class="n"><span class="pre">**F</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None.</span>&#160; <span class="pre">Update</span> <span class="pre">D</span> <span class="pre">from</span> <span class="pre">dict/iterable</span> <span class="pre">E</span> <span class="pre">and</span> <span class="pre">F.</span></span></span><a class="reference internal" href="_modules/odoo/tools/misc.html#frozendict.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.frozendict.update" title="Link to this definition"></a></dt>
<dd><p>If E is present and has a .keys() method, then does:  for k in E: D[k] = E[k]
If E is present and lacks a .keys() method, then does:  for k, v in E: D[k] = v
In either case, this is followed by: for k in F:  D[k] = F[k]</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.get_diff">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">get_diff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_from</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_to</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_style</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dark_color_scheme</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#get_diff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.get_diff" title="Link to this definition"></a></dt>
<dd><p>Return, in an HTML table, the diff between two texts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_from</strong> (<em>tuple</em>) – tuple(text, name), name will be used as table header</p></li>
<li><p><strong>data_to</strong> (<em>tuple</em>) – tuple(text, name), name will be used as table header</p></li>
<li><p><strong>custom_style</strong> (<em>tuple</em>) – string, style css including &lt;style&gt; tag.</p></li>
<li><p><strong>dark_color_scheme</strong> (<em>bool</em>) – true if dark color scheme is used</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a string containing the diff in an HTML table format.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.get_flag">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">get_flag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">country_code</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/odoo/tools/misc.html#get_flag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.get_flag" title="Link to this definition"></a></dt>
<dd><p>Get the emoji representing the flag linked to the country code.</p>
<p>This emoji is composed of the two regional indicator emoji of the country code.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.get_iso_codes">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">get_iso_codes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lang</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#get_iso_codes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.get_iso_codes" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.get_lang">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">get_lang</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lang_code</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#get_lang"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.get_lang" title="Link to this definition"></a></dt>
<dd><p>Retrieve the first lang object installed, by checking the parameter lang_code,
the context and then the company. If no lang is installed from those variables,
fallback on english or on the first lang installed in the system.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>env</strong></p></li>
<li><p><strong>lang_code</strong> (<em>str</em>) – the locale (i.e. en_US)</p></li>
</ul>
</dd>
<dt class="field-even">Return res.lang<span class="colon">:</span></dt>
<dd class="field-even"><p>the first lang found that is installed on the system.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.groupby">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">groupby</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#groupby"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.groupby" title="Link to this definition"></a></dt>
<dd><p>Return a collection of pairs <code class="docutils literal notranslate"><span class="pre">(key,</span> <span class="pre">elements)</span></code> from <code class="docutils literal notranslate"><span class="pre">iterable</span></code>. The
<code class="docutils literal notranslate"><span class="pre">key</span></code> is a function computing a key value for each element. This
function is similar to <code class="docutils literal notranslate"><span class="pre">itertools.groupby</span></code>, but aggregates all
elements under the same key, not only consecutive elements.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.has_list_types">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">has_list_types</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">types</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#has_list_types"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.has_list_types" title="Link to this definition"></a></dt>
<dd><p>Return True if the given values have the same types as
the one given in argument, in the same order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>values</strong> – The values to check</p></li>
<li><p><strong>types</strong> – The types of the elements in the list / tuple</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.hmac">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">hmac</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scope</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hash_function=&lt;built-in</span> <span class="pre">function</span> <span class="pre">openssl_sha256&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#hmac"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.hmac" title="Link to this definition"></a></dt>
<dd><p>Compute HMAC with <cite>database.secret</cite> config parameter as key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>env</strong> – sudo environment to use for retrieving config parameter</p></li>
<li><p><strong>message</strong> – message to authenticate</p></li>
<li><p><strong>scope</strong> – scope of the authentication, to have different signature for the same
message in different usage</p></li>
<li><p><strong>hash_function</strong> – hash function to use for HMAC (default: SHA-256)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.human_size">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">human_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sz</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#human_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.human_size" title="Link to this definition"></a></dt>
<dd><p>Return the size in a human readable format</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.ignore">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">ignore</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">exc</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#ignore"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.ignore" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.is_list_of">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">is_list_of</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#is_list_of"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.is_list_of" title="Link to this definition"></a></dt>
<dd><p>Return True if the given values is a list / tuple of the given type.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>values</strong> – The values to check</p></li>
<li><p><strong>type</strong> – The type of the elements in the list / tuple</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.logged">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">logged</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#logged"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.logged" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.misc.lower_logging">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">lower_logging</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_level</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#lower_logging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.lower_logging" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Handler</span></code></p>
<p>Temporary lower the max logging level.</p>
<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.misc.lower_logging.emit">
<span class="sig-name descname"><span class="pre">emit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">record</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#lower_logging.emit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.lower_logging.emit" title="Link to this definition"></a></dt>
<dd><p>Do whatever it takes to actually log the specified logging record.</p>
<p>This version is intended to be implemented by subclasses and so
raises a NotImplementedError.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.merge_sequences">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">merge_sequences</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">iterables</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#merge_sequences"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.merge_sequences" title="Link to this definition"></a></dt>
<dd><p>Merge several iterables into a list. The result is the union of the
iterables, ordered following the partial order given by the iterables,
with a bias towards the end for the last iterable:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">seq</span> <span class="o">=</span> <span class="n">merge_sequences</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">])</span>
<span class="k">assert</span> <span class="n">seq</span> <span class="o">==</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">]</span>

<span class="n">seq</span> <span class="o">=</span> <span class="n">merge_sequences</span><span class="p">(</span>
    <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;Z&#39;</span><span class="p">],</span>                  <span class="c1"># &#39;Z&#39; can be anywhere</span>
    <span class="p">[</span><span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">],</span>             <span class="c1"># &#39;Y&#39; must precede &#39;C&#39;;</span>
    <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;Y&#39;</span><span class="p">],</span>        <span class="c1"># &#39;X&#39; must follow &#39;A&#39; and precede &#39;Y&#39;</span>
<span class="p">)</span>
<span class="k">assert</span> <span class="n">seq</span> <span class="o">==</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;Z&#39;</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.mod10r">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">mod10r</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#mod10r"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.mod10r" title="Link to this definition"></a></dt>
<dd><p>Input number : account or invoice number
Output return: the same number completed with the recursive mod10
key</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.misc.mute_logger">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">mute_logger</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">loggers</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#mute_logger"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.mute_logger" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Handler</span></code></p>
<p>Temporary suppress the logging.</p>
<p>Can be used as context manager or decorator:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@mute_logger</span><span class="p">(</span><span class="s1">&#39;odoo.plic.ploc&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">do_stuff</span><span class="p">():</span>
    <span class="n">blahblah</span><span class="p">()</span>

<span class="k">with</span> <span class="n">mute_logger</span><span class="p">(</span><span class="s1">&#39;odoo.foo.bar&#39;</span><span class="p">):</span>
    <span class="n">do_suff</span><span class="p">()</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.misc.mute_logger.emit">
<span class="sig-name descname"><span class="pre">emit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">record</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#mute_logger.emit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.mute_logger.emit" title="Link to this definition"></a></dt>
<dd><p>Do whatever it takes to actually log the specified logging record.</p>
<p>This version is intended to be implemented by subclasses and so
raises a NotImplementedError.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.named_to_positional_printf">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">named_to_positional_printf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Mapping</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">tuple</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/odoo/tools/misc.html#named_to_positional_printf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.named_to_positional_printf" title="Link to this definition"></a></dt>
<dd><p>Convert a named printf-style format string with its arguments to an
equivalent positional format string with its arguments. This implementation
does not support escaped <code class="docutils literal notranslate"><span class="pre">%</span></code> characters (<code class="docutils literal notranslate"><span class="pre">&quot;%%&quot;</span></code>).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.parse_date">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">parse_date</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lang_code</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#parse_date"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.parse_date" title="Link to this definition"></a></dt>
<dd><p>Parse the date from a given format. If it is not a valid format for the
localization, return the original string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>env</strong> – an environment.</p></li>
<li><p><strong>value</strong> (<em>string</em>) – the date to parse.</p></li>
<li><p><strong>lang_code</strong> (<em>string</em>) – the lang code, if not specified it is extracted from the
environment context.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>date object from the localized string</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>datetime.date</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.partition">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">partition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elems</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#partition"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.partition" title="Link to this definition"></a></dt>
<dd><p>Return a pair equivalent to:
<code class="docutils literal notranslate"><span class="pre">filter(pred,</span> <span class="pre">elems),</span> <span class="pre">filter(lambda</span> <span class="pre">x:</span> <span class="pre">not</span> <span class="pre">pred(x),</span> <span class="pre">elems)</span></code></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.posix_to_ldml">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">posix_to_ldml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fmt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locale</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#posix_to_ldml"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.posix_to_ldml" title="Link to this definition"></a></dt>
<dd><p>Converts a posix/strftime pattern into an LDML date format pattern.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fmt</strong> – non-extended C89/C90 strftime pattern</p></li>
<li><p><strong>locale</strong> – babel locale used for locale-specific conversions (e.g. %x and %X)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>unicode</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.misc.profile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">profile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#profile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.profile" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.remove_accents">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">remove_accents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#remove_accents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.remove_accents" title="Link to this definition"></a></dt>
<dd><p>Suboptimal-but-better-than-nothing way to replace accented
latin letters by an ASCII equivalent. Will obviously change the
meaning of input_str and work only for some cases</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.misc.replace_exceptions">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">replace_exceptions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">exceptions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">by</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#replace_exceptions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.replace_exceptions" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ContextDecorator</span></code></p>
<p>Hide some exceptions behind another error. Can be used as a function
decorator or as a context manager.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exceptions</strong> – the exception classes to catch and replace.</p></li>
<li><p><strong>by</strong> – the exception to raise instead.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.resolve_attr">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">resolve_attr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default=&lt;object</span> <span class="pre">object&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#resolve_attr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.resolve_attr" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.reverse_enumerate">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">reverse_enumerate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">l</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#reverse_enumerate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.reverse_enumerate" title="Link to this definition"></a></dt>
<dd><p>Like enumerate but in the other direction</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">it</span> <span class="o">=</span> <span class="n">reverse_enumerate</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">it</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
<span class="go">(2, &#39;c&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">it</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
<span class="go">(1, &#39;b&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">it</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
<span class="go">(0, &#39;a&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">it</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">StopIteration</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.scan_languages">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">scan_languages</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#scan_languages"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.scan_languages" title="Link to this definition"></a></dt>
<dd><p>Returns all languages supported by OpenERP for translation</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a list of (lang_code, lang_name) pairs</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>[(str, unicode)]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.split_every">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">split_every</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">piece_maker=&lt;class</span> <span class="pre">'tuple'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#split_every"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.split_every" title="Link to this definition"></a></dt>
<dd><p>Splits an iterable into length-n pieces. The last piece will be shorter
if <code class="docutils literal notranslate"><span class="pre">n</span></code> does not evenly divide the iterable length.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<em>int</em>) – maximum size of each generated chunk</p></li>
<li><p><strong>iterable</strong> (<em>Iterable</em>) – iterable to chunk into pieces</p></li>
<li><p><strong>piece_maker</strong> – callable taking an iterable and collecting each
chunk from its slice, <em>must consume the entire slice</em>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.str2bool">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">str2bool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#str2bool"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.str2bool" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.street_split">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">street_split</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">street</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#street_split"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.street_split" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.stripped_sys_argv">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">stripped_sys_argv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">strip_args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#stripped_sys_argv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.stripped_sys_argv" title="Link to this definition"></a></dt>
<dd><p>Return sys.argv with some arguments stripped, suitable for reexecution or subprocesses</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.submap">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">submap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mapping</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#submap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.submap" title="Link to this definition"></a></dt>
<dd><p>Get a filtered copy of the mapping where only some keys are present.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mapping</strong> (<em>Mapping</em>) – the original dict-like structure to filter</p></li>
<li><p><strong>keys</strong> (<em>Iterable</em>) – the list of keys to keep</p></li>
</ul>
</dd>
<dt class="field-even">Return dict<span class="colon">:</span></dt>
<dd class="field-even"><p>a filtered dict copy of the original mapping</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.to_xml">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">to_xml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#to_xml"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.to_xml" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.topological_sort">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">topological_sort</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elems</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#topological_sort"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.topological_sort" title="Link to this definition"></a></dt>
<dd><p>Return a list of elements sorted so that their dependencies are listed
before them in the result.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>elems</strong> – specifies the elements to sort with their dependencies; it is
a dictionary like <cite>{element: dependencies}</cite> where <cite>dependencies</cite> is a
collection of elements that must appear before <cite>element</cite>. The elements
of <cite>dependencies</cite> are not required to appear in <cite>elems</cite>; they will
simply not appear in the result.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a list with the keys of <cite>elems</cite> sorted according to their
specification.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.misc.unique">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">unique</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">it</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/misc.html#unique"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.unique" title="Link to this definition"></a></dt>
<dd><p>“Uniquifier” for the provided iterable: will output each element of
the iterable once.</p>
<p>The iterable’s elements must be hashahble.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>it</strong> (<em>Iterable</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Iterator</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.misc.unquote">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.misc.</span></span><span class="sig-name descname"><span class="pre">unquote</span></span><a class="reference internal" href="_modules/odoo/tools/misc.html#unquote"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.misc.unquote" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
<p>A subclass of str that implements repr() without enclosing quotation marks
or escaping, keeping the original string untouched. The name come from Lisp’s unquote.
One of the uses for this is to preserve or insert bare variable names within dicts during eval()
of a dict’s repr(). Use with care.</p>
<p>Some examples (notice that there are never quotes surrounding
the <code class="docutils literal notranslate"><span class="pre">active_id</span></code> name:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">unquote</span><span class="p">(</span><span class="s1">&#39;active_id&#39;</span><span class="p">)</span>
<span class="go">active_id</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;test&#39;</span><span class="p">:</span> <span class="n">unquote</span><span class="p">(</span><span class="s1">&#39;active_id&#39;</span><span class="p">)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span>
<span class="go">{&#39;test&#39;: active_id}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">d</span>
<span class="go">{&#39;test&#39;: active_id}</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-odoo.tools.num2words_patch">
<span id="odoo-tools-num2words-patch-module"></span><h2>odoo.tools.num2words_patch module<a class="headerlink" href="#module-odoo.tools.num2words_patch" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_AR_Fixed">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.num2words_patch.</span></span><span class="sig-name descname"><span class="pre">Num2Word_AR_Fixed</span></span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_AR_Fixed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_AR_Fixed" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#odoo.tools.num2words_patch.Num2Word_Base" title="odoo.tools.num2words_patch.Num2Word_Base"><code class="xref py py-class docutils literal notranslate"><span class="pre">Num2Word_Base</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_AR_Fixed.MAXVAL">
<span class="sig-name descname"><span class="pre">MAXVAL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1000000000000000000000000000000000000000000000000000</span></em><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_AR_Fixed.MAXVAL" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_AR_Fixed.absolute">
<span class="sig-name descname"><span class="pre">absolute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_AR_Fixed.absolute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_AR_Fixed.absolute" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_AR_Fixed.convert">
<span class="sig-name descname"><span class="pre">convert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_AR_Fixed.convert"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_AR_Fixed.convert" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_AR_Fixed.convert_to_arabic">
<span class="sig-name descname"><span class="pre">convert_to_arabic</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_AR_Fixed.convert_to_arabic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_AR_Fixed.convert_to_arabic" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_AR_Fixed.decimal_value">
<span class="sig-name descname"><span class="pre">decimal_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">decimal_part</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_AR_Fixed.decimal_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_AR_Fixed.decimal_value" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_AR_Fixed.digit_feminine_status">
<span class="sig-name descname"><span class="pre">digit_feminine_status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">digit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_level</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_AR_Fixed.digit_feminine_status"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_AR_Fixed.digit_feminine_status" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_AR_Fixed.errmsg_toobig">
<span class="sig-name descname"><span class="pre">errmsg_toobig</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'abs(%s)</span> <span class="pre">must</span> <span class="pre">be</span> <span class="pre">less</span> <span class="pre">than</span> <span class="pre">%s.'</span></em><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_AR_Fixed.errmsg_toobig" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_AR_Fixed.extract_integer_and_decimal_parts">
<span class="sig-name descname"><span class="pre">extract_integer_and_decimal_parts</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_AR_Fixed.extract_integer_and_decimal_parts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_AR_Fixed.extract_integer_and_decimal_parts" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_AR_Fixed.number_to_arabic">
<span class="sig-name descname"><span class="pre">number_to_arabic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arabic_prefix_text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arabic_suffix_text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_AR_Fixed.number_to_arabic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_AR_Fixed.number_to_arabic" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_AR_Fixed.process_arabic_group">
<span class="sig-name descname"><span class="pre">process_arabic_group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">group_number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_level</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remaining_number</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_AR_Fixed.process_arabic_group"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_AR_Fixed.process_arabic_group" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_AR_Fixed.set_currency_prefer">
<span class="sig-name descname"><span class="pre">set_currency_prefer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">currency</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_AR_Fixed.set_currency_prefer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_AR_Fixed.set_currency_prefer" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_AR_Fixed.to_cardinal">
<span class="sig-name descname"><span class="pre">to_cardinal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_AR_Fixed.to_cardinal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_AR_Fixed.to_cardinal" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_AR_Fixed.to_currency">
<span class="sig-name descname"><span class="pre">to_currency</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">currency</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'SR'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_AR_Fixed.to_currency"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_AR_Fixed.to_currency" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>Args:</dt><dd><p>val: Numeric value
currency (str): Currency code
cents (bool): Verbose cents
separator (str): Cent separator
adjective (bool): Prefix currency name with adjective</p>
</dd>
<dt>Returns:</dt><dd><p>str: Formatted string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_AR_Fixed.to_ordinal">
<span class="sig-name descname"><span class="pre">to_ordinal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_AR_Fixed.to_ordinal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_AR_Fixed.to_ordinal" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_AR_Fixed.to_ordinal_num">
<span class="sig-name descname"><span class="pre">to_ordinal_num</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_AR_Fixed.to_ordinal_num"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_AR_Fixed.to_ordinal_num" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_AR_Fixed.to_str">
<span class="sig-name descname"><span class="pre">to_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_AR_Fixed.to_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_AR_Fixed.to_str" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_AR_Fixed.to_year">
<span class="sig-name descname"><span class="pre">to_year</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_AR_Fixed.to_year"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_AR_Fixed.to_year" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_AR_Fixed.validate_number">
<span class="sig-name descname"><span class="pre">validate_number</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_AR_Fixed.validate_number"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_AR_Fixed.validate_number" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_Base">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.num2words_patch.</span></span><span class="sig-name descname"><span class="pre">Num2Word_Base</span></span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_Base"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_Base" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_Base.CURRENCY_ADJECTIVES">
<span class="sig-name descname"><span class="pre">CURRENCY_ADJECTIVES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_Base.CURRENCY_ADJECTIVES" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_Base.CURRENCY_FORMS">
<span class="sig-name descname"><span class="pre">CURRENCY_FORMS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_Base.CURRENCY_FORMS" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_Base.clean">
<span class="sig-name descname"><span class="pre">clean</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_Base.clean"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_Base.clean" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_Base.float2tuple">
<span class="sig-name descname"><span class="pre">float2tuple</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_Base.float2tuple"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_Base.float2tuple" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_Base.inflect">
<span class="sig-name descname"><span class="pre">inflect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_Base.inflect"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_Base.inflect" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_Base.merge">
<span class="sig-name descname"><span class="pre">merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">left</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_Base.merge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_Base.merge" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_Base.parse_minus">
<span class="sig-name descname"><span class="pre">parse_minus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_Base.parse_minus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_Base.parse_minus" title="Link to this definition"></a></dt>
<dd><p>Detach minus and return it as symbol with new num_str.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_Base.pluralize">
<span class="sig-name descname"><span class="pre">pluralize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">forms</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_Base.pluralize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_Base.pluralize" title="Link to this definition"></a></dt>
<dd><p>Should resolve gettext form:
<a class="reference external" href="http://docs.translatehouse.org/projects/localization-guide/en/latest/l10n/pluralforms.html">http://docs.translatehouse.org/projects/localization-guide/en/latest/l10n/pluralforms.html</a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_Base.set_high_numwords">
<span class="sig-name descname"><span class="pre">set_high_numwords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_Base.set_high_numwords"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_Base.set_high_numwords" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_Base.set_low_numwords">
<span class="sig-name descname"><span class="pre">set_low_numwords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">numwords</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_Base.set_low_numwords"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_Base.set_low_numwords" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_Base.set_mid_numwords">
<span class="sig-name descname"><span class="pre">set_mid_numwords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_Base.set_mid_numwords"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_Base.set_mid_numwords" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_Base.set_numwords">
<span class="sig-name descname"><span class="pre">set_numwords</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_Base.set_numwords"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_Base.set_numwords" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_Base.setup">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_Base.setup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_Base.setup" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_Base.splitnum">
<span class="sig-name descname"><span class="pre">splitnum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_Base.splitnum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_Base.splitnum" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_Base.str_to_number">
<span class="sig-name descname"><span class="pre">str_to_number</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_Base.str_to_number"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_Base.str_to_number" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_Base.title">
<span class="sig-name descname"><span class="pre">title</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_Base.title"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_Base.title" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_Base.to_cardinal">
<span class="sig-name descname"><span class="pre">to_cardinal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_Base.to_cardinal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_Base.to_cardinal" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_Base.to_cardinal_float">
<span class="sig-name descname"><span class="pre">to_cardinal_float</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_Base.to_cardinal_float"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_Base.to_cardinal_float" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_Base.to_currency">
<span class="sig-name descname"><span class="pre">to_currency</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">currency</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'EUR'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cents</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">separator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">','</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">adjective</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_Base.to_currency"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_Base.to_currency" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>Args:</dt><dd><p>val: Numeric value
currency (str): Currency code
cents (bool): Verbose cents
separator (str): Cent separator
adjective (bool): Prefix currency name with adjective</p>
</dd>
<dt>Returns:</dt><dd><p>str: Formatted string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_Base.to_ordinal">
<span class="sig-name descname"><span class="pre">to_ordinal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_Base.to_ordinal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_Base.to_ordinal" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_Base.to_ordinal_num">
<span class="sig-name descname"><span class="pre">to_ordinal_num</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_Base.to_ordinal_num"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_Base.to_ordinal_num" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_Base.to_splitnum">
<span class="sig-name descname"><span class="pre">to_splitnum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hightxt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lowtxt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jointxt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">divisor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">longval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cents</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_Base.to_splitnum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_Base.to_splitnum" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_Base.to_year">
<span class="sig-name descname"><span class="pre">to_year</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_Base.to_year"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_Base.to_year" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.Num2Word_Base.verify_ordinal">
<span class="sig-name descname"><span class="pre">verify_ordinal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#Num2Word_Base.verify_ordinal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.Num2Word_Base.verify_ordinal" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.parse_currency_parts">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.num2words_patch.</span></span><span class="sig-name descname"><span class="pre">parse_currency_parts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_int_with_cents</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#parse_currency_parts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.parse_currency_parts" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.prefix_currency">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.num2words_patch.</span></span><span class="sig-name descname"><span class="pre">prefix_currency</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prefix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#prefix_currency"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.prefix_currency" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.num2words_patch.to_s">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.num2words_patch.</span></span><span class="sig-name descname"><span class="pre">to_s</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/num2words_patch.html#to_s"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.num2words_patch.to_s" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-odoo.tools.osutil">
<span id="odoo-tools-osutil-module"></span><h2>odoo.tools.osutil module<a class="headerlink" href="#module-odoo.tools.osutil" title="Link to this heading"></a></h2>
<p>Some functions related to the os and os.path module</p>
<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.osutil.clean_filename">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.osutil.</span></span><span class="sig-name descname"><span class="pre">clean_filename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replacement</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/osutil.html#clean_filename"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.osutil.clean_filename" title="Link to this definition"></a></dt>
<dd><p>Strips or replaces possibly problematic or annoying characters our of
the input string, in order to make it a valid filename in most operating
systems (including dropping reserved Windows filenames).</p>
<p>If this results in an empty string, results in “Untitled” (localized).</p>
<p>Allows:</p>
<ul class="simple">
<li><p>any alphanumeric character (unicode)</p></li>
<li><p>underscore (_) as that’s innocuous</p></li>
<li><p>dot (.) except in leading position to avoid creating dotfiles</p></li>
<li><p>dash (-) except in leading position to avoid annoyance / confusion with
command options</p></li>
<li><p>brackets ([ and ]), while they correspond to shell <em>character class</em>
they’re a common way to mark / tag files especially on windows</p></li>
<li><p>parenthesis (“(” and “)”), a more natural though less common version of
the former</p></li>
<li><p>space (” “)</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – file name to clean up</p></li>
<li><p><strong>replacement</strong> (<em>str</em>) – replacement string to use for sequences of problematic input, by default
an empty string to remove them entirely, each contiguous sequence of
problems is replaced by a single replacement</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.osutil.is_running_as_nt_service">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.osutil.</span></span><span class="sig-name descname"><span class="pre">is_running_as_nt_service</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/osutil.html#is_running_as_nt_service"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.osutil.is_running_as_nt_service" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.osutil.listdir">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.osutil.</span></span><span class="sig-name descname"><span class="pre">listdir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/osutil.html#listdir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.osutil.listdir" title="Link to this definition"></a></dt>
<dd><p>Allow to recursively get the file listing following symlinks, returns
paths relative to the provided <cite>dir</cite> except completely broken if the symlink
it follows leaves <cite>dir</cite>…</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.osutil.zip_dir">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.osutil.</span></span><span class="sig-name descname"><span class="pre">zip_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fnct_sort</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/osutil.html#zip_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.osutil.zip_dir" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>: param fnct_sort<span class="classifier">Function to be passed to “key” parameter of built-in</span></dt><dd><p>python sorted() to provide flexibility of sorting files
inside ZIP archive according to specific requirements.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-odoo.tools.parse_version">
<span id="odoo-tools-parse-version-module"></span><h2>odoo.tools.parse_version module<a class="headerlink" href="#module-odoo.tools.parse_version" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.parse_version.parse_version">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.parse_version.</span></span><span class="sig-name descname"><span class="pre">parse_version</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/parse_version.html#parse_version"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.parse_version.parse_version" title="Link to this definition"></a></dt>
<dd><p>Convert a version string to a chronologically-sortable key</p>
<p>This is a rough cross between distutils’ StrictVersion and LooseVersion;
if you give it versions that would work with StrictVersion, then it behaves
the same; otherwise it acts like a slightly-smarter LooseVersion. It is
<em>possible</em> to create pathological version coding schemes that will fool
this parser, but they should be very rare in practice.</p>
<p>The returned value will be a tuple of strings.  Numeric portions of the
version are padded to 8 digits so they will compare numerically, but
without relying on how numbers compare relative to strings.  Dots are
dropped, but dashes are retained.  Trailing zeros between alpha segments
or dashes are suppressed, so that e.g. “2.4.0” is considered the same as
“2.4”. Alphanumeric parts are lower-cased.</p>
<p>The algorithm assumes that strings like “-” and any alpha string that
alphabetically follows “final”  represents a “patch level”.  So, “2.4-1”
is assumed to be a branch or patch of “2.4”, and therefore “2.4.1” is
considered newer than “2.4-1”, which in turn is newer than “2.4”.</p>
<p>Strings like “a”, “b”, “c”, “alpha”, “beta”, “candidate” and so on (that
come before “final” alphabetically) are assumed to be pre-release versions,
so that the version “2.4” is considered newer than “2.4a1”.</p>
<p>Finally, to handle miscellaneous cases, the strings “pre”, “preview”, and
“rc” are treated as if they were “c”, i.e. as though they were release
candidates, and therefore are not as new as a version string that does not
contain them.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.parse_version.replace">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.parse_version.</span></span><span class="sig-name descname"><span class="pre">replace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">/</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#odoo.tools.parse_version.replace" title="Link to this definition"></a></dt>
<dd><p>Return the value for key if key is in the dictionary, else default.</p>
</dd></dl>

</section>
<section id="module-odoo.tools.pdf">
<span id="odoo-tools-pdf-module"></span><h2>odoo.tools.pdf module<a class="headerlink" href="#module-odoo.tools.pdf" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.pdf.BrandedFileWriter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.pdf.</span></span><span class="sig-name descname"><span class="pre">BrandedFileWriter</span></span><a class="reference internal" href="_modules/odoo/tools/pdf.html#BrandedFileWriter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.pdf.BrandedFileWriter" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">PdfFileWriter</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.pdf.OdooPdfFileReader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.pdf.</span></span><span class="sig-name descname"><span class="pre">OdooPdfFileReader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">warndest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwriteWarnings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/pdf.html#OdooPdfFileReader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.pdf.OdooPdfFileReader" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#odoo.tools.pdf.PdfFileReader" title="odoo.tools.pdf.PdfFileReader"><code class="xref py py-class docutils literal notranslate"><span class="pre">PdfFileReader</span></code></a></p>
<p>Returns the files inside the PDF.
:raises NotImplementedError: if document is encrypted and uses an unsupported encryption method.</p>
<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.pdf.OdooPdfFileReader.getAttachments">
<span class="sig-name descname"><span class="pre">getAttachments</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/pdf.html#OdooPdfFileReader.getAttachments"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.pdf.OdooPdfFileReader.getAttachments" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.pdf.OdooPdfFileWriter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.pdf.</span></span><span class="sig-name descname"><span class="pre">OdooPdfFileWriter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/pdf.html#OdooPdfFileWriter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.pdf.OdooPdfFileWriter" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#odoo.tools.pdf.BrandedFileWriter" title="odoo.tools.pdf.BrandedFileWriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">BrandedFileWriter</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.pdf.OdooPdfFileWriter.addAttachment">
<span class="sig-name descname"><span class="pre">addAttachment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/pdf.html#OdooPdfFileWriter.addAttachment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.pdf.OdooPdfFileWriter.addAttachment" title="Link to this definition"></a></dt>
<dd><p>Add an attachment to the pdf. Supports adding multiple attachment, while respecting PDF/A rules.
:param name: The name of the attachement
:param data: The data of the attachement
:param subtype: The mime-type of the attachement. This is required by PDF/A, but not essential otherwise.
It should take the form of “/xxx#2Fxxx”. E.g. for “text/xml”: “/text#2Fxml”</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.pdf.OdooPdfFileWriter.add_file_metadata">
<span class="sig-name descname"><span class="pre">add_file_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metadata_content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/pdf.html#OdooPdfFileWriter.add_file_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.pdf.OdooPdfFileWriter.add_file_metadata" title="Link to this definition"></a></dt>
<dd><p>Set the XMP metadata of the pdf, wrapping it with the necessary XMP header/footer.
These are required for a PDF/A file to be completely compliant. Ommiting them would result in validation errors.
:param metadata_content: bytes of the metadata to add to the pdf.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.pdf.OdooPdfFileWriter.cloneReaderDocumentRoot">
<span class="sig-name descname"><span class="pre">cloneReaderDocumentRoot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reader</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/pdf.html#OdooPdfFileWriter.cloneReaderDocumentRoot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.pdf.OdooPdfFileWriter.cloneReaderDocumentRoot" title="Link to this definition"></a></dt>
<dd><div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.28.0: </span>Use <code class="xref py py-meth docutils literal notranslate"><span class="pre">clone_reader_document_root()</span></code> instead.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.pdf.OdooPdfFileWriter.convert_to_pdfa">
<span class="sig-name descname"><span class="pre">convert_to_pdfa</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/pdf.html#OdooPdfFileWriter.convert_to_pdfa"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.pdf.OdooPdfFileWriter.convert_to_pdfa" title="Link to this definition"></a></dt>
<dd><p>Transform the opened PDF file into a PDF/A compliant file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.pdf.OdooPdfFileWriter.embed_odoo_attachment">
<span class="sig-name descname"><span class="pre">embed_odoo_attachment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">attachment</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/pdf.html#OdooPdfFileWriter.embed_odoo_attachment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.pdf.OdooPdfFileWriter.embed_odoo_attachment" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.pdf.PdfFileReader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.pdf.</span></span><span class="sig-name descname"><span class="pre">PdfFileReader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">warndest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwriteWarnings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/pdf.html#PdfFileReader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.pdf.PdfFileReader" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">PdfReader</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.pdf.PdfFileReader.getFields">
<span class="sig-name descname"><span class="pre">getFields</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tree</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">TreeObject</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retval</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fileobj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#odoo.tools.pdf.PdfFileReader.getFields" title="Link to this definition"></a></dt>
<dd><p>Extract field data if this PDF contains interactive form fields.</p>
<p>The <em>tree</em> and <em>retval</em> parameters are for recursive use.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>fileobj</strong> – A file object (usually a text file) to write
a report to on all interactive form fields found.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary where each key is a field name, and each
value is a <code class="xref py py-class docutils literal notranslate"><span class="pre">Field</span></code> object. By
default, the mapping name is used for keys.
<code class="docutils literal notranslate"><span class="pre">None</span></code> if form data could not be located.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="odoo.tools.pdf.PdfFileWriter">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.pdf.</span></span><span class="sig-name descname"><span class="pre">PdfFileWriter</span></span><a class="headerlink" href="#odoo.tools.pdf.PdfFileWriter" title="Link to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#odoo.tools.pdf.BrandedFileWriter" title="odoo.tools.pdf.BrandedFileWriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">BrandedFileWriter</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.pdf.add_banner">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.pdf.</span></span><span class="sig-name descname"><span class="pre">add_banner</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pdf_stream</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thickness</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">56.69291338582677</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/pdf.html#add_banner"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.pdf.add_banner" title="Link to this definition"></a></dt>
<dd><p>Add a banner on a PDF in the upper right corner, with Odoo’s logo (optionally).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>(</strong><strong>BytesIO</strong><strong>)</strong> (<em>pdf_stream</em>) – The PDF stream where the banner will be applied.</p></li>
<li><p><strong>(</strong><strong>str</strong><strong>)</strong> (<em>text</em>) – The text to be displayed.</p></li>
<li><p><strong>(</strong><strong>bool</strong><strong>)</strong> (<em>logo</em>) – Whether to display Odoo’s logo in the banner.</p></li>
<li><p><strong>(</strong><strong>float</strong><strong>)</strong> (<em>thickness</em>) – The thickness of the banner in pixels.</p></li>
</ul>
</dd>
<dt class="field-even">Return (BytesIO)<span class="colon">:</span></dt>
<dd class="field-even"><p>The modified PDF stream.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.pdf.fill_form_fields_pdf">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.pdf.</span></span><span class="sig-name descname"><span class="pre">fill_form_fields_pdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">writer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">form_fields</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/pdf.html#fill_form_fields_pdf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.pdf.fill_form_fields_pdf" title="Link to this definition"></a></dt>
<dd><p>Fill in the form fields of a PDF
:param writer: a PdfFileWriter object
:param dict form_fields: a dictionary of form fields to update in the PDF
:return: a filled PDF datastring</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.pdf.merge_pdf">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.pdf.</span></span><span class="sig-name descname"><span class="pre">merge_pdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pdf_data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/pdf.html#merge_pdf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.pdf.merge_pdf" title="Link to this definition"></a></dt>
<dd><p>Merge a collection of PDF documents in one.
Note that the attachments are not merged.
:param list pdf_data: a list of PDF datastrings
:return: a unique merged PDF datastring</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.pdf.old_init">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.pdf.</span></span><span class="sig-name descname"><span class="pre">old_init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#odoo.tools.pdf.old_init" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.pdf.rotate_pdf">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.pdf.</span></span><span class="sig-name descname"><span class="pre">rotate_pdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pdf</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/pdf.html#rotate_pdf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.pdf.rotate_pdf" title="Link to this definition"></a></dt>
<dd><p>Rotate clockwise PDF (90°) into a new PDF.
Note that the attachments are not copied.
:param pdf: a PDF to rotate
:return: a PDF rotated</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.pdf.to_pdf_stream">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.pdf.</span></span><span class="sig-name descname"><span class="pre">to_pdf_stream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">attachment</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">BytesIO</span></span></span><a class="reference internal" href="_modules/odoo/tools/pdf.html#to_pdf_stream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.pdf.to_pdf_stream" title="Link to this definition"></a></dt>
<dd><p>Get the byte stream of the attachment as a PDF.</p>
</dd></dl>

</section>
<section id="module-odoo.tools.populate">
<span id="odoo-tools-populate-module"></span><h2>odoo.tools.populate module<a class="headerlink" href="#module-odoo.tools.populate" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.populate.Random">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.populate.</span></span><span class="sig-name descname"><span class="pre">Random</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seed</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/populate.html#Random"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.populate.Random" title="Link to this definition"></a></dt>
<dd><p>Return a random number generator object with the given seed.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.populate.cartesian">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.populate.</span></span><span class="sig-name descname"><span class="pre">cartesian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vals</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formatter=&lt;function</span> <span class="pre">format_str&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">then=None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/populate.html#cartesian"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.populate.cartesian" title="Link to this definition"></a></dt>
<dd><p>Return a factory for an iterator of values dicts that combines all <code class="docutils literal notranslate"><span class="pre">vals</span></code> for
the field with the other field values in input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vals</strong> (<em>list</em>) – list in which a value will be chosen, depending on <cite>weights</cite></p></li>
<li><p><strong>weights</strong> (<em>list</em>) – list of probabilistic weights</p></li>
<li><p><strong>seed</strong> – optional initialization of the random number generator</p></li>
<li><p><strong>formatter</strong> (<em>function</em>) – (val, counter, values) –&gt; formatted_value</p></li>
<li><p><strong>then</strong> (<em>function</em>) – if defined, factory used when vals has been consumed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>function of the form (iterator, field_name, model_name) -&gt; values</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>function (iterator, str, str) -&gt; dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.populate.chain_factories">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.populate.</span></span><span class="sig-name descname"><span class="pre">chain_factories</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field_factories</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/populate.html#chain_factories"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.populate.chain_factories" title="Link to this definition"></a></dt>
<dd><p>Instantiate a generator by calling all the field factories.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.populate.compute">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.populate.</span></span><span class="sig-name descname"><span class="pre">compute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/populate.html#compute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.populate.compute" title="Link to this definition"></a></dt>
<dd><p>Return a factory for an iterator of values dicts that computes the field value
as <code class="docutils literal notranslate"><span class="pre">function(values,</span> <span class="pre">counter,</span> <span class="pre">random)</span></code>, where <code class="docutils literal notranslate"><span class="pre">values</span></code> is the other field values,
<code class="docutils literal notranslate"><span class="pre">counter</span></code> is an integer, and <code class="docutils literal notranslate"><span class="pre">random</span></code> is a pseudo-random number generator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>function</strong> (<em>callable</em>) – (values, counter, random) –&gt; field_values</p></li>
<li><p><strong>seed</strong> – optional initialization of the random number generator</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>function of the form (iterator, field_name, model_name) -&gt; values</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>function (iterator, str, str) -&gt; dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.populate.constant">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.populate.</span></span><span class="sig-name descname"><span class="pre">constant</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formatter=&lt;function</span> <span class="pre">format_str&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/populate.html#constant"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.populate.constant" title="Link to this definition"></a></dt>
<dd><p>Return a factory for an iterator of values dicts that sets the field
to the given value in each input dict.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>function of the form (iterator, field_name, model_name) -&gt; values</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>function (iterator, str, str) -&gt; dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.populate.format_str">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.populate.</span></span><span class="sig-name descname"><span class="pre">format_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">counter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/populate.html#format_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.populate.format_str" title="Link to this definition"></a></dt>
<dd><p>Format the given value (with method <code class="docutils literal notranslate"><span class="pre">format</span></code>) when it is a string.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.populate.iterate">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.populate.</span></span><span class="sig-name descname"><span class="pre">iterate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vals</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formatter=&lt;function</span> <span class="pre">format_str&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">then=None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/populate.html#iterate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.populate.iterate" title="Link to this definition"></a></dt>
<dd><p>Return a factory for an iterator of values dicts that picks a value among <code class="docutils literal notranslate"><span class="pre">vals</span></code>
for each input.  Once all <code class="docutils literal notranslate"><span class="pre">vals</span></code> have been used once, resume as <code class="docutils literal notranslate"><span class="pre">then</span></code> or as a
<code class="docutils literal notranslate"><span class="pre">randomize</span></code> generator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vals</strong> (<em>list</em>) – list in which a value will be chosen, depending on <cite>weights</cite></p></li>
<li><p><strong>weights</strong> (<em>list</em>) – list of probabilistic weights</p></li>
<li><p><strong>seed</strong> – optional initialization of the random number generator</p></li>
<li><p><strong>formatter</strong> (<em>function</em>) – (val, counter, values) –&gt; formatted_value</p></li>
<li><p><strong>then</strong> (<em>function</em>) – if defined, factory used when vals has been consumed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>function of the form (iterator, field_name, model_name) -&gt; values</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>function (iterator, str, str) -&gt; dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.populate.randdatetime">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.populate.</span></span><span class="sig-name descname"><span class="pre">randdatetime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relative_before</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relative_after</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/populate.html#randdatetime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.populate.randdatetime" title="Link to this definition"></a></dt>
<dd><p>Return a factory for an iterator of values dicts that sets the field
to a random datetime between relative_before and relative_after, relatively to
base_date</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_date</strong> (<em>datetime</em>) – override the default base date if needed.</p></li>
<li><p><strong>relative_after</strong> (<em>relativedelta</em><em>|</em><em>timedelta</em>) – range up which we can go after the
base date. If not set, defaults to 0, i.e. only in the past of reference.</p></li>
<li><p><strong>relative_before</strong> (<em>relativedelta</em><em>|</em><em>timedelta</em>) – range up which we can go before the
base date. If not set, defaults to 0, i.e. only in the future of reference.</p></li>
<li><p><strong>seed</strong></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>iterator for random dates inside the defined range</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.populate.randfloat">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.populate.</span></span><span class="sig-name descname"><span class="pre">randfloat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/populate.html#randfloat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.populate.randfloat" title="Link to this definition"></a></dt>
<dd><p>Return a factory for an iterator of values dicts that sets the field
to a random float between a and b included in each input dict.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.populate.randint">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.populate.</span></span><span class="sig-name descname"><span class="pre">randint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/populate.html#randint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.populate.randint" title="Link to this definition"></a></dt>
<dd><p>Return a factory for an iterator of values dicts that sets the field
to a random integer between a and b included in each input dict.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> (<em>int</em>) – minimal random value</p></li>
<li><p><strong>b</strong> (<em>int</em>) – maximal random value</p></li>
<li><p><strong>seed</strong> (<em>int</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>function of the form (iterator, field_name, model_name) -&gt; values</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>function (iterator, str, str) -&gt; dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.populate.randomize">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.populate.</span></span><span class="sig-name descname"><span class="pre">randomize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vals</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formatter=&lt;function</span> <span class="pre">format_str&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">counter_offset=0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/populate.html#randomize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.populate.randomize" title="Link to this definition"></a></dt>
<dd><p>Return a factory for an iterator of values dicts with pseudo-randomly
chosen values (among <code class="docutils literal notranslate"><span class="pre">vals</span></code>) for a field.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vals</strong> (<em>list</em>) – list in which a value will be chosen, depending on <cite>weights</cite></p></li>
<li><p><strong>weights</strong> (<em>list</em>) – list of probabilistic weights</p></li>
<li><p><strong>seed</strong> – optional initialization of the random number generator</p></li>
<li><p><strong>formatter</strong> (<em>function</em>) – (val, counter, values) –&gt; formatted_value</p></li>
<li><p><strong>counter_offset</strong> (<em>int</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>function of the form (iterator, field_name, model_name) -&gt; values</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>function (iterator, str, str) -&gt; dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.populate.root_factory">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.populate.</span></span><span class="sig-name descname"><span class="pre">root_factory</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/populate.html#root_factory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.populate.root_factory" title="Link to this definition"></a></dt>
<dd><p>Return a generator with empty values dictionaries (except for the flag <code class="docutils literal notranslate"><span class="pre">__complete</span></code>).</p>
</dd></dl>

</section>
<section id="module-odoo.tools.profiler">
<span id="odoo-tools-profiler-module"></span><h2>odoo.tools.profiler module<a class="headerlink" href="#module-odoo.tools.profiler" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.profiler.Collector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.profiler.</span></span><span class="sig-name descname"><span class="pre">Collector</span></span><a class="reference internal" href="_modules/odoo/tools/profiler.html#Collector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.Collector" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Base class for objects that collect profiling data.</p>
<p>A collector object is used by a profiler to collect profiling data, most
likely a list of stack traces with time and some context information added
by ExecutionContext decorator on current thread.</p>
<p>This is a generic implementation of a basic collector, to be inherited.
It defines default behaviors for creating an entry in the collector.</p>
<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.profiler.Collector.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/profiler.html#Collector.add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.Collector.add" title="Link to this definition"></a></dt>
<dd><p>Add an entry (dict) to this collector.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="odoo.tools.profiler.Collector.entries">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">entries</span></span><a class="headerlink" href="#odoo.tools.profiler.Collector.entries" title="Link to this definition"></a></dt>
<dd><p>Return the entries of the collector after postprocessing.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.profiler.Collector.make">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">make</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/profiler.html#Collector.make"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.Collector.make" title="Link to this definition"></a></dt>
<dd><p>Instantiate a collector corresponding to the given name.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="odoo.tools.profiler.Collector.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#odoo.tools.profiler.Collector.name" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.profiler.Collector.post_process">
<span class="sig-name descname"><span class="pre">post_process</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/profiler.html#Collector.post_process"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.Collector.post_process" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.profiler.Collector.start">
<span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/profiler.html#Collector.start"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.Collector.start" title="Link to this definition"></a></dt>
<dd><p>Start the collector.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.profiler.Collector.stop">
<span class="sig-name descname"><span class="pre">stop</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/profiler.html#Collector.stop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.Collector.stop" title="Link to this definition"></a></dt>
<dd><p>Stop the collector.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.profiler.ExecutionContext">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.profiler.</span></span><span class="sig-name descname"><span class="pre">ExecutionContext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">context</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/profiler.html#ExecutionContext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.ExecutionContext" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Add some context on thread at current call stack level.
This context stored by collector beside stack and is used by Speedscope
to add a level to the stack with this information.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.profiler.Nested">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.profiler.</span></span><span class="sig-name descname"><span class="pre">Nested</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">profiler</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context_manager</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/profiler.html#Nested"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.Nested" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Utility to nest another context manager inside a profiler.</p>
<p>The profiler should only be called directly in the “with” without nesting it
with ExitStack. If not, the retrieval of the ‘init_frame’ may be incorrect
and lead to an error “Limit frame was not found” when profiling. Since the
stack will ignore all stack frames inside this file, the nested frames will
be ignored, too. This is also why Nested() does not use
contextlib.contextmanager.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.profiler.PeriodicCollector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.profiler.</span></span><span class="sig-name descname"><span class="pre">PeriodicCollector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/profiler.html#PeriodicCollector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.PeriodicCollector" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#odoo.tools.profiler.Collector" title="odoo.tools.profiler.Collector"><code class="xref py py-class docutils literal notranslate"><span class="pre">Collector</span></code></a></p>
<p>Record execution frames asynchronously at most every <cite>interval</cite> seconds.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>(</strong><strong>float</strong><strong>)</strong> (<em>interval</em>) – time to wait in seconds between two samples.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.profiler.PeriodicCollector.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/profiler.html#PeriodicCollector.add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.PeriodicCollector.add" title="Link to this definition"></a></dt>
<dd><p>Add an entry (dict) to this collector.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="odoo.tools.profiler.PeriodicCollector.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'traces_async'</span></em><a class="headerlink" href="#odoo.tools.profiler.PeriodicCollector.name" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.profiler.PeriodicCollector.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/profiler.html#PeriodicCollector.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.PeriodicCollector.run" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.profiler.PeriodicCollector.start">
<span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/profiler.html#PeriodicCollector.start"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.PeriodicCollector.start" title="Link to this definition"></a></dt>
<dd><p>Start the collector.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.profiler.PeriodicCollector.stop">
<span class="sig-name descname"><span class="pre">stop</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/profiler.html#PeriodicCollector.stop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.PeriodicCollector.stop" title="Link to this definition"></a></dt>
<dd><p>Stop the collector.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.profiler.Profiler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.profiler.</span></span><span class="sig-name descname"><span class="pre">Profiler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collectors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">Ellipsis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profile_session</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disable_gc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/profiler.html#Profiler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.Profiler" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Context manager to use to start the recording of some execution.
Will save sql and async stack trace by default.</p>
<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.profiler.Profiler.entry_count">
<span class="sig-name descname"><span class="pre">entry_count</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/profiler.html#Profiler.entry_count"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.Profiler.entry_count" title="Link to this definition"></a></dt>
<dd><p>Return the total number of entries collected in this profiler.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.profiler.Profiler.format_path">
<span class="sig-name descname"><span class="pre">format_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/profiler.html#Profiler.format_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.Profiler.format_path" title="Link to this definition"></a></dt>
<dd><p>Utility function to format a path for this profiler.
This is mainly useful to uniquify a path between executions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.profiler.Profiler.json">
<span class="sig-name descname"><span class="pre">json</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/profiler.html#Profiler.json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.Profiler.json" title="Link to this definition"></a></dt>
<dd><p>Utility function to generate a json version of this profiler.
This is useful to write profiling entries into a file, such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">Profiler</span><span class="p">(</span><span class="n">db</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="k">as</span> <span class="n">profiler</span><span class="p">:</span>
    <span class="n">do_stuff</span><span class="p">()</span>

<span class="n">filename</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">format_path</span><span class="p">(</span><span class="s1">&#39;/home/foo/</span><span class="si">{desc}</span><span class="s1">_</span><span class="si">{len}</span><span class="s1">.json&#39;</span><span class="p">)</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">profiler</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.profiler.QwebCollector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.profiler.</span></span><span class="sig-name descname"><span class="pre">QwebCollector</span></span><a class="reference internal" href="_modules/odoo/tools/profiler.html#QwebCollector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.QwebCollector" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#odoo.tools.profiler.Collector" title="odoo.tools.profiler.Collector"><code class="xref py py-class docutils literal notranslate"><span class="pre">Collector</span></code></a></p>
<p>Record qweb execution with directive trace.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="odoo.tools.profiler.QwebCollector.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'qweb'</span></em><a class="headerlink" href="#odoo.tools.profiler.QwebCollector.name" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.profiler.QwebCollector.post_process">
<span class="sig-name descname"><span class="pre">post_process</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/profiler.html#QwebCollector.post_process"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.QwebCollector.post_process" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.profiler.QwebCollector.start">
<span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/profiler.html#QwebCollector.start"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.QwebCollector.start" title="Link to this definition"></a></dt>
<dd><p>Start the collector.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.profiler.QwebCollector.stop">
<span class="sig-name descname"><span class="pre">stop</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/profiler.html#QwebCollector.stop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.QwebCollector.stop" title="Link to this definition"></a></dt>
<dd><p>Stop the collector.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.profiler.QwebTracker">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.profiler.</span></span><span class="sig-name descname"><span class="pre">QwebTracker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arch</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/profiler.html#QwebTracker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.QwebTracker" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.profiler.QwebTracker.enter_directive">
<span class="sig-name descname"><span class="pre">enter_directive</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directive</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attrib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xpath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/profiler.html#QwebTracker.enter_directive"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.QwebTracker.enter_directive" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.profiler.QwebTracker.leave_directive">
<span class="sig-name descname"><span class="pre">leave_directive</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directive</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attrib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xpath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/profiler.html#QwebTracker.leave_directive"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.QwebTracker.leave_directive" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.profiler.QwebTracker.wrap_compile">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">wrap_compile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method_compile</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/profiler.html#QwebTracker.wrap_compile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.QwebTracker.wrap_compile" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.profiler.QwebTracker.wrap_compile_directive">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">wrap_compile_directive</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method_compile_directive</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/profiler.html#QwebTracker.wrap_compile_directive"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.QwebTracker.wrap_compile_directive" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.profiler.QwebTracker.wrap_render">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">wrap_render</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method_render</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/profiler.html#QwebTracker.wrap_render"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.QwebTracker.wrap_render" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.profiler.SQLCollector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.profiler.</span></span><span class="sig-name descname"><span class="pre">SQLCollector</span></span><a class="reference internal" href="_modules/odoo/tools/profiler.html#SQLCollector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.SQLCollector" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#odoo.tools.profiler.Collector" title="odoo.tools.profiler.Collector"><code class="xref py py-class docutils literal notranslate"><span class="pre">Collector</span></code></a></p>
<p>Saves all executed queries in the current thread with the call stack.</p>
<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.profiler.SQLCollector.hook">
<span class="sig-name descname"><span class="pre">hook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query_time</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/profiler.html#SQLCollector.hook"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.SQLCollector.hook" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="odoo.tools.profiler.SQLCollector.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'sql'</span></em><a class="headerlink" href="#odoo.tools.profiler.SQLCollector.name" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.profiler.SQLCollector.start">
<span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/profiler.html#SQLCollector.start"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.SQLCollector.start" title="Link to this definition"></a></dt>
<dd><p>Start the collector.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.profiler.SQLCollector.stop">
<span class="sig-name descname"><span class="pre">stop</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/profiler.html#SQLCollector.stop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.SQLCollector.stop" title="Link to this definition"></a></dt>
<dd><p>Stop the collector.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.profiler.SyncCollector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.profiler.</span></span><span class="sig-name descname"><span class="pre">SyncCollector</span></span><a class="reference internal" href="_modules/odoo/tools/profiler.html#SyncCollector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.SyncCollector" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#odoo.tools.profiler.Collector" title="odoo.tools.profiler.Collector"><code class="xref py py-class docutils literal notranslate"><span class="pre">Collector</span></code></a></p>
<p>Record complete execution synchronously.
Note that –limit-memory-hard may need to be increased when launching Odoo.</p>
<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.profiler.SyncCollector.hook">
<span class="sig-name descname"><span class="pre">hook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_frame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_arg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/profiler.html#SyncCollector.hook"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.SyncCollector.hook" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="odoo.tools.profiler.SyncCollector.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'traces_sync'</span></em><a class="headerlink" href="#odoo.tools.profiler.SyncCollector.name" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.profiler.SyncCollector.post_process">
<span class="sig-name descname"><span class="pre">post_process</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/profiler.html#SyncCollector.post_process"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.SyncCollector.post_process" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.profiler.SyncCollector.start">
<span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/profiler.html#SyncCollector.start"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.SyncCollector.start" title="Link to this definition"></a></dt>
<dd><p>Start the collector.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.profiler.SyncCollector.stop">
<span class="sig-name descname"><span class="pre">stop</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/profiler.html#SyncCollector.stop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.SyncCollector.stop" title="Link to this definition"></a></dt>
<dd><p>Stop the collector.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.profiler.force_hook">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.profiler.</span></span><span class="sig-name descname"><span class="pre">force_hook</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/profiler.html#force_hook"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.force_hook" title="Link to this definition"></a></dt>
<dd><p>Force periodic profiling collectors to generate some stack trace.  This is
useful before long calls that do not release the GIL, so that the time
spent in those calls is attributed to a specific stack trace, instead of
some arbitrary former frame.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.profiler.get_current_frame">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.profiler.</span></span><span class="sig-name descname"><span class="pre">get_current_frame</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">thread</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/profiler.html#get_current_frame"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.get_current_frame" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.profiler.make_session">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.profiler.</span></span><span class="sig-name descname"><span class="pre">make_session</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/profiler.html#make_session"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.make_session" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.profiler.real_datetime_now">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.profiler.</span></span><span class="sig-name descname"><span class="pre">real_datetime_now</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#odoo.tools.profiler.real_datetime_now" title="Link to this definition"></a></dt>
<dd><p>Returns new datetime object representing current time local to tz.</p>
<blockquote>
<div><dl class="simple">
<dt>tz</dt><dd><p>Timezone object.</p>
</dd>
</dl>
</div></blockquote>
<p>If no tz is specified, uses local timezone.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.profiler.real_time">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.profiler.</span></span><span class="sig-name descname"><span class="pre">real_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#odoo.tools.profiler.real_time" title="Link to this definition"></a></dt>
<dd><p>Call self as a function.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.profiler.stack_size">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.profiler.</span></span><span class="sig-name descname"><span class="pre">stack_size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/profiler.html#stack_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.profiler.stack_size" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-odoo.tools.pycompat">
<span id="odoo-tools-pycompat-module"></span><h2>odoo.tools.pycompat module<a class="headerlink" href="#module-odoo.tools.pycompat" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.pycompat.csv_reader">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.pycompat.</span></span><span class="sig-name descname"><span class="pre">csv_reader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/pycompat.html#csv_reader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.pycompat.csv_reader" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.pycompat.csv_writer">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.pycompat.</span></span><span class="sig-name descname"><span class="pre">csv_writer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/pycompat.html#csv_writer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.pycompat.csv_writer" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.pycompat.to_text">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.pycompat.</span></span><span class="sig-name descname"><span class="pre">to_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/pycompat.html#to_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.pycompat.to_text" title="Link to this definition"></a></dt>
<dd><p>Generates a text value (an instance of text_type) from an arbitrary
source.</p>
<ul class="simple">
<li><p>False and None are converted to empty strings</p></li>
<li><p>text is passed through</p></li>
<li><p>bytes are decoded as UTF-8</p></li>
<li><p>rest is textified via the current version’s relevant data model method</p></li>
</ul>
</dd></dl>

</section>
<section id="module-odoo.tools.query">
<span id="odoo-tools-query-module"></span><h2>odoo.tools.query module<a class="headerlink" href="#module-odoo.tools.query" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.query.Query">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.query.</span></span><span class="sig-name descname"><span class="pre">Query</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alias</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="#odoo.tools.sql.SQL" title="odoo.tools.sql.SQL"><span class="pre">SQL</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/query.html#Query"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.query.Query" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Simple implementation of a query object, managing tables with aliases,
join clauses (with aliases, condition and parameters), where clauses (with
parameters), order, limit and offset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cr</strong> – database cursor (for lazy evaluation)</p></li>
<li><p><strong>alias</strong> – name or alias of the table</p></li>
<li><p><strong>table</strong> – a table expression (<code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">SQL</span></code> object), optional</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.query.Query.add_join">
<span class="sig-name descname"><span class="pre">add_join</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kind</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alias</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="#odoo.tools.sql.SQL" title="odoo.tools.sql.SQL"><span class="pre">SQL</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">condition</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#odoo.tools.sql.SQL" title="odoo.tools.sql.SQL"><span class="pre">SQL</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/query.html#Query.add_join"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.query.Query.add_join" title="Link to this definition"></a></dt>
<dd><p>Add a join clause with the given alias, table and condition.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.query.Query.add_table">
<span class="sig-name descname"><span class="pre">add_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alias</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="#odoo.tools.sql.SQL" title="odoo.tools.sql.SQL"><span class="pre">SQL</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/query.html#Query.add_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.query.Query.add_table" title="Link to this definition"></a></dt>
<dd><p>Add a table with a given alias to the from clause.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.query.Query.add_where">
<span class="sig-name descname"><span class="pre">add_where</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">where_clause</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="#odoo.tools.sql.SQL" title="odoo.tools.sql.SQL"><span class="pre">SQL</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">where_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/query.html#Query.add_where"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.query.Query.add_where" title="Link to this definition"></a></dt>
<dd><p>Add a condition to the where clause.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="odoo.tools.query.Query.from_clause">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_clause</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#odoo.tools.sql.SQL" title="odoo.tools.sql.SQL"><span class="pre">SQL</span></a></em><a class="headerlink" href="#odoo.tools.query.Query.from_clause" title="Link to this definition"></a></dt>
<dd><p>Return the FROM clause of <code class="docutils literal notranslate"><span class="pre">self</span></code>, without the FROM keyword.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.query.Query.get_result_ids">
<span class="sig-name descname"><span class="pre">get_result_ids</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/query.html#Query.get_result_ids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.query.Query.get_result_ids" title="Link to this definition"></a></dt>
<dd><p>Return the result of <code class="docutils literal notranslate"><span class="pre">self.select()</span></code> as a tuple of ids. The result
is memoized for future use, which avoids making the same query twice.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.query.Query.get_sql">
<span class="sig-name descname"><span class="pre">get_sql</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/query.html#Query.get_sql"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.query.Query.get_sql" title="Link to this definition"></a></dt>
<dd><p>Returns (query_from, query_where, query_params).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.query.Query.is_empty">
<span class="sig-name descname"><span class="pre">is_empty</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/query.html#Query.is_empty"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.query.Query.is_empty" title="Link to this definition"></a></dt>
<dd><p>Return whether the query is known to return nothing.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.query.Query.join">
<span class="sig-name descname"><span class="pre">join</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lhs_alias</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lhs_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rhs_table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rhs_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">link</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/query.html#Query.join"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.query.Query.join" title="Link to this definition"></a></dt>
<dd><p>Perform a join between a table already present in the current Query object and
another table.  This method is essentially a shortcut for methods <a class="reference internal" href="#odoo.tools.query.Query.make_alias" title="odoo.tools.query.Query.make_alias"><code class="xref py py-meth docutils literal notranslate"><span class="pre">make_alias()</span></code></a>
and <a class="reference internal" href="#odoo.tools.query.Query.add_join" title="odoo.tools.query.Query.add_join"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_join()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lhs_alias</strong> (<em>str</em>) – alias of a table already defined in the current Query object.</p></li>
<li><p><strong>lhs_column</strong> (<em>str</em>) – column of <cite>lhs_alias</cite> to be used for the join’s ON condition.</p></li>
<li><p><strong>rhs_table</strong> (<em>str</em>) – name of the table to join to <cite>lhs_alias</cite>.</p></li>
<li><p><strong>rhs_column</strong> (<em>str</em>) – column of <cite>rhs_alias</cite> to be used for the join’s ON condition.</p></li>
<li><p><strong>link</strong> (<em>str</em>) – used to generate the alias for the joined table, this string should
represent the relationship (the link) between both tables.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.query.Query.left_join">
<span class="sig-name descname"><span class="pre">left_join</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lhs_alias</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lhs_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rhs_table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rhs_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">link</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/query.html#Query.left_join"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.query.Query.left_join" title="Link to this definition"></a></dt>
<dd><p>Add a LEFT JOIN to the current table (if necessary), and return the
alias corresponding to <code class="docutils literal notranslate"><span class="pre">rhs_table</span></code>.</p>
<p>See the documentation of <a class="reference internal" href="#odoo.tools.query.Query.join" title="odoo.tools.query.Query.join"><code class="xref py py-meth docutils literal notranslate"><span class="pre">join()</span></code></a> for a better overview of the
arguments and what they do.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.query.Query.make_alias">
<span class="sig-name descname"><span class="pre">make_alias</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alias</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">link</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/odoo/tools/query.html#Query.make_alias"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.query.Query.make_alias" title="Link to this definition"></a></dt>
<dd><p>Return an alias based on <code class="docutils literal notranslate"><span class="pre">alias</span></code> and <code class="docutils literal notranslate"><span class="pre">link</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="odoo.tools.query.Query.order">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">order</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#odoo.tools.sql.SQL" title="odoo.tools.sql.SQL"><span class="pre">SQL</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#odoo.tools.query.Query.order" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.query.Query.select">
<span class="sig-name descname"><span class="pre">select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="#odoo.tools.sql.SQL" title="odoo.tools.sql.SQL"><span class="pre">SQL</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#odoo.tools.sql.SQL" title="odoo.tools.sql.SQL"><span class="pre">SQL</span></a></span></span><a class="reference internal" href="_modules/odoo/tools/query.html#Query.select"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.query.Query.select" title="Link to this definition"></a></dt>
<dd><p>Return the SELECT query as an <code class="docutils literal notranslate"><span class="pre">SQL</span></code> object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.query.Query.set_result_ids">
<span class="sig-name descname"><span class="pre">set_result_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ordered</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/query.html#Query.set_result_ids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.query.Query.set_result_ids" title="Link to this definition"></a></dt>
<dd><p>Set up the query to return the lines given by <code class="docutils literal notranslate"><span class="pre">ids</span></code>. The parameter
<code class="docutils literal notranslate"><span class="pre">ordered</span></code> tells whether the query must be ordered to match exactly the
sequence <code class="docutils literal notranslate"><span class="pre">ids</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.query.Query.subselect">
<span class="sig-name descname"><span class="pre">subselect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="#odoo.tools.sql.SQL" title="odoo.tools.sql.SQL"><span class="pre">SQL</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#odoo.tools.sql.SQL" title="odoo.tools.sql.SQL"><span class="pre">SQL</span></a></span></span><a class="reference internal" href="_modules/odoo/tools/query.html#Query.subselect"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.query.Query.subselect" title="Link to this definition"></a></dt>
<dd><p>Similar to <a class="reference internal" href="#odoo.tools.query.Query.select" title="odoo.tools.query.Query.select"><code class="xref py py-meth docutils literal notranslate"><span class="pre">select()</span></code></a>, but for sub-queries.
This one avoids the ORDER BY clause when possible,
and includes parentheses around the subquery.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="odoo.tools.query.Query.table">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">table</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#odoo.tools.query.Query.table" title="Link to this definition"></a></dt>
<dd><p>Return the query’s main table, i.e., the first one in the FROM clause.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="odoo.tools.query.Query.where_clause">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">where_clause</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#odoo.tools.sql.SQL" title="odoo.tools.sql.SQL"><span class="pre">SQL</span></a></em><a class="headerlink" href="#odoo.tools.query.Query.where_clause" title="Link to this definition"></a></dt>
<dd><p>Return the WHERE condition of <code class="docutils literal notranslate"><span class="pre">self</span></code>, without the WHERE keyword.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-odoo.tools.rendering_tools">
<span id="odoo-tools-rendering-tools-module"></span><h2>odoo.tools.rendering_tools module<a class="headerlink" href="#module-odoo.tools.rendering_tools" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.rendering_tools.convert_inline_template_to_qweb">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.rendering_tools.</span></span><span class="sig-name descname"><span class="pre">convert_inline_template_to_qweb</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">template</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/rendering_tools.html#convert_inline_template_to_qweb"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.rendering_tools.convert_inline_template_to_qweb" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.rendering_tools.parse_inline_template">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.rendering_tools.</span></span><span class="sig-name descname"><span class="pre">parse_inline_template</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/rendering_tools.html#parse_inline_template"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.rendering_tools.parse_inline_template" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.rendering_tools.relativedelta_proxy">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.rendering_tools.</span></span><span class="sig-name descname"><span class="pre">relativedelta_proxy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/rendering_tools.html#relativedelta_proxy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.rendering_tools.relativedelta_proxy" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.rendering_tools.render_inline_template">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.rendering_tools.</span></span><span class="sig-name descname"><span class="pre">render_inline_template</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">template_instructions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variables</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/rendering_tools.html#render_inline_template"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.rendering_tools.render_inline_template" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-odoo.tools.safe_eval">
<span id="odoo-tools-safe-eval-module"></span><h2>odoo.tools.safe_eval module<a class="headerlink" href="#module-odoo.tools.safe_eval" title="Link to this heading"></a></h2>
<dl class="simple">
<dt>safe_eval module - methods intended to provide more restricted alternatives to</dt><dd><p>evaluate simple and/or untrusted code.</p>
</dd>
</dl>
<p>Methods in this module are typically used as alternatives to eval() to parse
OpenERP domain strings, conditions and expressions, mostly based on locals
condition/math builtins.</p>
<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.safe_eval.const_eval">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.safe_eval.</span></span><span class="sig-name descname"><span class="pre">const_eval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expression</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">value</span></span></span><a class="reference internal" href="_modules/odoo/tools/safe_eval.html#const_eval"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.safe_eval.const_eval" title="Link to this definition"></a></dt>
<dd><p>Safe Python constant evaluation</p>
<p>Evaluates a string that contains an expression describing
a Python constant. Strings that are not valid Python expressions
or that contain other code besides the constant raise ValueError.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">const_eval</span><span class="p">(</span><span class="s2">&quot;10&quot;</span><span class="p">)</span>
<span class="go">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">const_eval</span><span class="p">(</span><span class="s2">&quot;[1,2, (3,4), {&#39;foo&#39;:&#39;bar&#39;}]&quot;</span><span class="p">)</span>
<span class="go">[1, 2, (3, 4), {&#39;foo&#39;: &#39;bar&#39;}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">const_eval</span><span class="p">(</span><span class="s2">&quot;1+2&quot;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">opcode BINARY_ADD not allowed</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.safe_eval.safe_eval">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.safe_eval.</span></span><span class="sig-name descname"><span class="pre">safe_eval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expression</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">globals</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">locals</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">nocopy</span></span></em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">result</span></span></span><a class="reference internal" href="_modules/odoo/tools/safe_eval.html#safe_eval"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.safe_eval.safe_eval" title="Link to this definition"></a></dt>
<dd><p>System-restricted Python expression evaluation</p>
<p>Evaluates a string that contains an expression that mostly
uses Python constants, arithmetic expressions and the
objects directly provided in context.</p>
<p>This can be used to e.g. evaluate
an OpenERP domain expression from an untrusted source.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>string</em>) – optional pseudo-filename for the compiled expression,
displayed for example in traceback frames</p>
</dd>
<dt class="field-even">Throws TypeError<span class="colon">:</span></dt>
<dd class="field-even"><p>If the expression provided is a code object</p>
</dd>
<dt class="field-odd">Throws SyntaxError<span class="colon">:</span></dt>
<dd class="field-odd"><p>If the expression provided is not valid Python</p>
</dd>
<dt class="field-even">Throws NameError<span class="colon">:</span></dt>
<dd class="field-even"><p>If the expression provided accesses forbidden names</p>
</dd>
<dt class="field-odd">Throws ValueError<span class="colon">:</span></dt>
<dd class="field-odd"><p>If the expression provided uses forbidden bytecode</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.safe_eval.test_expr">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.safe_eval.</span></span><span class="sig-name descname"><span class="pre">test_expr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expression</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allowed_codes</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">code_object</span></span></span><a class="reference internal" href="_modules/odoo/tools/safe_eval.html#test_expr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.safe_eval.test_expr" title="Link to this definition"></a></dt>
<dd><p>Test that the expression contains only the allowed opcodes.
If the expression is valid and contains only allowed codes,
return the compiled code object.
Otherwise raise a ValueError, a Syntax Error or TypeError accordingly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>string</em>) – optional pseudo-filename for the compiled expression,
displayed for example in traceback frames</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-odoo.tools.sourcemap_generator">
<span id="odoo-tools-sourcemap-generator-module"></span><h2>odoo.tools.sourcemap_generator module<a class="headerlink" href="#module-odoo.tools.sourcemap_generator" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.sourcemap_generator.SourceMapGenerator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.sourcemap_generator.</span></span><span class="sig-name descname"><span class="pre">SourceMapGenerator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source_root</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/sourcemap_generator.html#SourceMapGenerator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sourcemap_generator.SourceMapGenerator" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The SourceMapGenerator creates the sourcemap maps the asset bundle to the js/css files.</p>
<p>What is a sourcemap ? (<a class="reference external" href="https://developer.mozilla.org/en-US/docs/Tools/Debugger/How_to/Use_a_source_map">https://developer.mozilla.org/en-US/docs/Tools/Debugger/How_to/Use_a_source_map</a>)
In brief: a source map is what makes possible to debug your processed/compiled/minified code as if you were
debugging the original, non-altered source code. It is a file that provides a mapping original &lt;=&gt; processed for
the browser to read.</p>
<p>This implementation of the SourceMapGenerator is a translation and adaptation of this implementation
in js <a class="reference external" href="https://github.com/mozilla/source-map">https://github.com/mozilla/source-map</a>. For performance purposes, we have removed all unnecessary
functions/steps for our use case. This simpler version does a line by line mapping, with the ability to
add offsets at the start and end of a file. (when we have to add comments on top a transpiled file by example).</p>
<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.sourcemap_generator.SourceMapGenerator.add_source">
<span class="sig-name descname"><span class="pre">add_source</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_content</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">last_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/sourcemap_generator.html#SourceMapGenerator.add_source"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sourcemap_generator.SourceMapGenerator.add_source" title="Link to this definition"></a></dt>
<dd><p>Adds a new source file in the sourcemap. All the lines of the source file will be mapped line by line
to the generated file from the (last_index + start_offset). All lines between
last_index and (last_index + start_offset) will
be mapped to line 1 of the source file.</p>
<dl>
<dt>Example:</dt><dd><p>ls 1 = Line 1 from new source file
lg 1 = Line 1 from genereted file
ls 1 &lt;=&gt; lg 1 Line 1 from new source file is map to  Line 1 from genereted file
nb_ls = number of lines in the new source file</p>
<p>Step 1:
ls 1 &lt;=&gt; lg last_index + 1</p>
<p>Step 2:
ls 1 &lt;=&gt; lg last_index + start_offset + 1
ls 2 &lt;=&gt; lg last_index + start_offset + 2
…
ls nb_ls &lt;=&gt; lg last_index + start_offset + nb_ls</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source_name</strong> – name of the source to add</p></li>
<li><p><strong>source_content</strong> – content of the source to add</p></li>
<li><p><strong>last_index</strong> – Line where we start to map the new source</p></li>
<li><p><strong>start_offset</strong> – Number of lines to pass in the generated file before starting mapping line by line</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.sourcemap_generator.SourceMapGenerator.get_content">
<span class="sig-name descname"><span class="pre">get_content</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/sourcemap_generator.html#SourceMapGenerator.get_content"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sourcemap_generator.SourceMapGenerator.get_content" title="Link to this definition"></a></dt>
<dd><p>Generates the content of the sourcemap.</p>
<p>:return the content of the sourcemap as a string encoded in UTF-8.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.sourcemap_generator.SourceMapGenerator.to_json">
<span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/sourcemap_generator.html#SourceMapGenerator.to_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sourcemap_generator.SourceMapGenerator.to_json" title="Link to this definition"></a></dt>
<dd><p>Generates the json sourcemap.
It is the main function that assembles all the pieces.</p>
<p>:return {str} valid sourcemap in json format</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.sourcemap_generator.base64vlq_encode">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.sourcemap_generator.</span></span><span class="sig-name descname"><span class="pre">base64vlq_encode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/sourcemap_generator.html#base64vlq_encode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sourcemap_generator.base64vlq_encode" title="Link to this definition"></a></dt>
<dd><p>Encode Base64 VLQ encoded sequences
<a class="reference external" href="https://gist.github.com/mjpieters/86b0d152bb51d5f5979346d11005588b">https://gist.github.com/mjpieters/86b0d152bb51d5f5979346d11005588b</a>
Base64 VLQ is used in source maps.
VLQ values consist of 6 bits (matching the 64 characters of the Base64
alphabet), with the most significant bit a <em>continuation</em> flag. If the
flag is set, then the next character in the input is part of the same
integer value. Multiple VLQ character sequences so form an unbounded
integer value, in little-endian order.
The <em>first</em> VLQ value consists of a continuation flag, 4 bits for the
value, and the last bit the <em>sign</em> of the integer:
+—–+—–+—–+—–+—–+—–+
|  c  |  b3 |  b2 |  b1 |  b0 |  s  |
+—–+—–+—–+—–+—–+—–+
while subsequent VLQ characters contain 5 bits of value:
+—–+—–+—–+—–+—–+—–+
|  c  |  b4 |  b3 |  b2 |  b1 |  b0 |
+—–+—–+—–+—–+—–+—–+
For source maps, Base64 VLQ sequences can contain 1, 4 or 5 elements.</p>
</dd></dl>

</section>
<section id="module-odoo.tools.speedscope">
<span id="odoo-tools-speedscope-module"></span><h2>odoo.tools.speedscope module<a class="headerlink" href="#module-odoo.tools.speedscope" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.speedscope.Speedscope">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.speedscope.</span></span><span class="sig-name descname"><span class="pre">Speedscope</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Speedscope'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">init_stack_trace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/speedscope.html#Speedscope"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.speedscope.Speedscope" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.speedscope.Speedscope.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profile</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/speedscope.html#Speedscope.add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.speedscope.Speedscope.add" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.speedscope.Speedscope.add_default">
<span class="sig-name descname"><span class="pre">add_default</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/speedscope.html#Speedscope.add_default"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.speedscope.Speedscope.add_default" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.speedscope.Speedscope.add_output">
<span class="sig-name descname"><span class="pre">add_output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">complete</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/speedscope.html#Speedscope.add_output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.speedscope.Speedscope.add_output" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.speedscope.Speedscope.convert_stack">
<span class="sig-name descname"><span class="pre">convert_stack</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stack</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/speedscope.html#Speedscope.convert_stack"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.speedscope.Speedscope.convert_stack" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.speedscope.Speedscope.get_frame_id">
<span class="sig-name descname"><span class="pre">get_frame_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/speedscope.html#Speedscope.get_frame_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.speedscope.Speedscope.get_frame_id" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.speedscope.Speedscope.make">
<span class="sig-name descname"><span class="pre">make</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/speedscope.html#Speedscope.make"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.speedscope.Speedscope.make" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.speedscope.Speedscope.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entries</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">continuous</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hide_gaps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">constant_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/speedscope.html#Speedscope.process"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.speedscope.Speedscope.process" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.speedscope.Speedscope.stack_to_ids">
<span class="sig-name descname"><span class="pre">stack_to_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stack</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stack_offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/speedscope.html#Speedscope.stack_to_ids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.speedscope.Speedscope.stack_to_ids" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stack</strong> – A list of hashable frame</p></li>
<li><p><strong>context</strong> – an iterable of (level, value) ordered by level</p></li>
<li><p><strong>stack_offset</strong> – offset level for stack</p></li>
</ul>
</dd>
</dl>
<p>Assemble stack and context and return a list of ids representing
this stack, adding each corresponding context at the corresponding
level.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-odoo.tools.sql">
<span id="odoo-tools-sql-module"></span><h2>odoo.tools.sql module<a class="headerlink" href="#module-odoo.tools.sql" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.sql.SQL">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.sql.</span></span><span class="sig-name descname"><span class="pre">SQL</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">code</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="#odoo.tools.sql.SQL" title="odoo.tools.sql.SQL"><span class="pre">SQL</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">/</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/sql.html#SQL"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sql.SQL" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>An object that wraps SQL code with its parameters, like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sql</span> <span class="o">=</span> <span class="n">SQL</span><span class="p">(</span><span class="s2">&quot;UPDATE TABLE foo SET a = </span><span class="si">%s</span><span class="s2">, b = </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
<span class="n">cr</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
</pre></div>
</div>
<p>The code is given as a <code class="docutils literal notranslate"><span class="pre">%</span></code>-format string, and supports either positional
arguments (with <cite>%s</cite>) or named arguments (with <cite>%(name)s</cite>). Escaped
characters (like <code class="docutils literal notranslate"><span class="pre">&quot;%%&quot;</span></code>) are not supported, though. The arguments are
meant to be merged into the code using the <cite>%</cite> formatting operator.</p>
<p>The SQL wrapper is designed to be composable: the arguments can be either
actual parameters, or SQL objects themselves:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sql</span> <span class="o">=</span> <span class="n">SQL</span><span class="p">(</span>
    <span class="s2">&quot;UPDATE TABLE </span><span class="si">%s</span><span class="s2"> SET </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">SQL</span><span class="o">.</span><span class="n">identifier</span><span class="p">(</span><span class="n">tablename</span><span class="p">),</span>
    <span class="n">SQL</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> = </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">SQL</span><span class="o">.</span><span class="n">identifier</span><span class="p">(</span><span class="n">columnname</span><span class="p">),</span> <span class="n">value</span><span class="p">),</span>
<span class="p">)</span>
</pre></div>
</div>
<p>The combined SQL code is given by <code class="docutils literal notranslate"><span class="pre">sql.code</span></code>, while the corresponding
combined parameters are given by the list <code class="docutils literal notranslate"><span class="pre">sql.params</span></code>. This allows to
combine any number of SQL terms without having to separately combine their
parameters, which can be tedious, bug-prone, and is the main downside of
<cite>psycopg2.sql &lt;https://www.psycopg.org/docs/sql.html&gt;</cite>.</p>
<p>The second purpose of the wrapper is to discourage SQL injections. Indeed,
if <code class="docutils literal notranslate"><span class="pre">code</span></code> is a string literal (not a dynamic string), then the SQL object
made with <code class="docutils literal notranslate"><span class="pre">code</span></code> is guaranteed to be safe, provided the SQL objects
within its parameters are themselves safe.</p>
<dl class="py property">
<dt class="sig sig-object py" id="odoo.tools.sql.SQL.code">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">code</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#odoo.tools.sql.SQL.code" title="Link to this definition"></a></dt>
<dd><p>Return the combined SQL code string.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.sql.SQL.identifier">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">identifier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#odoo.tools.sql.SQL" title="odoo.tools.sql.SQL"><span class="pre">SQL</span></a></span></span><a class="reference internal" href="_modules/odoo/tools/sql.html#SQL.identifier"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sql.SQL.identifier" title="Link to this definition"></a></dt>
<dd><p>Return an SQL object that represents an identifier.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.sql.SQL.join">
<span class="sig-name descname"><span class="pre">join</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#odoo.tools.sql.SQL" title="odoo.tools.sql.SQL"><span class="pre">SQL</span></a></span></span><a class="reference internal" href="_modules/odoo/tools/sql.html#SQL.join"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sql.SQL.join" title="Link to this definition"></a></dt>
<dd><p>Join SQL objects or parameters with <code class="docutils literal notranslate"><span class="pre">self</span></code> as a separator.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="odoo.tools.sql.SQL.params">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">params</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">list</span></em><a class="headerlink" href="#odoo.tools.sql.SQL.params" title="Link to this definition"></a></dt>
<dd><p>Return the combined SQL code params as a list of values.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.sql.TableKind">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.sql.</span></span><span class="sig-name descname"><span class="pre">TableKind</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qualname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boundary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/sql.html#TableKind"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sql.TableKind" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="odoo.tools.sql.TableKind.Foreign">
<span class="sig-name descname"><span class="pre">Foreign</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'f'</span></em><a class="headerlink" href="#odoo.tools.sql.TableKind.Foreign" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="odoo.tools.sql.TableKind.Materialized">
<span class="sig-name descname"><span class="pre">Materialized</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'m'</span></em><a class="headerlink" href="#odoo.tools.sql.TableKind.Materialized" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="odoo.tools.sql.TableKind.Other">
<span class="sig-name descname"><span class="pre">Other</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#odoo.tools.sql.TableKind.Other" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="odoo.tools.sql.TableKind.Regular">
<span class="sig-name descname"><span class="pre">Regular</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'r'</span></em><a class="headerlink" href="#odoo.tools.sql.TableKind.Regular" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="odoo.tools.sql.TableKind.Temporary">
<span class="sig-name descname"><span class="pre">Temporary</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'t'</span></em><a class="headerlink" href="#odoo.tools.sql.TableKind.Temporary" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="odoo.tools.sql.TableKind.View">
<span class="sig-name descname"><span class="pre">View</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'v'</span></em><a class="headerlink" href="#odoo.tools.sql.TableKind.View" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.sql.add_constraint">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.sql.</span></span><span class="sig-name descname"><span class="pre">add_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">constraintname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">definition</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/sql.html#add_constraint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sql.add_constraint" title="Link to this definition"></a></dt>
<dd><p>Add a constraint on the given table.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.sql.add_foreign_key">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.sql.</span></span><span class="sig-name descname"><span class="pre">add_foreign_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columnname1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columnname2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ondelete</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/sql.html#add_foreign_key"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sql.add_foreign_key" title="Link to this definition"></a></dt>
<dd><p>Create the given foreign key, and return <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.sql.check_index_exist">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.sql.</span></span><span class="sig-name descname"><span class="pre">check_index_exist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indexname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/sql.html#check_index_exist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sql.check_index_exist" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.sql.column_exists">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.sql.</span></span><span class="sig-name descname"><span class="pre">column_exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columnname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/sql.html#column_exists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sql.column_exists" title="Link to this definition"></a></dt>
<dd><p>Return whether the given column exists.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.sql.constraint_definition">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.sql.</span></span><span class="sig-name descname"><span class="pre">constraint_definition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">constraintname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/sql.html#constraint_definition"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sql.constraint_definition" title="Link to this definition"></a></dt>
<dd><p>Return the given constraint’s definition.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.sql.convert_column">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.sql.</span></span><span class="sig-name descname"><span class="pre">convert_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columnname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columntype</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/sql.html#convert_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sql.convert_column" title="Link to this definition"></a></dt>
<dd><p>Convert the column to the given type.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.sql.convert_column_translatable">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.sql.</span></span><span class="sig-name descname"><span class="pre">convert_column_translatable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columnname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columntype</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/sql.html#convert_column_translatable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sql.convert_column_translatable" title="Link to this definition"></a></dt>
<dd><p>Convert the column from/to a ‘jsonb’ translated field column.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.sql.create_column">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.sql.</span></span><span class="sig-name descname"><span class="pre">create_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columnname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columntype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/sql.html#create_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sql.create_column" title="Link to this definition"></a></dt>
<dd><p>Create a column with the given type.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.sql.create_index">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.sql.</span></span><span class="sig-name descname"><span class="pre">create_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indexname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expressions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'btree'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">where</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/sql.html#create_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sql.create_index" title="Link to this definition"></a></dt>
<dd><p>Create the given index unless it exists.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.sql.create_model_table">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.sql.</span></span><span class="sig-name descname"><span class="pre">create_model_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/sql.html#create_model_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sql.create_model_table" title="Link to this definition"></a></dt>
<dd><p>Create the table for a model.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.sql.create_unique_index">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.sql.</span></span><span class="sig-name descname"><span class="pre">create_unique_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indexname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expressions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/sql.html#create_unique_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sql.create_unique_index" title="Link to this definition"></a></dt>
<dd><p>Create the given index unless it exists.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.sql.drop_constraint">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.sql.</span></span><span class="sig-name descname"><span class="pre">drop_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">constraintname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/sql.html#drop_constraint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sql.drop_constraint" title="Link to this definition"></a></dt>
<dd><p>drop the given constraint.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.sql.drop_depending_views">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.sql.</span></span><span class="sig-name descname"><span class="pre">drop_depending_views</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/sql.html#drop_depending_views"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sql.drop_depending_views" title="Link to this definition"></a></dt>
<dd><p>drop views depending on a field to allow the ORM to resize it in-place</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.sql.drop_index">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.sql.</span></span><span class="sig-name descname"><span class="pre">drop_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indexname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/sql.html#drop_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sql.drop_index" title="Link to this definition"></a></dt>
<dd><p>Drop the given index if it exists.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.sql.drop_not_null">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.sql.</span></span><span class="sig-name descname"><span class="pre">drop_not_null</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columnname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/sql.html#drop_not_null"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sql.drop_not_null" title="Link to this definition"></a></dt>
<dd><p>Drop the NOT NULL constraint on the given column.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.sql.drop_view_if_exists">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.sql.</span></span><span class="sig-name descname"><span class="pre">drop_view_if_exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">viewname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/sql.html#drop_view_if_exists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sql.drop_view_if_exists" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.sql.escape_psql">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.sql.</span></span><span class="sig-name descname"><span class="pre">escape_psql</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">to_escape</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/sql.html#escape_psql"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sql.escape_psql" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.sql.existing_tables">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.sql.</span></span><span class="sig-name descname"><span class="pre">existing_tables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablenames</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/sql.html#existing_tables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sql.existing_tables" title="Link to this definition"></a></dt>
<dd><p>Return the names of existing tables among <code class="docutils literal notranslate"><span class="pre">tablenames</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.sql.fix_foreign_key">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.sql.</span></span><span class="sig-name descname"><span class="pre">fix_foreign_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columnname1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columnname2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ondelete</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/sql.html#fix_foreign_key"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sql.fix_foreign_key" title="Link to this definition"></a></dt>
<dd><p>Update the foreign keys between tables to match the given one, and
return <code class="docutils literal notranslate"><span class="pre">True</span></code> if the given foreign key has been recreated.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.sql.get_depending_views">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.sql.</span></span><span class="sig-name descname"><span class="pre">get_depending_views</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/sql.html#get_depending_views"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sql.get_depending_views" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.sql.get_foreign_keys">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.sql.</span></span><span class="sig-name descname"><span class="pre">get_foreign_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columnname1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columnname2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ondelete</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/sql.html#get_foreign_keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sql.get_foreign_keys" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.sql.increment_fields_skiplock">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.sql.</span></span><span class="sig-name descname"><span class="pre">increment_fields_skiplock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">records</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">fields</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/sql.html#increment_fields_skiplock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sql.increment_fields_skiplock" title="Link to this definition"></a></dt>
<dd><p>Increment ‘friendly’ the given <cite>fields</cite> of the current <cite>records</cite>.
If record is locked, we just skip the update.
It doesn’t invalidate the cache since the update is not critical.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>records</strong> – recordset to update</p></li>
<li><p><strong>fields</strong> – integer fields to increment</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>whether the specified fields were incremented on any record.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.sql.index_exists">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.sql.</span></span><span class="sig-name descname"><span class="pre">index_exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indexname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/sql.html#index_exists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sql.index_exists" title="Link to this definition"></a></dt>
<dd><p>Return whether the given index exists.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.sql.make_identifier">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.sql.</span></span><span class="sig-name descname"><span class="pre">make_identifier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/odoo/tools/sql.html#make_identifier"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sql.make_identifier" title="Link to this definition"></a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">identifier</span></code>, possibly modified to fit PostgreSQL’s identifier size limitation.
If too long, <code class="docutils literal notranslate"><span class="pre">identifier</span></code> is truncated and padded with a hash to make it mostly unique.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.sql.make_index_name">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.sql.</span></span><span class="sig-name descname"><span class="pre">make_index_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/odoo/tools/sql.html#make_index_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sql.make_index_name" title="Link to this definition"></a></dt>
<dd><p>Return an index name according to conventions for the given table and column.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.sql.pattern_to_translated_trigram_pattern">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.sql.</span></span><span class="sig-name descname"><span class="pre">pattern_to_translated_trigram_pattern</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/sql.html#pattern_to_translated_trigram_pattern"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sql.pattern_to_translated_trigram_pattern" title="Link to this definition"></a></dt>
<dd><p>Escape pattern to match a translated field’s trigram index content</p>
<p>The trigram index function jsonb_path_query_array(“column_name”, ‘$.*’)::text
uses all translations’ representations to build the indexed text. So the
original pattern needs to be JSON-escaped correctly to match it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pattern</strong> (<em>str</em>) – value provided in domain</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a pattern to match the indexed text</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.sql.pg_varchar">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.sql.</span></span><span class="sig-name descname"><span class="pre">pg_varchar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/sql.html#pg_varchar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sql.pg_varchar" title="Link to this definition"></a></dt>
<dd><p>Returns the VARCHAR declaration for the provided size:</p>
<ul class="simple">
<li><p>If no size (or an empty or negative size is provided) return an
‘infinite’ VARCHAR</p></li>
<li><p>Otherwise return a VARCHAR(n)</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>size</strong> (<em>int</em>) – varchar size, optional</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.sql.rename_column">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.sql.</span></span><span class="sig-name descname"><span class="pre">rename_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columnname1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columnname2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/sql.html#rename_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sql.rename_column" title="Link to this definition"></a></dt>
<dd><p>Rename the given column.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.sql.reverse_order">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.sql.</span></span><span class="sig-name descname"><span class="pre">reverse_order</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/sql.html#reverse_order"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sql.reverse_order" title="Link to this definition"></a></dt>
<dd><p>Reverse an ORDER BY clause</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.sql.set_not_null">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.sql.</span></span><span class="sig-name descname"><span class="pre">set_not_null</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columnname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/sql.html#set_not_null"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sql.set_not_null" title="Link to this definition"></a></dt>
<dd><p>Add a NOT NULL constraint on the given column.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.sql.table_columns">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.sql.</span></span><span class="sig-name descname"><span class="pre">table_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/sql.html#table_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sql.table_columns" title="Link to this definition"></a></dt>
<dd><p>Return a dict mapping column names to their configuration. The latter is
a dict with the data from the table <code class="docutils literal notranslate"><span class="pre">information_schema.columns</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.sql.table_exists">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.sql.</span></span><span class="sig-name descname"><span class="pre">table_exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/sql.html#table_exists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sql.table_exists" title="Link to this definition"></a></dt>
<dd><p>Return whether the given table exists.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.sql.table_kind">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.sql.</span></span><span class="sig-name descname"><span class="pre">table_kind</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#odoo.tools.sql.TableKind" title="odoo.tools.sql.TableKind"><span class="pre">TableKind</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="_modules/odoo/tools/sql.html#table_kind"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sql.table_kind" title="Link to this definition"></a></dt>
<dd><p>Return the kind of a table, if <code class="docutils literal notranslate"><span class="pre">tablename</span></code> is a regular or foreign
table, or a view (ignores indexes, sequences, toast tables, and partitioned
tables; unlogged tables are considered regular)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.sql.value_to_translated_trigram_pattern">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.sql.</span></span><span class="sig-name descname"><span class="pre">value_to_translated_trigram_pattern</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/sql.html#value_to_translated_trigram_pattern"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.sql.value_to_translated_trigram_pattern" title="Link to this definition"></a></dt>
<dd><p>Escape value to match a translated field’s trigram index content</p>
<p>The trigram index function jsonb_path_query_array(“column_name”, ‘$.*’)::text
uses all translations’ representations to build the indexed text. So the
original text needs to be JSON-escaped correctly to match it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>str</em>) – value provided in domain</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a pattern to match the indexed text</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-odoo.tools.template_inheritance">
<span id="odoo-tools-template-inheritance-module"></span><h2>odoo.tools.template_inheritance module<a class="headerlink" href="#module-odoo.tools.template_inheritance" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.template_inheritance.add_stripped_items_before">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.template_inheritance.</span></span><span class="sig-name descname"><span class="pre">add_stripped_items_before</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extract</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/template_inheritance.html#add_stripped_items_before"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.template_inheritance.add_stripped_items_before" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.template_inheritance.add_text_before">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.template_inheritance.</span></span><span class="sig-name descname"><span class="pre">add_text_before</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/template_inheritance.html#add_text_before"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.template_inheritance.add_text_before" title="Link to this definition"></a></dt>
<dd><p>Add text before <code class="docutils literal notranslate"><span class="pre">node</span></code> in its XML tree.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.template_inheritance.apply_inheritance_specs">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.template_inheritance.</span></span><span class="sig-name descname"><span class="pre">apply_inheritance_specs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">specs_tree</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inherit_branding=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pre_locate=&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/template_inheritance.html#apply_inheritance_specs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.template_inheritance.apply_inheritance_specs" title="Link to this definition"></a></dt>
<dd><p>Apply an inheriting view (a descendant of the base view)</p>
<p>Apply to a source architecture all the spec nodes (i.e. nodes
describing where and what changes to apply to some parent
architecture) given by an inheriting view.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>Element</em>) – a parent architecture to modify</p></li>
<li><p><strong>specs_tree</strong> (<em>Element</em>) – a modifying architecture in an inheriting view</p></li>
<li><p><strong>inherit_branding</strong> (<em>bool</em>)</p></li>
<li><p><strong>pre_locate</strong> – function that is executed before locating a node.
This function receives an arch as argument.
This is required by studio to properly handle group_ids.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a modified source where the specs are applied</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Element</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.template_inheritance.locate_node">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.template_inheritance.</span></span><span class="sig-name descname"><span class="pre">locate_node</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arch</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spec</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/template_inheritance.html#locate_node"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.template_inheritance.locate_node" title="Link to this definition"></a></dt>
<dd><p>Locate a node in a source (parent) architecture.</p>
<p>Given a complete source (parent) architecture (i.e. the field
<cite>arch</cite> in a view), and a ‘spec’ node (a node in an inheriting
view that specifies the location in the source view of what
should be changed), return (if it exists) the node in the
source view matching the specification.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arch</strong> – a parent architecture to modify</p></li>
<li><p><strong>spec</strong> – a modifying node in an inheriting view</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a node in the source matching the spec</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.template_inheritance.remove_element">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.template_inheritance.</span></span><span class="sig-name descname"><span class="pre">remove_element</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/template_inheritance.html#remove_element"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.template_inheritance.remove_element" title="Link to this definition"></a></dt>
<dd><p>Remove <code class="docutils literal notranslate"><span class="pre">node</span></code> but not its tail, from its XML tree.</p>
</dd></dl>

</section>
<section id="module-odoo.tools.test_reports">
<span id="odoo-tools-test-reports-module"></span><h2>odoo.tools.test_reports module<a class="headerlink" href="#module-odoo.tools.test_reports" title="Link to this heading"></a></h2>
<p>Helper functions for reports testing.</p>
<p>Please /do not/ import this file by default, but only explicitly call it
through the code of python tests.</p>
<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.test_reports.try_report">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.test_reports.</span></span><span class="sig-name descname"><span class="pre">try_report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">our_module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/test_reports.html#try_report"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.test_reports.try_report" title="Link to this definition"></a></dt>
<dd><p>Try to render a report &lt;rname&gt; with contents of ids</p>
<p>This function should also check for common pitfalls of reports.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.test_reports.try_report_action">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.test_reports.</span></span><span class="sig-name descname"><span class="pre">try_report_action</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">action_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_ids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wiz_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wiz_buttons</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">our_module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/test_reports.html#try_report_action"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.test_reports.try_report_action" title="Link to this definition"></a></dt>
<dd><p>Take an ir.actions.act_window and follow it until a report is produced</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cr</strong></p></li>
<li><p><strong>uid</strong></p></li>
<li><p><strong>action_id</strong> – the integer id of an action, or a reference to xml id
of the act_window (can search [our_module.]+xml_id</p></li>
<li><p><strong>active_model</strong></p></li>
<li><p><strong>active_ids</strong> – call the action as if it had been launched
from that model+ids (tree/form view action)</p></li>
<li><p><strong>wiz_data</strong> – a dictionary of values to use in the wizard, if needed.
They will override (or complete) the default values of the
wizard form.</p></li>
<li><p><strong>wiz_buttons</strong> – a list of button names, or button icon strings, which
should be preferred to press during the wizard.
Eg. ‘OK’ or ‘fa-print’</p></li>
<li><p><strong>context</strong></p></li>
<li><p><strong>our_module</strong> – the name of the calling module (string), like ‘account’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-odoo.tools.translate">
<span id="odoo-tools-translate-module"></span><h2>odoo.tools.translate module<a class="headerlink" href="#module-odoo.tools.translate" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.translate.CSVFileReader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">CSVFileReader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#CSVFileReader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.CSVFileReader" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.translate.CSVFileWriter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">CSVFileWriter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#CSVFileWriter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.CSVFileWriter" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.translate.CSVFileWriter.write_rows">
<span class="sig-name descname"><span class="pre">write_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rows</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#CSVFileWriter.write_rows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.CSVFileWriter.write_rows" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.translate.CodeTranslations">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">CodeTranslations</span></span><a class="reference internal" href="_modules/odoo/tools/translate.html#CodeTranslations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.CodeTranslations" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.translate.CodeTranslations.get_python_translations">
<span class="sig-name descname"><span class="pre">get_python_translations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lang</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#CodeTranslations.get_python_translations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.CodeTranslations.get_python_translations" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.translate.CodeTranslations.get_web_translations">
<span class="sig-name descname"><span class="pre">get_web_translations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lang</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#CodeTranslations.get_web_translations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.CodeTranslations.get_web_translations" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.translate.DeepDefaultDict">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">DeepDefaultDict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#DeepDefaultDict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.DeepDefaultDict" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.translate.GettextAlias">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">GettextAlias</span></span><a class="reference internal" href="_modules/odoo/tools/translate.html#GettextAlias"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.GettextAlias" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="odoo.tools.translate.ImdInfo">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">ImdInfo</span></span><a class="headerlink" href="#odoo.tools.translate.ImdInfo" title="Link to this definition"></a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">ExternalId</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.translate.PoFileReader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">PoFileReader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#PoFileReader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.PoFileReader" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Iterate over po file to return Odoo translation entries</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.translate.PoFileWriter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">PoFileWriter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lang</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#PoFileWriter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.PoFileWriter" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Iterate over po file to return Odoo translation entries</p>
<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.translate.PoFileWriter.add_entry">
<span class="sig-name descname"><span class="pre">add_entry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modules</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tnrs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trad</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comments</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#PoFileWriter.add_entry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.PoFileWriter.add_entry" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.translate.PoFileWriter.write_rows">
<span class="sig-name descname"><span class="pre">write_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rows</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#PoFileWriter.write_rows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.PoFileWriter.write_rows" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.translate.TarFileWriter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">TarFileWriter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lang</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#TarFileWriter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.TarFileWriter" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.translate.TarFileWriter.write_rows">
<span class="sig-name descname"><span class="pre">write_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rows</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#TarFileWriter.write_rows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.TarFileWriter.write_rows" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.translate.TranslationFileReader">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">TranslationFileReader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fileformat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'po'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#TranslationFileReader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.TranslationFileReader" title="Link to this definition"></a></dt>
<dd><p>Iterate over translation file to return Odoo translation entries</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.translate.TranslationFileWriter">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">TranslationFileWriter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fileformat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'po'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lang</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#TranslationFileWriter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.TranslationFileWriter" title="Link to this definition"></a></dt>
<dd><p>Iterate over translation file to return Odoo translation entries</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.translate.TranslationImporter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">TranslationImporter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#TranslationImporter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.TranslationImporter" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Helper object for importing translation files to a database.
This class provides a convenient API to load the translations from many
files and import them all at once, which helps speeding up the whole import.</p>
<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.translate.TranslationImporter.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fileobj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fileformat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lang</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmlids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#TranslationImporter.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.TranslationImporter.load" title="Link to this definition"></a></dt>
<dd><p>Load translations from the given file object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fileobj</strong> – buffer open to a translation file</p></li>
<li><p><strong>fileformat</strong> – format of the <cite>fielobj</cite> file, one of ‘po’ or ‘csv’</p></li>
<li><p><strong>lang</strong> – language code of the translations contained in <cite>fileobj</cite>;
the language must be present and activated in the database</p></li>
<li><p><strong>xmlids</strong> – if given, only translations for records with xmlid in xmlids will be loaded</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.translate.TranslationImporter.load_file">
<span class="sig-name descname"><span class="pre">load_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lang</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmlids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#TranslationImporter.load_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.TranslationImporter.load_file" title="Link to this definition"></a></dt>
<dd><p>Load translations from the given file path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> – file path to open</p></li>
<li><p><strong>lang</strong> – language code of the translations contained in the file;
the language must be present and activated in the database</p></li>
<li><p><strong>xmlids</strong> – if given, only translations for records with xmlid in xmlids will be loaded</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.translate.TranslationImporter.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#TranslationImporter.save"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.TranslationImporter.save" title="Link to this definition"></a></dt>
<dd><p>Save translations to the database.</p>
<p>For a record with ‘noupdate’ in <code class="docutils literal notranslate"><span class="pre">ir_model_data</span></code>, its existing translations
will be overwritten if <code class="docutils literal notranslate"><span class="pre">force_overwrite</span> <span class="pre">or</span> <span class="pre">(not</span> <span class="pre">noupdate</span> <span class="pre">and</span> <span class="pre">overwrite)</span></code>.</p>
<p>An existing translation means:
* model translation: the <code class="docutils literal notranslate"><span class="pre">jsonb</span></code> value in database has the language code as key;
* model terms translation: the term value in the language is different from the term value in <code class="docutils literal notranslate"><span class="pre">en_US</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.translate.TranslationModuleReader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">TranslationModuleReader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modules</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lang</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#TranslationModuleReader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.TranslationModuleReader" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#odoo.tools.translate.TranslationReader" title="odoo.tools.translate.TranslationReader"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationReader</span></code></a></p>
<p>Retrieve translated records per module</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cr</strong> – cursor to database to export</p></li>
<li><p><strong>modules</strong> – list of modules to filter the exported terms, can be [‘all’]
records with no external id are always ignored</p></li>
<li><p><strong>lang</strong> – language code to retrieve the translations
retrieve source terms only if not set</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.translate.TranslationReader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">TranslationReader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lang</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#TranslationReader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.TranslationReader" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.translate.TranslationRecordReader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">TranslationRecordReader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lang</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#TranslationRecordReader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.TranslationRecordReader" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#odoo.tools.translate.TranslationReader" title="odoo.tools.translate.TranslationReader"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationReader</span></code></a></p>
<p>Retrieve translations for specified records, the reader will
1. create external ids for records without external ids
2. export translations for stored translated and inherited translated fields
:param cr: cursor to database to export
:param model_name: model_name for the records to export
:param ids: ids of the records to export
:param field_names: field names to export, if not set, export all translatable fields
:param lang: language code to retrieve the translations retrieve source terms only if not set</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.translate.UNIX_LINE_TERMINATOR">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">UNIX_LINE_TERMINATOR</span></span><a class="reference internal" href="_modules/odoo/tools/translate.html#UNIX_LINE_TERMINATOR"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.UNIX_LINE_TERMINATOR" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">excel</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="odoo.tools.translate.UNIX_LINE_TERMINATOR.lineterminator">
<span class="sig-name descname"><span class="pre">lineterminator</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'\n'</span></em><a class="headerlink" href="#odoo.tools.translate.UNIX_LINE_TERMINATOR.lineterminator" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.translate.babel_extract_qweb">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">babel_extract_qweb</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fileobj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keywords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment_tags</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#babel_extract_qweb"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.babel_extract_qweb" title="Link to this definition"></a></dt>
<dd><p>Babel message extractor for qweb template files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fileobj</strong> – the file-like object the messages should be extracted from</p></li>
<li><p><strong>keywords</strong> – a list of keywords (i.e. function names) that should
be recognized as translation functions</p></li>
<li><p><strong>comment_tags</strong> – a list of translator tags to search for and
include in the results</p></li>
<li><p><strong>options</strong> – a dictionary of additional options (optional)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>an iterator over <code class="docutils literal notranslate"><span class="pre">(lineno,</span> <span class="pre">funcname,</span> <span class="pre">message,</span> <span class="pre">comments)</span></code>
tuples</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Iterable</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.translate.encode">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">encode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#encode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.encode" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.translate.extract_formula_terms">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">extract_formula_terms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">formula</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#extract_formula_terms"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.extract_formula_terms" title="Link to this definition"></a></dt>
<dd><p>Extract strings in a spreadsheet formula which are arguments to ‘_t’ functions</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">extract_formula_terms</span><span class="p">(</span><span class="s1">&#39;=_t(&quot;Hello&quot;) + _t(&quot;Raoul&quot;)&#39;</span><span class="p">)</span>
<span class="go">[&quot;Hello&quot;, &quot;Raoul&quot;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.translate.extract_spreadsheet_terms">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">extract_spreadsheet_terms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fileobj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keywords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment_tags</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#extract_spreadsheet_terms"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.extract_spreadsheet_terms" title="Link to this definition"></a></dt>
<dd><p>Babel message extractor for spreadsheet data files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fileobj</strong> – the file-like object the messages should be extracted from</p></li>
<li><p><strong>keywords</strong> – a list of keywords (i.e. function names) that should
be recognized as translation functions</p></li>
<li><p><strong>comment_tags</strong> – a list of translator tags to search for and
include in the results</p></li>
<li><p><strong>options</strong> – a dictionary of additional options (optional)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>an iterator over <code class="docutils literal notranslate"><span class="pre">(lineno,</span> <span class="pre">funcname,</span> <span class="pre">message,</span> <span class="pre">comments)</span></code>
tuples</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.translate.get_locales">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">get_locales</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lang</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#get_locales"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.get_locales" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.translate.get_po_paths">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">get_po_paths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lang</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#get_po_paths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.get_po_paths" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.translate.get_text_content">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">get_text_content</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">term</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#get_text_content"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.get_text_content" title="Link to this definition"></a></dt>
<dd><p>Return the textual content of the given term.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.translate.html_term_converter">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">html_term_converter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#html_term_converter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.html_term_converter" title="Link to this definition"></a></dt>
<dd><p>Convert the HTML fragment <code class="docutils literal notranslate"><span class="pre">value</span></code> to XML if necessary</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.translate.html_translate">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">html_translate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">callback</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#html_translate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.html_translate" title="Link to this definition"></a></dt>
<dd><p>Translate an HTML value (string), using <cite>callback</cite> for translating text
appearing in <cite>value</cite>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.translate.is_text">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">is_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">term</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#is_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.is_text" title="Link to this definition"></a></dt>
<dd><p>Return whether the term has only text.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.translate.load_language">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">load_language</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lang</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#load_language"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.load_language" title="Link to this definition"></a></dt>
<dd><p>Loads a translation terms for a language.</p>
<p>Used mainly to automate language loading at db initialization.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cr</strong></p></li>
<li><p><strong>lang</strong> (<em>str</em>) – language ISO code with optional underscore (<code class="docutils literal notranslate"><span class="pre">_</span></code>) and
l10n flavor (ex: ‘fr’, ‘fr_BE’, but not ‘fr-BE’)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.translate.parse_html">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">parse_html</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#parse_html"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.parse_html" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.translate.parse_xml">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">parse_xml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#parse_xml"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.parse_xml" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.translate.quote">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">quote</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#quote"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.quote" title="Link to this definition"></a></dt>
<dd><p>Returns quoted PO term string, with special PO characters escaped</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.translate.resetlocale">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">resetlocale</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#resetlocale"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.resetlocale" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.translate.serialize_html">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">serialize_html</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#serialize_html"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.serialize_html" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.translate.serialize_xml">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">serialize_xml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#serialize_xml"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.serialize_xml" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.translate.trans_export">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">trans_export</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lang</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modules</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buffer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#trans_export"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.trans_export" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.translate.trans_export_records">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">trans_export_records</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lang</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buffer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#trans_export_records"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.trans_export_records" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.translate.trans_load">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">trans_load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lang</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#trans_load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.trans_load" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.translate.trans_load_data">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">trans_load_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fileobj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fileformat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lang</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#trans_load_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.trans_load_data" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.translate.translate_attrib_value">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">translate_attrib_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#translate_attrib_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.translate_attrib_value" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.translate.translate_sql_constraint">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">translate_sql_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lang</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#translate_sql_constraint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.translate_sql_constraint" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.translate.translate_xml_node">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">translate_xml_node</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parse</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">serialize</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#translate_xml_node"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.translate_xml_node" title="Link to this definition"></a></dt>
<dd><p>Return the translation of the given XML/HTML node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong></p></li>
<li><p><strong>callback</strong> – callback(text) returns translated text or None</p></li>
<li><p><strong>parse</strong> – parse(text) returns a node (text is unicode)</p></li>
<li><p><strong>serialize</strong> – serialize(node) returns unicode text</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.translate.unquote">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">unquote</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#unquote"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.unquote" title="Link to this definition"></a></dt>
<dd><p>Returns unquoted PO term string, with special PO characters unescaped</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.translate.xml_term_adapter">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">xml_term_adapter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">term_en</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#xml_term_adapter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.xml_term_adapter" title="Link to this definition"></a></dt>
<dd><p>Returns an <cite>adapter(term)</cite> function that will ensure the modifiers are copied
from the base <cite>term_en</cite> to the translated <cite>term</cite> when the XML structure of
both terms match. <cite>term_en</cite> and any input <cite>term</cite> to the adapter must be valid
XML terms. Using the adapter only makes sense if <cite>term_en</cite> contains some tags
from TRANSLATED_ELEMENTS.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.translate.xml_term_converter">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">xml_term_converter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#xml_term_converter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.xml_term_converter" title="Link to this definition"></a></dt>
<dd><p>Convert the HTML fragment <code class="docutils literal notranslate"><span class="pre">value</span></code> to XML if necessary</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.translate.xml_translate">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.translate.</span></span><span class="sig-name descname"><span class="pre">xml_translate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">callback</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/translate.html#xml_translate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.translate.xml_translate" title="Link to this definition"></a></dt>
<dd><p>Translate an XML value (string), using <cite>callback</cite> for translating text
appearing in <cite>value</cite>.</p>
</dd></dl>

</section>
<section id="module-odoo.tools.view_validation">
<span id="odoo-tools-view-validation-module"></span><h2>odoo.tools.view_validation module<a class="headerlink" href="#module-odoo.tools.view_validation" title="Link to this heading"></a></h2>
<p>View validation code (using assertions, not the RNG schema).</p>
<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.view_validation.get_dict_asts">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.view_validation.</span></span><span class="sig-name descname"><span class="pre">get_dict_asts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/view_validation.html#get_dict_asts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.view_validation.get_dict_asts" title="Link to this definition"></a></dt>
<dd><p>Check that the given string or AST node represents a dict expression
where all keys are string literals, and return it as a dict mapping string
keys to the AST of values.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.view_validation.get_domain_value_names">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.view_validation.</span></span><span class="sig-name descname"><span class="pre">get_domain_value_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">domain</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/view_validation.html#get_domain_value_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.view_validation.get_domain_value_names" title="Link to this definition"></a></dt>
<dd><p>Return all field name used by this domain
eg: [</p>
<blockquote>
<div><blockquote>
<div><p>(‘id’, ‘in’, [1, 2, 3]),
(‘field_a’, ‘in’, parent.truc),
(‘field_b’, ‘in’, context.get(‘b’)),
(1, ‘=’, 1),
bool(context.get(‘c’)),</p>
</div></blockquote>
<p>]
returns {‘id’, ‘field_a’, ‘field_b’}, {‘parent’, ‘parent.truc’, ‘context’}</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>domain</strong> – list(tuple) or str</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>set(str), set(str)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.view_validation.get_expression_field_names">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.view_validation.</span></span><span class="sig-name descname"><span class="pre">get_expression_field_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expression</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/view_validation.html#get_expression_field_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.view_validation.get_expression_field_names" title="Link to this definition"></a></dt>
<dd><p>Return all field name used by this expression</p>
<dl>
<dt>eg: expression = ‘’’(</dt><dd><blockquote>
<div><p>id in [1, 2, 3]
and field_a in parent.truc.id
and field_b in context.get(‘b’)
or (True and bool(context.get(‘c’)))</p>
</div></blockquote>
<p>)
returns {‘parent’, ‘parent.truc’, ‘parent.truc.id’, ‘context’, ‘context.get’}</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expression</strong> – str</p></li>
<li><p><strong>ignored</strong> – set contains the value name to ignore.
Add ‘.’ to ignore attributes (eg: {‘parent.’} will
ignore ‘parent.truc’ and ‘parent.truc.id’)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>set(str)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.view_validation.relaxng">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.view_validation.</span></span><span class="sig-name descname"><span class="pre">relaxng</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view_type</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/view_validation.html#relaxng"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.view_validation.relaxng" title="Link to this definition"></a></dt>
<dd><p>Return a validator for the given view type, or None.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.view_validation.schema_valid">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.view_validation.</span></span><span class="sig-name descname"><span class="pre">schema_valid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arch</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/view_validation.html#schema_valid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.view_validation.schema_valid" title="Link to this definition"></a></dt>
<dd><p>Get RNG validator and validate RNG file.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.view_validation.valid_view">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.view_validation.</span></span><span class="sig-name descname"><span class="pre">valid_view</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arch</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/view_validation.html#valid_view"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.view_validation.valid_view" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.view_validation.validate">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.view_validation.</span></span><span class="sig-name descname"><span class="pre">validate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">view_types</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/view_validation.html#validate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.view_validation.validate" title="Link to this definition"></a></dt>
<dd><p>Registers a view-validation function for the specific view types</p>
</dd></dl>

</section>
<section id="module-odoo.tools.which">
<span id="odoo-tools-which-module"></span><h2>odoo.tools.which module<a class="headerlink" href="#module-odoo.tools.which" title="Link to this heading"></a></h2>
<p>Which - locate a command</p>
<ul class="simple">
<li><p>adapted from Brian Curtin’s <a class="reference external" href="http://bugs.python.org/file15381/shutil_which.patch">http://bugs.python.org/file15381/shutil_which.patch</a></p></li>
<li><p>see <a class="reference external" href="http://bugs.python.org/issue444582">http://bugs.python.org/issue444582</a></p></li>
<li><p>uses <code class="docutils literal notranslate"><span class="pre">PATHEXT</span></code> on Windows</p></li>
<li><p>searches current directory before <code class="docutils literal notranslate"><span class="pre">PATH</span></code> on Windows,
but not before an explicitly passed path</p></li>
<li><p>accepts both string or iterable for an explicitly passed path, or pathext</p></li>
<li><p>accepts an explicitly passed empty path, or pathext (either ‘’ or [])</p></li>
<li><p>does not search <code class="docutils literal notranslate"><span class="pre">PATH</span></code> for files that have a path specified in their name already</p></li>
<li><p>moved defpath and defpathext lists initialization to module level,
instead of initializing them on each function call</p></li>
<li><p>changed interface: which_files() returns generator, which() returns first match,
or raises IOError(errno.ENOENT)</p></li>
</ul>
<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.which.which_files">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.which.</span></span><span class="sig-name descname"><span class="pre">which_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">mode=os.F_OK</span> <span class="pre">|</span> <span class="pre">os.X_OK</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">path=None</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">pathext=None</span></span></em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/which.html#which_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.which.which_files" title="Link to this definition"></a></dt>
<dd><p>Return a generator which yields full paths in which the <em>file</em> name exists
in a directory that is part of the file name, or on <em>path</em>,
and has the given <em>mode</em>.
By default, <em>mode</em> matches an inclusive OR of os.F_OK and os.X_OK - an 
existing executable file.
The <em>path</em> is, by default, the <code class="docutils literal notranslate"><span class="pre">PATH</span></code> variable on the platform,
or the string/iterable passed in as <em>path</em>.
In the event that a <code class="docutils literal notranslate"><span class="pre">PATH</span></code> variable is not found, <code class="xref py py-const docutils literal notranslate"><span class="pre">os.defpath</span></code> is used.
On Windows, a current directory is searched before using the <code class="docutils literal notranslate"><span class="pre">PATH</span></code> variable,
but not before an explicitly passed <em>path</em>.
The <em>pathext</em> is only used on Windows to match files with given extensions appended as well.
It defaults to the <code class="docutils literal notranslate"><span class="pre">PATHEXT</span></code> variable, or the string/iterable passed in as <em>pathext</em>.
In the event that a <code class="docutils literal notranslate"><span class="pre">PATHEXT</span></code> variable is not found,
default value for Windows XP/Vista is used.
The command is always searched without extension first,
even when <em>pathext</em> is explicitly passed.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.which.which">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.which.</span></span><span class="sig-name descname"><span class="pre">which</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">mode=os.F_OK</span> <span class="pre">|</span> <span class="pre">os.X_OK</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">path=None</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">pathext=None</span></span></em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/which.html#which"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.which.which" title="Link to this definition"></a></dt>
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">Return</span> <span class="pre">first</span> <span class="pre">match</span> <span class="pre">generated</span> <span class="pre">by</span> <span class="pre">which_files(file,</span> <span class="pre">mode,</span> <span class="pre">path,</span> <span class="pre">pathext),</span></span></dt>
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">or</span> <span class="pre">raise</span> <span class="pre">IOError(errno.ENOENT).</span></span></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="id0">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.which.</span></span><span class="sig-name descname"><span class="pre">which</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pathext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/which.html#which"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id0" title="Link to this definition"></a></dt>
<dd><p>Locate a file in a path supplied as a part of the file name,
or the user’s path, or a supplied path.
The function returns full path (not necessarily absolute path),
in which the given file name matches an existing file in a directory on the path,
or raises IOError(errno.ENOENT).</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># for doctest see which_files()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="id1">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.which.</span></span><span class="sig-name descname"><span class="pre">which_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pathext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/which.html#which_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id1" title="Link to this definition"></a></dt>
<dd><p>Locate a file in a path supplied as a part of the file name,
or the user’s path, or a supplied path.
The function yields full paths (not necessarily absolute paths),
in which the given file name matches an existing file in a directory on the path.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">test_which</span><span class="p">(</span><span class="n">expected</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">argd</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">result</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">which_files</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">argd</span><span class="p">))</span>
<span class="gp">... </span>    <span class="k">assert</span> <span class="n">result</span> <span class="o">==</span> <span class="n">expected</span><span class="p">,</span> <span class="s1">&#39;which_files: </span><span class="si">%s</span><span class="s1"> != </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">expected</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">result</span> <span class="o">=</span> <span class="p">[</span> <span class="n">which</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">argd</span><span class="p">)</span> <span class="p">]</span>
<span class="gp">... </span>    <span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">... </span>    <span class="k">assert</span> <span class="n">result</span><span class="p">[:</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">expected</span><span class="p">[:</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;which: </span><span class="si">%s</span><span class="s1"> != </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">result</span><span class="p">[:</span><span class="mi">1</span><span class="p">],</span> <span class="n">expected</span><span class="p">[:</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">windows</span><span class="p">:</span> <span class="n">cmd</span> <span class="o">=</span> <span class="n">environ</span><span class="p">[</span><span class="s1">&#39;COMSPEC&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">windows</span><span class="p">:</span> <span class="n">test_which</span><span class="p">([</span><span class="n">cmd</span><span class="p">],</span> <span class="s1">&#39;cmd&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">windows</span><span class="p">:</span> <span class="n">test_which</span><span class="p">([</span><span class="n">cmd</span><span class="p">],</span> <span class="s1">&#39;cmd.exe&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">windows</span><span class="p">:</span> <span class="n">test_which</span><span class="p">([</span><span class="n">cmd</span><span class="p">],</span> <span class="s1">&#39;cmd&#39;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">dirname</span><span class="p">(</span><span class="n">cmd</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">windows</span><span class="p">:</span> <span class="n">test_which</span><span class="p">([</span><span class="n">cmd</span><span class="p">],</span> <span class="s1">&#39;cmd&#39;</span><span class="p">,</span> <span class="n">pathext</span><span class="o">=</span><span class="s1">&#39;.exe&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">windows</span><span class="p">:</span> <span class="n">test_which</span><span class="p">([</span><span class="n">cmd</span><span class="p">],</span> <span class="n">cmd</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">windows</span><span class="p">:</span> <span class="n">test_which</span><span class="p">([</span><span class="n">cmd</span><span class="p">],</span> <span class="n">cmd</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s1">&#39;&lt;nonexistent&gt;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">windows</span><span class="p">:</span> <span class="n">test_which</span><span class="p">([</span><span class="n">cmd</span><span class="p">],</span> <span class="n">cmd</span><span class="p">,</span> <span class="n">pathext</span><span class="o">=</span><span class="s1">&#39;&lt;nonexistent&gt;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">windows</span><span class="p">:</span> <span class="n">test_which</span><span class="p">([</span><span class="n">cmd</span><span class="p">],</span> <span class="n">cmd</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">windows</span><span class="p">:</span> <span class="n">test_which</span><span class="p">([</span><span class="n">cmd</span><span class="p">],</span> <span class="n">cmd</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">],</span> <span class="n">path</span><span class="o">=</span><span class="s1">&#39;&lt;nonexistent&gt;&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">windows</span><span class="p">:</span> <span class="n">test_which</span><span class="p">([],</span> <span class="s1">&#39;cmd&#39;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s1">&#39;&lt;nonexistent&gt;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">windows</span><span class="p">:</span> <span class="n">test_which</span><span class="p">([],</span> <span class="s1">&#39;cmd&#39;</span><span class="p">,</span> <span class="n">pathext</span><span class="o">=</span><span class="s1">&#39;&lt;nonexistent&gt;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">windows</span><span class="p">:</span> <span class="n">test_which</span><span class="p">([],</span> <span class="s1">&#39;&lt;nonexistent&gt;/cmd&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">windows</span><span class="p">:</span> <span class="n">test_which</span><span class="p">([],</span> <span class="n">cmd</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">],</span> <span class="n">pathext</span><span class="o">=</span><span class="s1">&#39;&lt;nonexistent&gt;&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="ow">not</span> <span class="n">windows</span><span class="p">:</span> <span class="n">sh</span> <span class="o">=</span> <span class="s1">&#39;/bin/sh&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="ow">not</span> <span class="n">windows</span><span class="p">:</span> <span class="n">test_which</span><span class="p">([</span><span class="n">sh</span><span class="p">],</span> <span class="s1">&#39;sh&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="ow">not</span> <span class="n">windows</span><span class="p">:</span> <span class="n">test_which</span><span class="p">([</span><span class="n">sh</span><span class="p">],</span> <span class="s1">&#39;sh&#39;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">dirname</span><span class="p">(</span><span class="n">sh</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="ow">not</span> <span class="n">windows</span><span class="p">:</span> <span class="n">test_which</span><span class="p">([</span><span class="n">sh</span><span class="p">],</span> <span class="s1">&#39;sh&#39;</span><span class="p">,</span> <span class="n">pathext</span><span class="o">=</span><span class="s1">&#39;&lt;nonexistent&gt;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="ow">not</span> <span class="n">windows</span><span class="p">:</span> <span class="n">test_which</span><span class="p">([</span><span class="n">sh</span><span class="p">],</span> <span class="n">sh</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="ow">not</span> <span class="n">windows</span><span class="p">:</span> <span class="n">test_which</span><span class="p">([</span><span class="n">sh</span><span class="p">],</span> <span class="n">sh</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s1">&#39;&lt;nonexistent&gt;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="ow">not</span> <span class="n">windows</span><span class="p">:</span> <span class="n">test_which</span><span class="p">([</span><span class="n">sh</span><span class="p">],</span> <span class="n">sh</span><span class="p">,</span> <span class="n">pathext</span><span class="o">=</span><span class="s1">&#39;&lt;nonexistent&gt;&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="ow">not</span> <span class="n">windows</span><span class="p">:</span> <span class="n">test_which</span><span class="p">([],</span> <span class="s1">&#39;sh&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">W_OK</span><span class="p">)</span>  <span class="c1"># not running as root, are you?</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="ow">not</span> <span class="n">windows</span><span class="p">:</span> <span class="n">test_which</span><span class="p">([],</span> <span class="s1">&#39;sh&#39;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s1">&#39;&lt;nonexistent&gt;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="ow">not</span> <span class="n">windows</span><span class="p">:</span> <span class="n">test_which</span><span class="p">([],</span> <span class="s1">&#39;&lt;nonexistent&gt;/sh&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-odoo.tools.win32">
<span id="odoo-tools-win32-module"></span><h2>odoo.tools.win32 module<a class="headerlink" href="#module-odoo.tools.win32" title="Link to this heading"></a></h2>
</section>
<section id="module-odoo.tools.xml_utils">
<span id="odoo-tools-xml-utils-module"></span><h2>odoo.tools.xml_utils module<a class="headerlink" href="#module-odoo.tools.xml_utils" title="Link to this heading"></a></h2>
<p>Utilities for generating, parsing and checking XML/XSD files on top of the lxml.etree module.</p>
<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.xml_utils.cleanup_xml_node">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.xml_utils.</span></span><span class="sig-name descname"><span class="pre">cleanup_xml_node</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xml_node_or_string</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_blank_text</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_blank_nodes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indent_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indent_space</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'</span>&#160; <span class="pre">'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/xml_utils.html#cleanup_xml_node"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.xml_utils.cleanup_xml_node" title="Link to this definition"></a></dt>
<dd><p>Clean up the sub-tree of the provided XML node.</p>
<p>If the provided XML node is of type:
- etree._Element, it is modified in-place.
- string/bytes, it is first parsed into an etree._Element
:param xml_node_or_string (etree._Element, str): XML node (or its string/bytes representation)
:param remove_blank_text (bool): if True, removes whitespace-only text from nodes
:param remove_blank_nodes (bool): if True, removes leaf nodes with no text (iterative, depth-first, done after remove_blank_text)
:param indent_level (int): depth or level of node within root tree (use -1 to leave indentation as-is)
:param indent_space (str): string to use for indentation (use ‘’ to remove all indentation)
:returns (etree._Element): clean node, same instance that was received (if applicable)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.xml_utils.create_xml_node">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.xml_utils.</span></span><span class="sig-name descname"><span class="pre">create_xml_node</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent_node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/xml_utils.html#create_xml_node"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.xml_utils.create_xml_node" title="Link to this definition"></a></dt>
<dd><p>Create a new node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parent_node</strong> (<em>etree._Element</em>) – parent of the created node</p></li>
<li><p><strong>node_name</strong> (<em>str</em>) – name of the created node</p></li>
<li><p><strong>node_value</strong> (<em>str</em>) – value of the created node (optional)</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>etree._Element</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.xml_utils.create_xml_node_chain">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.xml_utils.</span></span><span class="sig-name descname"><span class="pre">create_xml_node_chain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">first_parent_node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">last_node_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/xml_utils.html#create_xml_node_chain"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.xml_utils.create_xml_node_chain" title="Link to this definition"></a></dt>
<dd><p>Generate a hierarchical chain of nodes.</p>
<p>Each new node being the child of the previous one based on the tags contained
in <cite>nodes_list</cite>, under the given node <cite>first_parent_node</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>first_parent_node</strong> (<em>etree._Element</em>) – parent of the created tree/chain</p></li>
<li><p><strong>nodes_list</strong> (<em>iterable</em><em>[</em><em>str</em><em>]</em>) – tag names to be created</p></li>
<li><p><strong>last_node_value</strong> (<em>str</em>) – if specified, set the last node’s text to this value</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the list of created nodes</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[etree._Element]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.xml_utils.find_xml_value">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.xml_utils.</span></span><span class="sig-name descname"><span class="pre">find_xml_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xml_element</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">namespaces</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/xml_utils.html#find_xml_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.xml_utils.find_xml_value" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.xml_utils.load_xsd_files_from_url">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.xml_utils.</span></span><span class="sig-name descname"><span class="pre">load_xsd_files_from_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_reload</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request_max_timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xsd_name_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xsd_names_filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modify_xsd_content</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/xml_utils.html#load_xsd_files_from_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.xml_utils.load_xsd_files_from_url" title="Link to this definition"></a></dt>
<dd><p>Load XSD file or ZIP archive. Save XSD files as ir.attachment.</p>
<p>An XSD attachment is saved as {xsd_name_prefix}.{filename} where the filename is either the filename obtained
from the URL or from the ZIP archive, or the <cite>file_name</cite> param if it is specified and a single XSD is being downloaded.
A typical prefix is the calling module’s name.</p>
<p>For ZIP archives, XSD files inside it will be saved as attachments, depending on the provided list of XSD names.
ZIP archive themselves are not saved.</p>
<p>The XSD files content can be modified by providing the <cite>modify_xsd_content</cite> function as argument.
Typically, this is used when XSD files depend on each other (with the schemaLocation attribute),
but it can be used for any purpose.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>env</strong> (<a class="reference internal" href="odoo.html#odoo.api.Environment" title="odoo.api.Environment"><em>odoo.api.Environment</em></a>) – environment of calling module</p></li>
<li><p><strong>url</strong> (<em>str</em>) – URL of XSD file/ZIP archive</p></li>
<li><p><strong>file_name</strong> (<em>str</em>) – used as attachment name if the URL leads to a single XSD, otherwise ignored</p></li>
<li><p><strong>force_reload</strong> (<em>bool</em>) – Deprecated.</p></li>
<li><p><strong>request_max_timeout</strong> (<em>int</em>) – maximum time (in seconds) before the request times out</p></li>
<li><p><strong>xsd_name_prefix</strong> (<em>str</em>) – if provided, will be added as a prefix to every XSD file name</p></li>
<li><p><strong>xsd_names_filter</strong> (<em>list</em><em> | </em><em>str</em>) – if provided, will only save the XSD files with these names</p></li>
<li><p><strong>modify_xsd_content</strong> (<em>func</em>) – function that takes the xsd content as argument and returns a modified version of it</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>odoo.api.ir.attachment | bool</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>every XSD attachment created/fetched or False if an error occurred (see warning logs)</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="odoo.tools.xml_utils.odoo_resolver">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">odoo.tools.xml_utils.</span></span><span class="sig-name descname"><span class="pre">odoo_resolver</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/xml_utils.html#odoo_resolver"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.xml_utils.odoo_resolver" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Resolver</span></code></p>
<p>Odoo specific file resolver that can be added to the XML Parser.</p>
<p>It will search filenames in the ir.attachments</p>
<dl class="py method">
<dt class="sig sig-object py" id="odoo.tools.xml_utils.odoo_resolver.resolve">
<span class="sig-name descname"><span class="pre">resolve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/xml_utils.html#odoo_resolver.resolve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.xml_utils.odoo_resolver.resolve" title="Link to this definition"></a></dt>
<dd><p>Search url in <code class="docutils literal notranslate"><span class="pre">ir.attachment</span></code> and return the resolved content.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.xml_utils.remove_control_characters">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.xml_utils.</span></span><span class="sig-name descname"><span class="pre">remove_control_characters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">byte_node</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/xml_utils.html#remove_control_characters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.xml_utils.remove_control_characters" title="Link to this definition"></a></dt>
<dd><p>The characters to be escaped are the control characters #x0 to #x1F and #x7F (most of which cannot appear in XML)
[…] XML processors must accept any character in the range specified for Char:
<cite>Char          :: =         #x9 | #xA | #xD | [#x20-#xD7FF] | [#xE000-#xFFFD] | [#x10000-#x10FFFF]</cite>
source:https://www.w3.org/TR/xml/</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="odoo.tools.xml_utils.validate_xml_from_attachment">
<span class="sig-prename descclassname"><span class="pre">odoo.tools.xml_utils.</span></span><span class="sig-name descname"><span class="pre">validate_xml_from_attachment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xml_content</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xsd_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reload_files_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/odoo/tools/xml_utils.html#validate_xml_from_attachment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#odoo.tools.xml_utils.validate_xml_from_attachment" title="Link to this definition"></a></dt>
<dd><p>Try and validate the XML content with an XSD attachment.
If the XSD attachment cannot be found in database, skip validation without raising.
If the skip_xsd context key is truthy, skip validation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>env</strong> (<a class="reference internal" href="odoo.html#odoo.api.Environment" title="odoo.api.Environment"><em>odoo.api.Environment</em></a>) – environment of calling module</p></li>
<li><p><strong>xml_content</strong> – the XML content to validate</p></li>
<li><p><strong>xsd_name</strong> – the XSD file name in database</p></li>
<li><p><strong>reload_files_function</strong> – Deprecated.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the result of the function <code class="xref py py-func docutils literal notranslate"><span class="pre">odoo.tools.xml_utils._check_with_xsd()</span></code></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-odoo.tools">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-odoo.tools" title="Link to this heading"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="odoo.tests.html" class="btn btn-neutral float-left" title="odoo.tests package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="odoo.tools.zeep.html" class="btn btn-neutral float-right" title="odoo.tools.zeep package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Amr.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>